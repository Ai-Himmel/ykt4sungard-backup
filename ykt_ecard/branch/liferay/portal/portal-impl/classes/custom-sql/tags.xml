<?xml version="1.0"?>

<custom-sql>
	<sql id="com.liferay.portlet.tags.service.persistence.TagsAssetFinder.countByAndEntryIds">
		<![CDATA[
			SELECT
				COUNT(DISTINCT TagsAsset.assetId) AS COUNT_VALUE
			FROM
				TagsAssets_TagsEntries
			WHERE
				entryId = ? [$DATES$] and assetId IN (
		]]>
	</sql>
	<sql id="com.liferay.portlet.tags.service.persistence.TagsAssetFinder.countByOrEntryIds">
		<![CDATA[
			SELECT
				COUNT(DISTINCT TagsAsset.assetId) AS COUNT_VALUE
			FROM
				TagsAsset
			INNER JOIN
				TagsAssets_TagsEntries ON
					(TagsAssets_TagsEntries.assetId = TagsAsset.assetId)
			INNER JOIN
				TagsEntry ON
					(TagsEntry.entryId = TagsAssets_TagsEntries.entryId)
			WHERE
				([$ENTRY_ID$]) [$NOT_ENTRY_ID$] [$DATES$]
		]]>
	</sql>
	<sql id="com.liferay.portlet.tags.service.persistence.TagsAssetFinder.findByAndEntryIds">
		<![CDATA[
			SELECT
				DISTINCT TagsAssets_TagsEntries.assetId
			FROM
				TagsAssets_TagsEntries
			WHERE
				entryId = ?
		]]>
	</sql>
	<sql id="com.liferay.portlet.tags.service.persistence.TagsAssetFinder.findByOrEntryIds">
		<![CDATA[
			SELECT
				DISTINCT {TagsAsset.*}
			FROM
				TagsAsset
			INNER JOIN
				TagsAssets_TagsEntries ON
					(TagsAssets_TagsEntries.assetId = TagsAsset.assetId)
			INNER JOIN
				TagsEntry ON
					(TagsEntry.entryId = TagsAssets_TagsEntries.entryId)
			WHERE
				([$ENTRY_ID$]) [$NOT_ENTRY_ID$] [$DATES$]
		]]>
	</sql>
	<sql id="com.liferay.portlet.tags.service.persistence.TagsAssetFinder.findByViewCount">
		<![CDATA[
			SELECT
				DISTINCT {TagsAsset.*}
			FROM
				TagsAsset
			WHERE
				(TagsAsset.viewCount > 0) AND
				(
					(TagsAsset.classNameId = ?)
				)
		]]>
	</sql>
	<sql id="com.liferay.portlet.tags.service.persistence.TagsEntryFinder.countByC_N_P">
		<![CDATA[
			SELECT
				COUNT(*) AS COUNT_VALUE
			FROM
				TagsEntry
			[$JOIN$]
			WHERE
				(TagsEntry.companyId = ?) AND
				(TagsEntry.name LIKE ? OR ? IS NULL)
		]]>
	</sql>
	<sql id="com.liferay.portlet.tags.service.persistence.TagsEntryFinder.findByC_N_P">
		<![CDATA[
			SELECT
				{TagsEntry.*}
			FROM
				TagsEntry
			[$JOIN$]
			WHERE
				(TagsEntry.companyId = ?) AND
				(TagsEntry.name LIKE ? OR ? IS NULL)
			ORDER BY
				TagsEntry.name ASC
		]]>
	</sql>
	<sql id="com.liferay.portlet.tags.service.persistence.TagsPropertyFinder.countByC_K">
		<![CDATA[
			SELECT
				COUNT(DISTINCT TagsProperty.value) AS COUNT_VALUE
			FROM
				TagsProperty
			WHERE
				(TagsProperty.companyId = ?) AND
				(TagsProperty.key_ = ?)
		]]>
	</sql>
	<sql id="com.liferay.portlet.tags.service.persistence.TagsPropertyFinder.findByC_K">
		<![CDATA[
			SELECT
				DISTINCT TagsProperty.value AS propertyValue
			FROM
				TagsProperty
			WHERE
				(TagsProperty.companyId = ?) AND
				(TagsProperty.key_ = ?)
			ORDER BY
				TagsProperty.value ASC
		]]>
	</sql>
	<sql id="com.liferay.portlet.tags.service.persistence.TagsPropertyKeyFinder.countByCompanyId">
		<![CDATA[
			SELECT
				COUNT(DISTINCT TagsProperty.key_) AS COUNT_VALUE
			FROM
				TagsProperty
			WHERE
				(TagsProperty.companyId = ?)
		]]>
	</sql>
	<sql id="com.liferay.portlet.tags.service.persistence.TagsPropertyKeyFinder.findByCompanyId">
		<![CDATA[
			SELECT
				DISTINCT TagsProperty.key_ AS propertyKey
			FROM
				TagsProperty
			WHERE
				(TagsProperty.companyId = ?)
			ORDER BY
				propertyKey ASC
		]]>
	</sql>
</custom-sql>
