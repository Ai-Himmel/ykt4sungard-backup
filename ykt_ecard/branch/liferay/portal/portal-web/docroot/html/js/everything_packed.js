(function(){if(typeof jQuery!="undefined"){var _jQuery=jQuery}var jQuery=window.jQuery=function(a,c){if(window==this||!this.init){return new jQuery(a,c)}return this.init(a,c)};if(typeof $!="undefined"){var _$=$}window.$=jQuery;var quickExpr=/^[^<]*(<(.|\s)+>)[^>]*$|^#(\w+)$/;jQuery.fn=jQuery.prototype={init:function(a,c){a=a||document;if(typeof a=="string"){var m=quickExpr.exec(a);if(m&&(m[1]||!c)){if(m[1]){a=jQuery.clean([m[1]])}else{var tmp=document.getElementById(m[3]);if(tmp){if(tmp.id!=m[3]){return jQuery().find(a)}else{this[0]=tmp;this.length=1;return this}}else{a=[]}}}else{return new jQuery(c).find(a)}}else{if(jQuery.isFunction(a)){return new jQuery(document)[jQuery.fn.ready?"ready":"load"](a)}}return this.setArray(a.constructor==Array&&a||(a.jquery||a.length&&a!=window&&!a.nodeType&&a[0]!=undefined&&a[0].nodeType)&&jQuery.makeArray(a)||[a])},jquery:"1.1.4",size:function(){return this.length},length:0,get:function(num){return num==undefined?jQuery.makeArray(this):this[num]},pushStack:function(a){var ret=jQuery(a);ret.prevObject=this;return ret},setArray:function(a){this.length=0;Array.prototype.push.apply(this,a);return this},each:function(fn,args){return jQuery.each(this,fn,args)},index:function(obj){var pos=-1;this.each(function(i){if(this==obj){pos=i}});return pos},attr:function(key,value,type){var obj=key;if(key.constructor==String){if(value==undefined){return this.length&&jQuery[type||"attr"](this[0],key)||undefined}else{obj={};obj[key]=value}}return this.each(function(index){for(var prop in obj){jQuery.attr(type?this.style:this,prop,jQuery.prop(this,obj[prop],type,index,prop))}})},css:function(key,value){return this.attr(key,value,"curCSS")},text:function(e){if(typeof e!="object"&&e!=null){return this.empty().append(document.createTextNode(e))}var t="";jQuery.each(e||this,function(){jQuery.each(this.childNodes,function(){if(this.nodeType!=8){t+=this.nodeType!=1?this.nodeValue:jQuery.fn.text([this])}})});return t},wrap:function(){var a,args=arguments;return this.each(function(){if(!a){a=jQuery.clean(args,this.ownerDocument)}var b=a[0].cloneNode(true);this.parentNode.insertBefore(b,this);while(b.firstChild){b=b.firstChild}b.appendChild(this)})},append:function(){return this.domManip(arguments,true,1,function(a){this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,-1,function(a){this.insertBefore(a,this.firstChild)})},before:function(){return this.domManip(arguments,false,1,function(a){this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,false,-1,function(a){this.parentNode.insertBefore(a,this.nextSibling)})},end:function(){return this.prevObject||jQuery([])},find:function(t){var data=jQuery.map(this,function(a){return jQuery.find(t,a)});return this.pushStack(/[^+>] [^+>]/.test(t)||t.indexOf("..")>-1?jQuery.unique(data):data)},clone:function(deep){deep=deep!=undefined?deep:true;var $this=this.add(this.find("*"));if(jQuery.browser.msie){$this.each(function(){this._$events={};for(var type in this.$events){this._$events[type]=jQuery.extend({},this.$events[type])}}).unbind()}var r=this.pushStack(jQuery.map(this,function(a){return a.cloneNode(deep)}));if(jQuery.browser.msie){$this.each(function(){var events=this._$events;for(var type in events){for(var handler in events[type]){jQuery.event.add(this,type,events[type][handler],events[type][handler].data)}}this._$events=null})}if(deep){var inputs=r.add(r.find("*")).filter("select,input[@type=checkbox]");$this.filter("select,input[@type=checkbox]").each(function(i){if(this.selectedIndex){inputs[i].selectedIndex=this.selectedIndex}if(this.checked){inputs[i].checked=true}})}return r},filter:function(t){return this.pushStack(jQuery.isFunction(t)&&jQuery.grep(this,function(el,index){return t.apply(el,[index])})||jQuery.multiFilter(t,this))},not:function(t){return this.pushStack(t.constructor==String&&jQuery.multiFilter(t,this,true)||jQuery.grep(this,function(a){return(t.constructor==Array||t.jquery)?jQuery.inArray(a,t)<0:a!=t}))},add:function(t){return this.pushStack(jQuery.merge(this.get(),t.constructor==String?jQuery(t).get():t.length!=undefined&&(!t.nodeName||t.nodeName=="FORM")?t:[t]))},is:function(expr){return expr?jQuery.multiFilter(expr,this).length>0:false},val:function(val){return val==undefined?(this.length?this[0].value:null):this.attr("value",val)},html:function(val){return val==undefined?(this.length?this[0].innerHTML:null):this.empty().append(val)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments))},domManip:function(args,table,dir,fn){var clone=this.length>1,a;return this.each(function(){if(!a){a=jQuery.clean(args,this.ownerDocument);if(dir<0){a.reverse()}}var obj=this;if(table&&jQuery.nodeName(this,"table")&&jQuery.nodeName(a[0],"tr")){obj=this.getElementsByTagName("tbody")[0]||this.appendChild(document.createElement("tbody"))}jQuery.each(a,function(){if(jQuery.nodeName(this,"script")){if(this.src){jQuery.ajax({url:this.src,async:false,dataType:"script"})}else{jQuery.globalEval(this.text||this.textContent||this.innerHTML||"")}}else{fn.apply(obj,[clone?this.cloneNode(true):this])}})})}};jQuery.extend=jQuery.fn.extend=function(){var target=arguments[0]||{},a=1,al=arguments.length,deep=false;if(target.constructor==Boolean){deep=target;target=arguments[1]||{}}if(al==1){target=this;a=0}var prop;for(;a<al;a++){if((prop=arguments[a])!=null){for(var i in prop){if(target==prop[i]){continue}if(deep&&typeof prop[i]=="object"&&target[i]){jQuery.extend(target[i],prop[i])}else{if(prop[i]!=undefined){target[i]=prop[i]}}}}}return target};jQuery.extend({noConflict:function(deep){window.$=_$;if(deep){window.jQuery=_jQuery}return jQuery},isFunction:function(fn){return !!fn&&typeof fn!="string"&&!fn.nodeName&&fn.constructor!=Array&&/function/i.test(fn+"")},isXMLDoc:function(elem){return elem.documentElement&&!elem.body||elem.tagName&&elem.ownerDocument&&!elem.ownerDocument.body},globalEval:function(data){data=jQuery.trim(data);if(data){if(window.execScript){window.execScript(data)}else{if(jQuery.browser.safari){window.setTimeout(data,0)}else{eval.call(window,data)}}}},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()==name.toUpperCase()},each:function(obj,fn,args){if(args){if(obj.length==undefined){for(var i in obj){fn.apply(obj[i],args)}}else{for(var i=0,ol=obj.length;i<ol;i++){if(fn.apply(obj[i],args)===false){break}}}}else{if(obj.length==undefined){for(var i in obj){fn.call(obj[i],i,obj[i])}}else{for(var i=0,ol=obj.length,val=obj[0];i<ol&&fn.call(val,i,val)!==false;val=obj[++i]){}}}return obj},prop:function(elem,value,type,index,prop){if(jQuery.isFunction(value)){value=value.call(elem,[index])}var exclude=/z-?index|font-?weight|opacity|zoom|line-?height/i;return value&&value.constructor==Number&&type=="curCSS"&&!exclude.test(prop)?value+"px":value},className:{add:function(elem,c){jQuery.each((c||"").split(/\s+/),function(i,cur){if(!jQuery.className.has(elem.className,cur)){elem.className+=(elem.className?" ":"")+cur}})},remove:function(elem,c){elem.className=c!=undefined?jQuery.grep(elem.className.split(/\s+/),function(cur){return !jQuery.className.has(c,cur)}).join(" "):""},has:function(t,c){return jQuery.inArray(c,(t.className||t).toString().split(/\s+/))>-1}},swap:function(e,o,f){for(var i in o){e.style["old"+i]=e.style[i];e.style[i]=o[i]}f.apply(e,[]);for(var i in o){e.style[i]=e.style["old"+i]}},css:function(e,p){if(p=="height"||p=="width"){var old={},oHeight,oWidth,d=["Top","Bottom","Right","Left"];jQuery.each(d,function(){old["padding"+this]=0;old["border"+this+"Width"]=0});jQuery.swap(e,old,function(){if(jQuery(e).is(":visible")){oHeight=e.offsetHeight;oWidth=e.offsetWidth}else{e=jQuery(e.cloneNode(true)).find(":radio").removeAttr("checked").end().css({visibility:"hidden",position:"absolute",display:"block",right:"0",left:"0"}).appendTo(e.parentNode)[0];var parPos=jQuery.css(e.parentNode,"position")||"static";if(parPos=="static"){e.parentNode.style.position="relative"}oHeight=e.clientHeight;oWidth=e.clientWidth;if(parPos=="static"){e.parentNode.style.position="static"}e.parentNode.removeChild(e)}});return p=="height"?oHeight:oWidth}return jQuery.curCSS(e,p)},curCSS:function(elem,prop,force){var ret,stack=[],swap=[];function color(a){if(!jQuery.browser.safari){return false}var ret=document.defaultView.getComputedStyle(a,null);return !ret||ret.getPropertyValue("color")==""}if(prop=="opacity"&&jQuery.browser.msie){ret=jQuery.attr(elem.style,"opacity");return ret==""?"1":ret}if(prop.match(/float/i)){prop=styleFloat}if(!force&&elem.style[prop]){ret=elem.style[prop]}else{if(document.defaultView&&document.defaultView.getComputedStyle){if(prop.match(/float/i)){prop="float"}prop=prop.replace(/([A-Z])/g,"-$1").toLowerCase();var cur=document.defaultView.getComputedStyle(elem,null);if(cur&&!color(elem)){ret=cur.getPropertyValue(prop)}else{for(var a=elem;a&&color(a);a=a.parentNode){stack.unshift(a)}for(a=0;a<stack.length;a++){if(color(stack[a])){swap[a]=stack[a].style.display;stack[a].style.display="block"}}ret=prop=="display"&&swap[stack.length-1]!=null?"none":document.defaultView.getComputedStyle(elem,null).getPropertyValue(prop)||"";for(a=0;a<swap.length;a++){if(swap[a]!=null){stack[a].style.display=swap[a]}}}if(prop=="opacity"&&ret==""){ret="1"}}else{if(elem.currentStyle){var newProp=prop.replace(/\-(\w)/g,function(m,c){return c.toUpperCase()});ret=elem.currentStyle[prop]||elem.currentStyle[newProp]}}}return ret},clean:function(a,doc){var r=[];doc=doc||document;jQuery.each(a,function(i,arg){if(!arg){return }if(arg.constructor==Number){arg=arg.toString()}if(typeof arg=="string"){var s=jQuery.trim(arg).toLowerCase(),div=doc.createElement("div"),tb=[];var wrap=!s.indexOf("<opt")&&[1,"<select>","</select>"]||!s.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||s.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!s.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!s.indexOf("<td")||!s.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!s.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||jQuery.browser.msie&&[1,"div<div>","</div>"]||[0,"",""];div.innerHTML=wrap[1]+arg+wrap[2];while(wrap[0]--){div=div.lastChild}if(jQuery.browser.msie){if(!s.indexOf("<table")&&s.indexOf("<tbody")<0){tb=div.firstChild&&div.firstChild.childNodes}else{if(wrap[1]=="<table>"&&s.indexOf("<tbody")<0){tb=div.childNodes}}for(var n=tb.length-1;n>=0;--n){if(jQuery.nodeName(tb[n],"tbody")&&!tb[n].childNodes.length){tb[n].parentNode.removeChild(tb[n])}}if(/^\s/.test(arg)){div.insertBefore(doc.createTextNode(arg.match(/^\s*/)[0]),div.firstChild)}}arg=jQuery.makeArray(div.childNodes)}if(0===arg.length&&(!jQuery.nodeName(arg,"form")&&!jQuery.nodeName(arg,"select"))){return }if(arg[0]==undefined||jQuery.nodeName(arg,"form")||arg.options){r.push(arg)}else{r=jQuery.merge(r,arg)}});return r},attr:function(elem,name,value){var fix=jQuery.isXMLDoc(elem)?{}:jQuery.props;if(name=="selected"&&jQuery.browser.safari){elem.parentNode.selectedIndex}if(fix[name]){if(value!=undefined){elem[fix[name]]=value}return elem[fix[name]]}else{if(jQuery.browser.msie&&name=="style"){return jQuery.attr(elem.style,"cssText",value)}else{if(value==undefined&&jQuery.browser.msie&&jQuery.nodeName(elem,"form")&&(name=="action"||name=="method")){return elem.getAttributeNode(name).nodeValue}else{if(elem.tagName){if(value!=undefined){elem.setAttribute(name,value)}if(jQuery.browser.msie&&/href|src/.test(name)&&!jQuery.isXMLDoc(elem)){return elem.getAttribute(name,2)}return elem.getAttribute(name)}else{if(name=="opacity"&&jQuery.browser.msie){if(value!=undefined){elem.zoom=1;elem.filter=(elem.filter||"").replace(/alpha\([^)]*\)/,"")+(parseFloat(value).toString()=="NaN"?"":"alpha(opacity="+value*100+")")}return elem.filter?(parseFloat(elem.filter.match(/opacity=([^)]*)/)[1])/100).toString():""}name=name.replace(/-([a-z])/ig,function(z,b){return b.toUpperCase()});if(value!=undefined){elem[name]=value}return elem[name]}}}}},trim:function(t){return(t||"").replace(/^\s+|\s+$/g,"")},makeArray:function(a){var r=[];if(typeof a!="array"){for(var i=0,al=a.length;i<al;i++){r.push(a[i])}}else{r=a.slice(0)}return r},inArray:function(b,a){for(var i=0,al=a.length;i<al;i++){if(a[i]==b){return i}}return -1},merge:function(first,second){if(jQuery.browser.msie){for(var i=0;second[i];i++){if(second[i].nodeType!=8){first.push(second[i])}}}else{for(var i=0;second[i];i++){first.push(second[i])}}return first},unique:function(first){var r=[],num=jQuery.mergeNum++;try{for(var i=0,fl=first.length;i<fl;i++){if(num!=first[i].mergeNum){first[i].mergeNum=num;r.push(first[i])}}}catch(e){r=first}return r},mergeNum:0,grep:function(elems,fn,inv){if(typeof fn=="string"){fn=eval("false||function(a,i){return "+fn+"}")}var result=[];for(var i=0,el=elems.length;i<el;i++){if(!inv&&fn(elems[i],i)||inv&&!fn(elems[i],i)){result.push(elems[i])}}return result},map:function(elems,fn){if(typeof fn=="string"){fn=eval("false||function(a){return "+fn+"}")}var result=[];for(var i=0,el=elems.length;i<el;i++){var val=fn(elems[i],i);if(val!==null&&val!=undefined){if(val.constructor!=Array){val=[val]}result=result.concat(val)}}return result}});var userAgent=navigator.userAgent.toLowerCase();jQuery.browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};var styleFloat=jQuery.browser.msie?"styleFloat":"cssFloat";jQuery.extend({boxModel:!jQuery.browser.msie||document.compatMode=="CSS1Compat",styleFloat:jQuery.browser.msie?"styleFloat":"cssFloat",props:{"for":"htmlFor","class":"className","float":styleFloat,cssFloat:styleFloat,styleFloat:styleFloat,innerHTML:"innerHTML",className:"className",value:"value",disabled:"disabled",checked:"checked",readonly:"readOnly",selected:"selected",maxlength:"maxLength"}});jQuery.each({parent:"a.parentNode",parents:"jQuery.parents(a)",next:"jQuery.nth(a,2,'nextSibling')",prev:"jQuery.nth(a,2,'previousSibling')",siblings:"jQuery.sibling(a.parentNode.firstChild,a)",children:"jQuery.sibling(a.firstChild)"},function(i,n){jQuery.fn[i]=function(a){var ret=jQuery.map(this,n);if(a&&typeof a=="string"){ret=jQuery.multiFilter(a,ret)}return this.pushStack(jQuery.unique(ret))}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after"},function(i,n){jQuery.fn[i]=function(){var a=arguments;return this.each(function(){for(var j=0,al=a.length;j<al;j++){jQuery(a[j])[n](this)}})}});jQuery.each({removeAttr:function(key){jQuery.attr(this,key,"");this.removeAttribute(key)},addClass:function(c){jQuery.className.add(this,c)},removeClass:function(c){jQuery.className.remove(this,c)},toggleClass:function(c){jQuery.className[jQuery.className.has(this,c)?"remove":"add"](this,c)},remove:function(a){if(!a||jQuery.filter(a,[this]).r.length){this.parentNode.removeChild(this)}},empty:function(){while(this.firstChild){this.removeChild(this.firstChild)}}},function(i,n){jQuery.fn[i]=function(){return this.each(n,arguments)}});jQuery.each(["eq","lt","gt","contains"],function(i,n){jQuery.fn[n]=function(num,fn){return this.filter(":"+n+"("+num+")",fn)}});jQuery.each(["height","width"],function(i,n){jQuery.fn[n]=function(h){return h==undefined?(this.length?jQuery.css(this[0],n):null):this.css(n,h.constructor==String?h:h+"px")}});var chars=jQuery.browser.safari&&parseInt(jQuery.browser.version)<417?"(?:[\\w*_-]|\\\\.)":"(?:[\\w?-?*_-]|\\\\.)",quickChild=new RegExp("^[/>]\\s*("+chars+"+)"),quickID=new RegExp("^("+chars+"+)(#)("+chars+"+)"),quickClass=new RegExp("^([#.]?)("+chars+"*)");jQuery.extend({expr:{"":"m[2]=='*'||jQuery.nodeName(a,m[2])","#":"a.getAttribute('id')==m[2]",":":{lt:"i<m[3]-0",gt:"i>m[3]-0",nth:"m[3]-0==i",eq:"m[3]-0==i",first:"i==0",last:"i==r.length-1",even:"i%2==0",odd:"i%2","first-child":"a.parentNode.getElementsByTagName('*')[0]==a","last-child":"jQuery.nth(a.parentNode.lastChild,1,'previousSibling')==a","only-child":"!jQuery.nth(a.parentNode.lastChild,2,'previousSibling')",parent:"a.firstChild",empty:"!a.firstChild",contains:"(a.textContent||a.innerText||'').indexOf(m[3])>=0",visible:"\"hidden\"!=a.type&&jQuery.css(a,\"display\")!=\"none\"&&jQuery.css(a,\"visibility\")!=\"hidden\"",hidden:"\"hidden\"==a.type||jQuery.css(a,\"display\")==\"none\"||jQuery.css(a,\"visibility\")==\"hidden\"",enabled:"!a.disabled",disabled:"a.disabled",checked:"a.checked",selected:"a.selected||jQuery.attr(a,'selected')",text:"'text'==a.type",radio:"'radio'==a.type",checkbox:"'checkbox'==a.type",file:"'file'==a.type",password:"'password'==a.type",submit:"'submit'==a.type",image:"'image'==a.type",reset:"'reset'==a.type",button:"\"button\"==a.type||jQuery.nodeName(a,\"button\")",input:"/input|select|textarea|button/i.test(a.nodeName)",has:"jQuery.find(m[3],a).length"},"[":"jQuery.find(m[2],a).length"},parse:[/^\[ *(@)([\w-]+) *([!*$^~=]*) *('?"?)(.*?)\4 *\]/,/^(\[)\s*(.*?(\[.*?\])?[^[]*?)\s*\]/,/^(:)([\w-]+)\("?'?(.*?(\(.*?\))?[^(]*?)"?'?\)/,new RegExp("^([:.#]*)("+chars+"+)")],multiFilter:function(expr,elems,not){var old,cur=[];while(expr&&expr!=old){old=expr;var f=jQuery.filter(expr,elems,not);expr=f.t.replace(/^\s*,\s*/,"");cur=not?elems=f.r:jQuery.merge(cur,f.r)}return cur},find:function(t,context){if(typeof t!="string"){return[t]}if(context&&!context.nodeType){context=null}context=context||document;if(!t.indexOf("//")){t=t.substr(2,t.length)}else{if(!t.indexOf("/")&&!context.ownerDocument){context=context.documentElement;t=t.substr(1,t.length);if(t.indexOf("/")>=1){t=t.substr(t.indexOf("/"),t.length)}}}var ret=[context],done=[],last;while(t&&last!=t){var r=[];last=t;t=jQuery.trim(t).replace(/^\/\//,"");var foundToken=false;var re=quickChild;var m=re.exec(t);if(m){var nodeName=m[1].toUpperCase();for(var i=0;ret[i];i++){for(var c=ret[i].firstChild;c;c=c.nextSibling){if(c.nodeType==1&&(nodeName=="*"||c.nodeName.toUpperCase()==nodeName.toUpperCase())){r.push(c)}}}ret=r;t=t.replace(re,"");if(t.indexOf(" ")==0){continue}foundToken=true}else{re=/^((\/?\.\.)|([>\/+~]))\s*(\w*)/i;if((m=re.exec(t))!=null){r=[];var nodeName=m[4],mergeNum=jQuery.mergeNum++;m=m[1];for(var j=0,rl=ret.length;j<rl;j++){if(m.indexOf("..")<0){var n=m=="~"||m=="+"?ret[j].nextSibling:ret[j].firstChild;for(;n;n=n.nextSibling){if(n.nodeType==1){if(m=="~"&&n.mergeNum==mergeNum){break}if(!nodeName||n.nodeName.toUpperCase()==nodeName.toUpperCase()){if(m=="~"){n.mergeNum=mergeNum}r.push(n)}if(m=="+"){break}}}}else{r.push(ret[j].parentNode)}}ret=r;t=jQuery.trim(t.replace(re,""));foundToken=true}}if(t&&!foundToken){if(!t.indexOf(",")){if(context==ret[0]){ret.shift()}done=jQuery.merge(done,ret);r=ret=[context];t=" "+t.substr(1,t.length)}else{var re2=quickID;var m=re2.exec(t);if(m){m=[0,m[2],m[3],m[1]]}else{re2=quickClass;m=re2.exec(t)}m[2]=m[2].replace(/\\/g,"");var elem=ret[ret.length-1];if(m[1]=="#"&&elem&&elem.getElementById&&!jQuery.isXMLDoc(elem)){var oid=elem.getElementById(m[2]);if((jQuery.browser.msie||jQuery.browser.opera)&&oid&&typeof oid.id=="string"&&oid.id!=m[2]){oid=jQuery("[@id=\""+m[2]+"\"]",elem)[0]}ret=r=oid&&(!m[3]||jQuery.nodeName(oid,m[3]))?[oid]:[]}else{for(var i=0;ret[i];i++){var tag=m[1]!=""||m[0]==""?"*":m[2];if(tag=="*"&&ret[i].nodeName.toLowerCase()=="object"){tag="param"}r=jQuery.merge(r,ret[i].getElementsByTagName(tag))}if(m[1]=="."){r=jQuery.classFilter(r,m[2])}if(m[1]=="#"){var tmp=[];for(var i=0;r[i];i++){if(r[i].getAttribute("id")==m[2]){tmp=[r[i]];break}}r=tmp}ret=r}t=t.replace(re2,"")}}if(t){var val=jQuery.filter(t,r);ret=r=val.r;t=jQuery.trim(val.t)}}if(t){ret=[]}if(ret&&context==ret[0]){ret.shift()}done=jQuery.merge(done,ret);return done},classFilter:function(r,m,not){m=" "+m+" ";var tmp=[];for(var i=0;r[i];i++){var pass=(" "+r[i].className+" ").indexOf(m)>=0;if(!not&&pass||not&&!pass){tmp.push(r[i])}}return tmp},filter:function(t,r,not){var last;while(t&&t!=last){last=t;var p=jQuery.parse,m;for(var i=0;p[i];i++){m=p[i].exec(t);if(m){t=t.substring(m[0].length);m[2]=m[2].replace(/\\/g,"");break}}if(!m){break}if(m[1]==":"&&m[2]=="not"){r=jQuery.filter(m[3],r,true).r}else{if(m[1]=="."){r=jQuery.classFilter(r,m[2],not)}else{if(m[1]=="@"){var tmp=[],type=m[3];for(var i=0,rl=r.length;i<rl;i++){var a=r[i],z=a[jQuery.props[m[2]]||m[2]];if(z==null||/href|src|selected/.test(m[2])){z=jQuery.attr(a,m[2])||""}if((type==""&&!!z||type=="="&&z==m[5]||type=="!="&&z!=m[5]||type=="^="&&z&&!z.indexOf(m[5])||type=="$="&&z.substr(z.length-m[5].length)==m[5]||(type=="*="||type=="~=")&&z.indexOf(m[5])>=0)^not){tmp.push(a)}}r=tmp}else{if(m[1]==":"&&m[2]=="nth-child"){var num=jQuery.mergeNum++,tmp=[],test=/(\d*)n\+?(\d*)/.exec(m[3]=="even"&&"2n"||m[3]=="odd"&&"2n+1"||!/\D/.test(m[3])&&"n+"+m[3]||m[3]),first=(test[1]||1)-0,last=test[2]-0;for(var i=0,rl=r.length;i<rl;i++){var node=r[i],parentNode=node.parentNode;if(num!=parentNode.mergeNum){var c=1;for(var n=parentNode.firstChild;n;n=n.nextSibling){if(n.nodeType==1){n.nodeIndex=c++}}parentNode.mergeNum=num}var add=false;if(first==1){if(last==0||node.nodeIndex==last){add=true}}else{if((node.nodeIndex+last)%first==0){add=true}}if(add^not){tmp.push(node)}}r=tmp}else{var f=jQuery.expr[m[1]];if(typeof f!="string"){f=jQuery.expr[m[1]][m[2]]}f=eval("false||function(a,i){return "+f+"}");r=jQuery.grep(r,f,not)}}}}}return{r:r,t:t}},parents:function(elem){var matched=[];var cur=elem.parentNode;while(cur&&cur!=document){matched.push(cur);cur=cur.parentNode}return matched},nth:function(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir]){if(cur.nodeType==1&&++num==result){break}}return cur},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType==1&&(!elem||n!=elem)){r.push(n)}}return r}});jQuery.event={add:function(element,type,handler,data){if(jQuery.browser.msie&&element.setInterval!=undefined){element=window}if(!handler.guid){handler.guid=this.guid++}if(data!=undefined){var fn=handler;handler=function(){return fn.apply(this,arguments)};handler.data=data;handler.guid=fn.guid}if(!element.$events){element.$events={}}if(!element.$handle){element.$handle=function(){var val;if(typeof jQuery=="undefined"||jQuery.event.triggered){return val}val=jQuery.event.handle.apply(element,arguments);return val}}var handlers=element.$events[type];if(!handlers){handlers=element.$events[type]={};if(element.addEventListener){element.addEventListener(type,element.$handle,false)}else{element.attachEvent("on"+type,element.$handle)}}handlers[handler.guid]=handler;this.global[type]=true},guid:1,global:{},remove:function(element,type,handler){var events=element.$events,ret,index;if(events){if(type&&type.type){handler=type.handler;type=type.type}if(!type){for(type in events){this.remove(element,type)}}else{if(events[type]){if(handler){delete events[type][handler.guid]}else{for(handler in element.$events[type]){delete events[type][handler]}}for(ret in events[type]){break}if(!ret){if(element.removeEventListener){element.removeEventListener(type,element.$handle,false)}else{element.detachEvent("on"+type,element.$handle)}ret=null;delete events[type]}}}for(ret in events){break}if(!ret){element.$handle=element.$events=null}}},trigger:function(type,data,element){data=jQuery.makeArray(data||[]);if(!element){if(this.global[type]){jQuery("*").add([window,document]).trigger(type,data)}}else{var val,ret,fn=jQuery.isFunction(element[type]||null);data.unshift(this.fix({type:type,target:element}));if(jQuery.isFunction(element.$handle)){val=element.$handle.apply(element,data)}if(!fn&&element["on"+type]&&element["on"+type].apply(element,data)===false){val=false}if(fn&&val!==false&&!(jQuery.nodeName(element,"a")&&type=="click")&&!(type=="focus"&&element.offsetHeight==0)){this.triggered=true;element[type]()}this.triggered=false}},handle:function(event){var val;event=jQuery.event.fix(event||window.event||{});var c=this.$events&&this.$events[event.type],args=Array.prototype.slice.call(arguments,1);args.unshift(event);for(var j in c){args[0].handler=c[j];args[0].data=c[j].data;if(c[j].apply(this,args)===false){event.preventDefault();event.stopPropagation();val=false}}if(jQuery.browser.msie){event.target=event.preventDefault=event.stopPropagation=event.handler=event.data=null}return val},fix:function(event){var originalEvent=event;event=jQuery.extend({},originalEvent);event.preventDefault=function(){if(originalEvent.preventDefault){originalEvent.preventDefault()}originalEvent.returnValue=false};event.stopPropagation=function(){if(originalEvent.stopPropagation){originalEvent.stopPropagation()}originalEvent.cancelBubble=true};if(!event.target&&event.srcElement){event.target=event.srcElement}if(jQuery.browser.safari&&event.target.nodeType==3){event.target=originalEvent.target.parentNode}if(!event.relatedTarget&&event.fromElement){event.relatedTarget=event.fromElement==event.target?event.toElement:event.fromElement}if(event.pageX==null&&event.clientX!=null){var e=document.documentElement,b=document.body;event.pageX=event.clientX+(e&&e.scrollLeft||b.scrollLeft||0);event.pageY=event.clientY+(e&&e.scrollTop||b.scrollTop||0)}if(!event.which&&(event.charCode||event.keyCode)){event.which=event.charCode||event.keyCode}if(!event.metaKey&&event.ctrlKey){event.metaKey=event.ctrlKey}if(!event.which&&event.button){event.which=(event.button&1?1:(event.button&2?3:(event.button&4?2:0)))}return event}};jQuery.fn.extend({bind:function(type,data,fn){return type=="unload"?this.one(type,data,fn):this.each(function(){jQuery.event.add(this,type,fn||data,fn&&data)})},one:function(type,data,fn){return this.each(function(){jQuery.event.add(this,type,function(event){jQuery(this).unbind(event);return(fn||data).apply(this,arguments)},fn&&data)})},unbind:function(type,fn){return this.each(function(){jQuery.event.remove(this,type,fn)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},toggle:function(){var a=arguments;return this.click(function(e){this.lastToggle=0==this.lastToggle?1:0;e.preventDefault();return a[this.lastToggle].apply(this,[e])||false})},hover:function(f,g){function handleHover(e){var p=e.relatedTarget;while(p&&p!=this){try{p=p.parentNode}catch(e){p=this}}if(p==this){return false}return(e.type=="mouseover"?f:g).apply(this,[e])}return this.mouseover(handleHover).mouseout(handleHover)},ready:function(f){bindReady();if(jQuery.isReady){f.apply(document,[jQuery])}else{jQuery.readyList.push(function(){return f.apply(this,[jQuery])})}return this}});jQuery.extend({isReady:false,readyList:[],ready:function(){if(!jQuery.isReady){jQuery.isReady=true;if(jQuery.readyList){jQuery.each(jQuery.readyList,function(){this.apply(document)});jQuery.readyList=null}if(jQuery.browser.mozilla||jQuery.browser.opera){document.removeEventListener("DOMContentLoaded",jQuery.ready,false)}if(!window.frames.length){jQuery(window).load(function(){jQuery("#__ie_init").remove()})}}}});jQuery.each(("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,change,select,submit,keydown,keypress,keyup,error").split(","),function(i,o){jQuery.fn[o]=function(f){return f?this.bind(o,f):this.trigger(o)}});var readyBound=false;function bindReady(){if(readyBound){return }readyBound=true;if(jQuery.browser.mozilla||jQuery.browser.opera){document.addEventListener("DOMContentLoaded",jQuery.ready,false)}else{if(jQuery.browser.msie){document.write("<script id=__ie_init defer=true src=//:></script>");var script=document.getElementById("__ie_init");if(script){script.onreadystatechange=function(){if(document.readyState!="complete"){return }jQuery.ready()}}script=null}else{if(jQuery.browser.safari){jQuery.safariTimer=setInterval(function(){if(document.readyState=="loaded"||document.readyState=="complete"){clearInterval(jQuery.safariTimer);jQuery.safariTimer=null;jQuery.ready()}},10)}}}jQuery.event.add(window,"load",jQuery.ready)}jQuery.fn.extend({loadIfModified:function(url,params,callback){this.load(url,params,callback,1)},load:function(url,params,callback,ifModified){if(jQuery.isFunction(url)){return this.bind("load",url)}callback=callback||function(){};var type="GET";if(params){if(jQuery.isFunction(params)){callback=params;params=null}else{params=jQuery.param(params);type="POST"}}var self=this;jQuery.ajax({url:url,type:type,data:params,ifModified:ifModified,complete:function(res,status){if(status=="success"||!ifModified&&status=="notmodified"){self.html(res.responseText)}setTimeout(function(){self.each(callback,[res.responseText,status,res])},13)}});return this},serialize:function(){return jQuery.param(this)},evalScripts:function(){}});jQuery.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(i,o){jQuery.fn[o]=function(f){return this.bind(o,f)}});jQuery.extend({get:function(url,data,callback,type,ifModified){if(jQuery.isFunction(data)){callback=data;data=null}return jQuery.ajax({type:"GET",url:url,data:data,success:callback,dataType:type,ifModified:ifModified})},getIfModified:function(url,data,callback,type){return jQuery.get(url,data,callback,type,1)},getScript:function(url,callback){return jQuery.get(url,null,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},post:function(url,data,callback,type){if(jQuery.isFunction(data)){callback=data;data={}}return jQuery.ajax({type:"POST",url:url,data:data,success:callback,dataType:type})},ajaxTimeout:function(timeout){jQuery.ajaxSettings.timeout=timeout},ajaxSetup:function(settings){jQuery.extend(jQuery.ajaxSettings,settings)},ajaxSettings:{global:true,type:"GET",timeout:0,contentType:"application/x-www-form-urlencoded",processData:true,async:true,data:null},lastModified:{},ajax:function(s){s=jQuery.extend(true,s,jQuery.extend(true,{},jQuery.ajaxSettings,s));if(s.data){if(s.processData&&typeof s.data!="string"){s.data=jQuery.param(s.data)}if(s.type.toLowerCase()=="get"){s.url+=(s.url.indexOf("?")>-1?"&":"?")+s.data;s.data=null}}if(s.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")}var requestDone=false;var xml=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest();xml.open(s.type,s.url,s.async);if(s.data){xml.setRequestHeader("Content-Type",s.contentType)}if(s.ifModified){xml.setRequestHeader("If-Modified-Since",jQuery.lastModified[s.url]||"Thu, 01 Jan 1970 00:00:00 GMT")}xml.setRequestHeader("X-Requested-With","XMLHttpRequest");if(s.beforeSend){s.beforeSend(xml)}if(s.global){jQuery.event.trigger("ajaxSend",[xml,s])}var onreadystatechange=function(isTimeout){if(!requestDone&&xml&&(xml.readyState==4||isTimeout=="timeout")){requestDone=true;if(ival){clearInterval(ival);ival=null}var status=isTimeout=="timeout"&&"timeout"||!jQuery.httpSuccess(xml)&&"error"||s.ifModified&&jQuery.httpNotModified(xml,s.url)&&"notmodified"||"success";if(status=="success"){try{var data=jQuery.httpData(xml,s.dataType)}catch(e){status="parsererror"}}if(status=="success"){var modRes;try{modRes=xml.getResponseHeader("Last-Modified")}catch(e){}if(s.ifModified&&modRes){jQuery.lastModified[s.url]=modRes}if(s.success){s.success(data,status)}if(s.global){jQuery.event.trigger("ajaxSuccess",[xml,s])}}else{jQuery.handleError(s,xml,status)}if(s.global){jQuery.event.trigger("ajaxComplete",[xml,s])}if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}if(s.complete){s.complete(xml,status)}if(s.async){xml=null}}};if(s.async){var ival=setInterval(onreadystatechange,13);if(s.timeout>0){setTimeout(function(){if(xml){xml.abort();if(!requestDone){onreadystatechange("timeout")}}},s.timeout)}}try{xml.send(s.data)}catch(e){jQuery.handleError(s,xml,null,e)}if(!s.async){onreadystatechange()}return xml},handleError:function(s,xml,status,e){if(s.error){s.error(xml,status,e)}if(s.global){jQuery.event.trigger("ajaxError",[xml,s,e])}},active:0,httpSuccess:function(r){try{return !r.status&&location.protocol=="file:"||(r.status>=200&&r.status<300)||r.status==304||jQuery.browser.safari&&r.status==undefined}catch(e){}return false},httpNotModified:function(xml,url){try{var xmlRes=xml.getResponseHeader("Last-Modified");return xml.status==304||xmlRes==jQuery.lastModified[url]||jQuery.browser.safari&&xml.status==undefined}catch(e){}return false},httpData:function(r,type){var ct=r.getResponseHeader("content-type");var xml=type=="xml"||!type&&ct&&ct.indexOf("xml")>=0;data=xml?r.responseXML:r.responseText;if(xml&&data.documentElement.tagName=="parsererror"){throw"parsererror"}if(type=="script"){jQuery.globalEval(data)}if(type=="json"){data=eval("("+data+")")}return data},param:function(a){var s=[];if(a.constructor==Array||a.jquery){jQuery.each(a,function(){s.push(encodeURIComponent(this.name)+"="+encodeURIComponent(this.value))})}else{for(var j in a){if(a[j]&&a[j].constructor==Array){jQuery.each(a[j],function(){s.push(encodeURIComponent(j)+"="+encodeURIComponent(this))})}else{s.push(encodeURIComponent(j)+"="+encodeURIComponent(a[j]))}}}return s.join("&")}});jQuery.fn.extend({show:function(speed,callback){return speed?this.animate({height:"show",width:"show",opacity:"show"},speed,callback):this.filter(":hidden").each(function(){this.style.display=this.oldblock?this.oldblock:"";if(jQuery.css(this,"display")=="none"){this.style.display="block"}}).end()},hide:function(speed,callback){return speed?this.animate({height:"hide",width:"hide",opacity:"hide"},speed,callback):this.filter(":visible").each(function(){this.oldblock=this.oldblock||jQuery.css(this,"display");if(this.oldblock=="none"){this.oldblock="block"}this.style.display="none"}).end()},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2){return jQuery.isFunction(fn)&&jQuery.isFunction(fn2)?this._toggle(fn,fn2):fn?this.animate({height:"toggle",width:"toggle",opacity:"toggle"},fn,fn2):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?"show":"hide"]()})},slideDown:function(speed,callback){return this.animate({height:"show"},speed,callback)},slideUp:function(speed,callback){return this.animate({height:"hide"},speed,callback)},slideToggle:function(speed,callback){return this.animate({height:"toggle"},speed,callback)},fadeIn:function(speed,callback){return this.animate({opacity:"show"},speed,callback)},fadeOut:function(speed,callback){return this.animate({opacity:"hide"},speed,callback)},fadeTo:function(speed,to,callback){return this.animate({opacity:to},speed,callback)},animate:function(prop,speed,easing,callback){return this.queue(function(){var hidden=jQuery(this).is(":hidden"),opt=jQuery.speed(speed,easing,callback),self=this;for(var p in prop){if(prop[p]=="hide"&&hidden||prop[p]=="show"&&!hidden){return jQuery.isFunction(opt.complete)&&opt.complete.apply(this)}if(p=="height"||p=="width"){opt.display=jQuery.css(this,"display");opt.overflow=this.style.overflow}}if(opt.overflow!=null){this.style.overflow="hidden"}this.curAnim=jQuery.extend({},prop);jQuery.each(prop,function(name,val){var e=new jQuery.fx(self,opt,name);if(val.constructor==Number){e.custom(e.cur()||0,val)}else{e[val=="toggle"?hidden?"show":"hide":val](prop)}});return true})},queue:function(type,fn){if(!fn){fn=type;type="fx"}return this.each(function(){if(!this.queue){this.queue={}}if(!this.queue[type]){this.queue[type]=[]}this.queue[type].push(fn);if(this.queue[type].length==1){fn.apply(this)}})}});jQuery.extend({speed:function(speed,easing,fn){var opt=speed&&speed.constructor==Object?speed:{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&easing.constructor!=Function&&easing};opt.duration=(opt.duration&&opt.duration.constructor==Number?opt.duration:{slow:600,fast:200}[opt.duration])||400;opt.old=opt.complete;opt.complete=function(){jQuery.dequeue(this,"fx");if(jQuery.isFunction(opt.old)){opt.old.apply(this)}};return opt},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p},swing:function(p,n,firstNum,diff){return((-Math.cos(p*Math.PI)/2)+0.5)*diff+firstNum}},queue:{},dequeue:function(elem,type){type=type||"fx";if(elem.queue&&elem.queue[type]){elem.queue[type].shift();var f=elem.queue[type][0];if(f){f.apply(elem)}}},timers:[],fx:function(elem,options,prop){var z=this;var y=elem.style;z.a=function(){if(options.step){options.step.apply(elem,[z.now])}if(prop=="opacity"){jQuery.attr(y,"opacity",z.now)}else{y[prop]=parseInt(z.now)+"px";if(prop=="height"||prop=="width"){y.display="block"}}};z.max=function(){return parseFloat(jQuery.css(elem,prop))};z.cur=function(){var r=parseFloat(jQuery.curCSS(elem,prop));return r&&r>-10000?r:z.max()};z.custom=function(from,to){z.startTime=(new Date()).getTime();z.now=from;z.a();jQuery.timers.push(function(){return z.step(from,to)});if(jQuery.timers.length==1){var timer=setInterval(function(){var timers=jQuery.timers;for(var i=0;i<timers.length;i++){if(!timers[i]()){timers.splice(i--,1)}}if(!timers.length){clearInterval(timer)}},13)}};z.show=function(){if(!elem.orig){elem.orig={}}elem.orig[prop]=jQuery.attr(elem.style,prop);options.show=true;z.custom(0,this.cur());if(prop!="opacity"){y[prop]="1px"}jQuery(elem).show()};z.hide=function(){if(!elem.orig){elem.orig={}}elem.orig[prop]=jQuery.attr(elem.style,prop);options.hide=true;z.custom(this.cur(),0)};z.step=function(firstNum,lastNum){var t=(new Date()).getTime();if(t>options.duration+z.startTime){z.now=lastNum;z.a();if(elem.curAnim){elem.curAnim[prop]=true}var done=true;for(var i in elem.curAnim){if(elem.curAnim[i]!==true){done=false}}if(done){if(options.display!=null){y.overflow=options.overflow;y.display=options.display;if(jQuery.css(elem,"display")=="none"){y.display="block"}}if(options.hide){y.display="none"}if(options.hide||options.show){for(var p in elem.curAnim){jQuery.attr(y,p,elem.orig[p])}}}if(done&&jQuery.isFunction(options.complete)){options.complete.apply(elem)}return false}else{var n=t-this.startTime;var p=n/options.duration;z.now=jQuery.easing[options.easing||(jQuery.easing.swing?"swing":"linear")](p,n,firstNum,(lastNum-firstNum),options.duration);z.a()}return true}}})})();jQuery.cookie=function(B,I,L){if(typeof I!="undefined"){L=L||{};var E="";if(L.expires&&(typeof L.expires=="number"||L.expires.toGMTString)){var F;if(typeof L.expires=="number"){F=new Date();F.setTime(F.getTime()+(L.expires*24*60*60*1000))}else{F=L.expires}E="; expires="+F.toGMTString()}var K=L.path?"; path="+L.path:"";var G=L.domain?"; domain="+L.domain:"";var A=L.secure?"; secure":"";document.cookie=[B,"=",encodeURIComponent(I),E,K,G,A].join("")}else{var D=null;if(document.cookie&&document.cookie!=""){var J=document.cookie.split(";");for(var H=0;H<J.length;H++){var C=jQuery.trim(J[H]);if(C.substring(0,B.length+1)==(B+"=")){D=decodeURIComponent(C.substring(B.length+1));break}}}return D}};(function(G){var A=G.fn.height,E=G.fn.width;G.fn.extend({height:function(){if(!this[0]){D()}if(this[0]==window){if((G.browser.mozilla||G.browser.opera)&&G(document).width()>self.innerWidth){return self.innerHeight-B()}else{return self.innerHeight||G.boxModel&&document.documentElement.clientHeight||document.body.clientHeight}}if(this[0]==document){return Math.max(document.body.scrollHeight,document.body.offsetHeight)}return A.apply(this,arguments)},width:function(){if(!this[0]){D()}if(this[0]==window){if((G.browser.mozilla||G.browser.opera)&&G(document).height()>self.innerHeight){return self.innerWidth-B()}else{return self.innerWidth||G.boxModel&&document.documentElement.clientWidth||document.body.clientWidth}}if(this[0]==document){if(G.browser.mozilla){var J=self.pageXOffset;self.scrollTo(99999999,self.pageYOffset);var I=self.pageXOffset;self.scrollTo(J,self.pageYOffset);return document.body.offsetWidth+I}else{return Math.max(document.body.scrollWidth,document.body.offsetWidth)}}return E.apply(this,arguments)},innerHeight:function(){if(!this[0]){D()}return this[0]==window||this[0]==document?this.height():this.is(":visible")?this[0].offsetHeight-C(this,"borderTopWidth")-C(this,"borderBottomWidth"):this.height()+C(this,"paddingTop")+C(this,"paddingBottom")},innerWidth:function(){if(!this[0]){D()}return this[0]==window||this[0]==document?this.width():this.is(":visible")?this[0].offsetWidth-C(this,"borderLeftWidth")-C(this,"borderRightWidth"):this.width()+C(this,"paddingLeft")+C(this,"paddingRight")},outerHeight:function(I){if(!this[0]){D()}I=G.extend({margin:false},I||{});return this[0]==window||this[0]==document?this.height():this.is(":visible")?this[0].offsetHeight+(I.margin?(C(this,"marginTop")+C(this,"marginBottom")):0):this.height()+C(this,"borderTopWidth")+C(this,"borderBottomWidth")+C(this,"paddingTop")+C(this,"paddingBottom")+(I.margin?(C(this,"marginTop")+C(this,"marginBottom")):0)},outerWidth:function(I){if(!this[0]){D()}I=G.extend({margin:false},I||{});return this[0]==window||this[0]==document?this.width():this.is(":visible")?this[0].offsetWidth+(I.margin?(C(this,"marginLeft")+C(this,"marginRight")):0):this.width()+C(this,"borderLeftWidth")+C(this,"borderRightWidth")+C(this,"paddingLeft")+C(this,"paddingRight")+(I.margin?(C(this,"marginLeft")+C(this,"marginRight")):0)},scrollLeft:function(I){if(!this[0]){D()}if(I!=undefined){return this.each(function(){if(this==window||this==document){window.scrollTo(I,G(window).scrollTop())}else{this.scrollLeft=I}})}if(this[0]==window||this[0]==document){return self.pageXOffset||G.boxModel&&document.documentElement.scrollLeft||document.body.scrollLeft}return this[0].scrollLeft},scrollTop:function(I){if(!this[0]){D()}if(I!=undefined){return this.each(function(){if(this==window||this==document){window.scrollTo(G(window).scrollLeft(),I)}else{this.scrollTop=I}})}if(this[0]==window||this[0]==document){return self.pageYOffset||G.boxModel&&document.documentElement.scrollTop||document.body.scrollTop}return this[0].scrollTop},position:function(I){return this.offset({margin:false,scroll:false,relativeTo:this.offsetParent()},I)},offset:function(J,P){if(!this[0]){D()}var O=0,N=0,X=0,S=0,Y=this[0],M=this[0],L,I,W=G.css(Y,"position"),V=G.browser.mozilla,Q=G.browser.msie,U=G.browser.opera,c=G.browser.safari,K=G.browser.safari&&parseInt(G.browser.version)>520,R=false,T=false,J=G.extend({margin:true,border:false,padding:false,scroll:true,lite:false,relativeTo:document.body},J||{});if(J.lite){return this.offsetLite(J,P)}if(J.relativeTo.jquery){J.relativeTo=J.relativeTo[0]}if(Y.tagName=="BODY"){O=Y.offsetLeft;N=Y.offsetTop;if(V){O+=C(Y,"marginLeft")+(C(Y,"borderLeftWidth")*2);N+=C(Y,"marginTop")+(C(Y,"borderTopWidth")*2)}else{if(U){O+=C(Y,"marginLeft");N+=C(Y,"marginTop")}else{if((Q&&jQuery.boxModel)){O+=C(Y,"borderLeftWidth");N+=C(Y,"borderTopWidth")}else{if(K){O+=C(Y,"marginLeft")+C(Y,"borderLeftWidth");N+=C(Y,"marginTop")+C(Y,"borderTopWidth")}}}}}else{do{I=G.css(M,"position");O+=M.offsetLeft;N+=M.offsetTop;if(V||Q||K){O+=C(M,"borderLeftWidth");N+=C(M,"borderTopWidth");if(V&&I=="absolute"){R=true}if(Q&&I=="relative"){T=true}}L=M.offsetParent||document.body;if(J.scroll||V){do{if(J.scroll){X+=M.scrollLeft;S+=M.scrollTop}if(U&&(G.css(M,"display")||"").match(/table-row|inline/)){X=X-((M.scrollLeft==M.offsetLeft)?M.scrollLeft:0);S=S-((M.scrollTop==M.offsetTop)?M.scrollTop:0)}if(V&&M!=Y&&G.css(M,"overflow")!="visible"){O+=C(M,"borderLeftWidth");N+=C(M,"borderTopWidth")}M=M.parentNode}while(M!=L)}M=L;if(M==J.relativeTo&&!(M.tagName=="BODY"||M.tagName=="HTML")){if(V&&M!=Y&&G.css(M,"overflow")!="visible"){O+=C(M,"borderLeftWidth");N+=C(M,"borderTopWidth")}if(((c&&!K)||U)&&I!="static"){O-=C(L,"borderLeftWidth");N-=C(L,"borderTopWidth")}break}if(M.tagName=="BODY"||M.tagName=="HTML"){if(((c&&!K)||(Q&&G.boxModel))&&W!="absolute"&&W!="fixed"){O+=C(M,"marginLeft");N+=C(M,"marginTop")}if(K||(V&&!R&&W!="fixed")||(Q&&W=="static"&&!T)){O+=C(M,"borderLeftWidth");N+=C(M,"borderTopWidth")}break}}while(M)}var Z=H(Y,J,O,N,X,S);if(P){G.extend(P,Z);return this}else{return Z}},offsetLite:function(Q,L){if(!this[0]){D()}var N=0,M=0,K=0,P=0,O=this[0],J,Q=G.extend({margin:true,border:false,padding:false,scroll:true,relativeTo:document.body},Q||{});if(Q.relativeTo.jquery){Q.relativeTo=Q.relativeTo[0]}do{N+=O.offsetLeft;M+=O.offsetTop;J=O.offsetParent||document.body;if(Q.scroll){do{K+=O.scrollLeft;P+=O.scrollTop;O=O.parentNode}while(O!=J)}O=J}while(O&&O.tagName!="BODY"&&O.tagName!="HTML"&&O!=Q.relativeTo);var I=H(this[0],Q,N,M,K,P);if(L){G.extend(L,I);return this}else{return I}},offsetParent:function(){if(!this[0]){D()}var I=this[0].offsetParent;while(I&&(I.tagName!="BODY"&&G.css(I,"position")=="static")){I=I.offsetParent}return G(I)}});var D=function(){throw"Dimensions: jQuery collection is empty"};var C=function(I,J){return parseInt(G.css(I.jquery?I[0]:I,J))||0};var H=function(M,L,J,N,I,K){if(!L.margin){J-=C(M,"marginLeft");N-=C(M,"marginTop")}if(L.border&&((G.browser.safari&&parseInt(G.browser.version)<520)||G.browser.opera)){J+=C(M,"borderLeftWidth");N+=C(M,"borderTopWidth")}else{if(!L.border&&!((G.browser.safari&&parseInt(G.browser.version)<520)||G.browser.opera)){J-=C(M,"borderLeftWidth");N-=C(M,"borderTopWidth")}}if(L.padding){J+=C(M,"paddingLeft");N+=C(M,"paddingTop")}if(L.scroll&&(!G.browser.opera||M.offsetLeft!=M.scrollLeft&&M.offsetTop!=M.scrollLeft)){I-=M.scrollLeft;K-=M.scrollTop}return L.scroll?{top:N-K,left:J-I,scrollTop:K,scrollLeft:I}:{top:N,left:J}};var F=0;var B=function(){if(!F){var I=G("<div>").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1000,left:-1000}).appendTo("body");F=100-I.append("<div>").find("div").css({width:"100%",height:200}).width();I.remove()}return F}})(jQuery);(function(A){A.fn.hoverIntent=function(I,H){var J={sensitivity:7,interval:100,timeout:0};J=A.extend(J,H?{over:I,out:H}:I);var L,K,F,D;var E=function(M){L=M.pageX;K=M.pageY};var C=function(N,M){M.hoverIntent_t=clearTimeout(M.hoverIntent_t);if((Math.abs(F-L)+Math.abs(D-K))<J.sensitivity){A(M).unbind("mousemove",E);M.hoverIntent_s=1;return J.over.apply(M,[N])}else{F=L;D=K;M.hoverIntent_t=setTimeout(function(){C(N,M)},J.interval)}};var G=function(N,M){M.hoverIntent_t=clearTimeout(M.hoverIntent_t);M.hoverIntent_s=0;return J.out.apply(M,[N])};var B=function(P){var O=(P.type=="mouseover"?P.fromElement:P.toElement)||P.relatedTarget;while(O&&O!=this){try{O=O.parentNode}catch(P){O=this}}if(O==this){return false}var N=jQuery.extend({},P);var M=this;if(M.hoverIntent_t){M.hoverIntent_t=clearTimeout(M.hoverIntent_t)}if(P.type=="mouseover"){F=N.pageX;D=N.pageY;A(M).bind("mousemove",E);if(M.hoverIntent_s!=1){M.hoverIntent_t=setTimeout(function(){C(N,M)},J.interval)}}else{A(M).unbind("mousemove",E);if(M.hoverIntent_s==1){M.hoverIntent_t=setTimeout(function(){G(N,M)},J.timeout)}}};return this.mouseover(B).mouseout(B)}})(jQuery);jQuery.iAccordion={build:function(A){return this.each(function(){if(!A.headerSelector||!A.panelSelector){return }var B=this;B.accordionCfg={panelHeight:A.panelHeight||300,headerSelector:A.headerSelector,panelSelector:A.panelSelector,activeClass:A.activeClass||"fakeAccordionClass",hoverClass:A.hoverClass||"fakeAccordionClass",onShow:A.onShow&&typeof A.onShow=="function"?A.onShow:false,onHide:A.onShow&&typeof A.onHide=="function"?A.onHide:false,onClick:A.onClick&&typeof A.onClick=="function"?A.onClick:false,headers:jQuery(A.headerSelector,this),panels:jQuery(A.panelSelector,this),speed:A.speed||400,currentPanel:A.currentPanel||0};B.accordionCfg.panels.hide().css("height","1px").eq(0).css({height:B.accordionCfg.panelHeight+"px",display:"block"}).end();B.accordionCfg.headers.each(function(C){this.accordionPos=C}).hover(function(){jQuery(this).addClass(B.accordionCfg.hoverClass)},function(){jQuery(this).removeClass(B.accordionCfg.hoverClass)}).bind("click",function(C){if(B.accordionCfg.currentPanel==this.accordionPos){return }B.accordionCfg.headers.eq(B.accordionCfg.currentPanel).removeClass(B.accordionCfg.activeClass).end().eq(this.accordionPos).addClass(B.accordionCfg.activeClass).end();B.accordionCfg.panels.eq(B.accordionCfg.currentPanel).animate({height:0},B.accordionCfg.speed,function(){this.style.display="none";if(B.accordionCfg.onHide){B.accordionCfg.onHide.apply(B,[this])}}).end().eq(this.accordionPos).show().animate({height:B.accordionCfg.panelHeight},B.accordionCfg.speed,function(){this.style.display="block";if(B.accordionCfg.onShow){B.accordionCfg.onShow.apply(B,[this])}}).end();if(B.accordionCfg.onClick){B.accordionCfg.onClick.apply(B,[this,B.accordionCfg.panels.get(this.accordionPos),B.accordionCfg.headers.get(B.accordionCfg.currentPanel),B.accordionCfg.panels.get(B.accordionCfg.currentPanel)])}B.accordionCfg.currentPanel=this.accordionPos}).eq(0).addClass(B.accordionCfg.activeClass).end();jQuery(this).css("height",jQuery(this).css("height")).css("overflow","hidden")})}};jQuery.fn.Accordion=jQuery.iAccordion.build;jQuery.iCarousel={build:function(A){return this.each(function(){var E=this;var B=2*Math.PI/360;var C=2*Math.PI;if(jQuery(E).css("position")!="relative"&&jQuery(E).css("position")!="absolute"){jQuery(E).css("position","relative")}E.carouselCfg={items:jQuery(A.items,this),itemWidth:A.itemWidth,itemHeight:A.itemHeight,itemMinWidth:A.itemMinWidth,maxRotation:C,size:jQuery.iUtil.getSize(this),position:jQuery.iUtil.getPosition(this),start:Math.PI/2,rotationSpeed:A.rotationSpeed,reflectionSize:A.reflections,reflections:[],protectRotation:false,increment:2*Math.PI/360};E.carouselCfg.radiusX=(E.carouselCfg.size.w-E.carouselCfg.itemWidth)/2;E.carouselCfg.radiusY=(E.carouselCfg.size.h-E.carouselCfg.itemHeight-E.carouselCfg.itemHeight*E.carouselCfg.reflectionSize)/2;E.carouselCfg.step=2*Math.PI/E.carouselCfg.items.size();E.carouselCfg.paddingX=E.carouselCfg.size.w/2;E.carouselCfg.paddingY=E.carouselCfg.size.h/2-E.carouselCfg.itemHeight*E.carouselCfg.reflectionSize;var D=document.createElement("div");jQuery(D).css({position:"absolute",zIndex:1,top:0,left:0});jQuery(E).append(D);E.carouselCfg.items.each(function(F){image=jQuery("img",this).get(0);height=parseInt(E.carouselCfg.itemHeight*E.carouselCfg.reflectionSize);if(jQuery.browser.msie){canvas=document.createElement("img");jQuery(canvas).css("position","absolute");canvas.src=image.src;canvas.style.filter="flipv progid:DXImageTransform.Microsoft.Alpha(opacity=60, style=1, finishOpacity=0, startx=0, starty=0, finishx=0)"}else{canvas=document.createElement("canvas");if(canvas.getContext){context=canvas.getContext("2d");canvas.style.position="absolute";canvas.style.height=height+"px";canvas.style.width=E.carouselCfg.itemWidth+"px";canvas.height=height;canvas.width=E.carouselCfg.itemWidth;context.save();context.translate(0,height);context.scale(1,-1);context.drawImage(image,0,0,E.carouselCfg.itemWidth,height);context.restore();context.globalCompositeOperation="destination-out";var G=context.createLinearGradient(0,0,0,height);G.addColorStop(1,"rgba(255, 255, 255, 1)");G.addColorStop(0,"rgba(255, 255, 255, 0.6)");context.fillStyle=G;if(navigator.appVersion.indexOf("WebKit")!=-1){context.fill()}else{context.fillRect(0,0,E.carouselCfg.itemWidth,height)}}}E.carouselCfg.reflections[F]=canvas;jQuery(D).append(canvas)}).bind("mouseover",function(F){E.carouselCfg.protectRotation=true;E.carouselCfg.speed=E.carouselCfg.increment*0.1*E.carouselCfg.speed/Math.abs(E.carouselCfg.speed);return false}).bind("mouseout",function(F){E.carouselCfg.protectRotation=false;return false});jQuery.iCarousel.positionItems(E);E.carouselCfg.speed=E.carouselCfg.increment*0.2;E.carouselCfg.rotationTimer=window.setInterval(function(){E.carouselCfg.start+=E.carouselCfg.speed;if(E.carouselCfg.start>C){E.carouselCfg.start=0}jQuery.iCarousel.positionItems(E)},20);jQuery(E).bind("mouseout",function(){E.carouselCfg.speed=E.carouselCfg.increment*0.2*E.carouselCfg.speed/Math.abs(E.carouselCfg.speed)}).bind("mousemove",function(F){if(E.carouselCfg.protectRotation==false){pointer=jQuery.iUtil.getPointer(F);mousex=E.carouselCfg.size.w-pointer.x+E.carouselCfg.position.x;E.carouselCfg.speed=E.carouselCfg.rotationSpeed*E.carouselCfg.increment*(E.carouselCfg.size.w/2-mousex)/(E.carouselCfg.size.w/2)}})})},positionItems:function(A){A.carouselCfg.items.each(function(B){angle=A.carouselCfg.start+B*A.carouselCfg.step;x=A.carouselCfg.radiusX*Math.cos(angle);y=A.carouselCfg.radiusY*Math.sin(angle);itemZIndex=parseInt(100*(A.carouselCfg.radiusY+y)/(2*A.carouselCfg.radiusY));parte=(A.carouselCfg.radiusY+y)/(2*A.carouselCfg.radiusY);width=parseInt((A.carouselCfg.itemWidth-A.carouselCfg.itemMinWidth)*parte+A.carouselCfg.itemMinWidth);height=parseInt(width*A.carouselCfg.itemHeight/A.carouselCfg.itemWidth);this.style.top=A.carouselCfg.paddingY+y-height/2+"px";this.style.left=A.carouselCfg.paddingX+x-width/2+"px";this.style.width=width+"px";this.style.height=height+"px";this.style.zIndex=itemZIndex;A.carouselCfg.reflections[B].style.top=parseInt(A.carouselCfg.paddingY+y+height-1-height/2)+"px";A.carouselCfg.reflections[B].style.left=parseInt(A.carouselCfg.paddingX+x-width/2)+"px";A.carouselCfg.reflections[B].style.width=width+"px";A.carouselCfg.reflections[B].style.height=parseInt(height*A.carouselCfg.reflectionSize)+"px"})}};jQuery.fn.Carousel=jQuery.iCarousel.build;jQuery.extend({easing:{linear:function(C,E,A,D,B){return((-Math.cos(C*Math.PI)/2)+0.5)*D+A},easein:function(C,E,A,D,B){return D*(E/=B)*E*E+A},easeout:function(C,E,A,D,B){return -D*((E=E/B-1)*E*E*E-1)+A},easeboth:function(C,E,A,D,B){if((E/=B/2)<1){return D/2*E*E*E*E+A}return -D/2*((E-=2)*E*E*E-2)+A},bounceout:function(C,E,A,D,B){if((E/=B)<(1/2.75)){return D*(7.5625*E*E)+A}else{if(E<(2/2.75)){return D*(7.5625*(E-=(1.5/2.75))*E+0.75)+A}else{if(E<(2.5/2.75)){return D*(7.5625*(E-=(2.25/2.75))*E+0.9375)+A}else{return D*(7.5625*(E-=(2.625/2.75))*E+0.984375)+A}}}},bouncein:function(C,E,A,D,B){if(jQuery.easing.bounceout){return D-jQuery.easing.bounceout(C,B-E,0,D,B)+A}return A+D},bounceboth:function(C,E,A,D,B){if(jQuery.easing.bouncein&&jQuery.easing.bounceout){if(E<B/2){return jQuery.easing.bouncein(C,E*2,0,D,B)*0.5+A}}return jQuery.easing.bounceout(C,E*2-B,0,D,B)*0.5+D*0.5+A;return A+D},elasticin:function(E,G,B,F,D){var A,C;if(G==0){return B}if((G/=D)==1){return B+F}A=F*0.3;E=D*0.3;if(A<Math.abs(F)){A=F;C=E/4}else{C=E/(2*Math.PI)*Math.asin(F/A)}return -(A*Math.pow(2,10*(G-=1))*Math.sin((G*D-C)*(2*Math.PI)/E))+B},elasticout:function(E,G,B,F,D){var A,C;if(G==0){return B}if((G/=D/2)==2){return B+F}A=F*0.3;E=D*0.3;if(A<Math.abs(F)){A=F;C=E/4}else{C=E/(2*Math.PI)*Math.asin(F/A)}return A*Math.pow(2,-10*G)*Math.sin((G*D-C)*(2*Math.PI)/E)+F+B},elasticboth:function(E,G,B,F,D){var A,C;if(G==0){return B}if((G/=D/2)==2){return B+F}A=F*0.3;E=D*0.3;if(A<Math.abs(F)){A=F;C=E/4}else{C=E/(2*Math.PI)*Math.asin(F/A)}if(G<1){return -0.5*(A*Math.pow(2,10*(G-=1))*Math.sin((G*D-C)*(2*Math.PI)/E))+B}return A*Math.pow(2,-10*(G-=1))*Math.sin((G*D-C)*(2*Math.PI)/E)*0.5+F+B}}});jQuery.iFisheye={build:function(A){return this.each(function(){var B=this;B.fisheyeCfg={items:jQuery(A.items,this),container:jQuery(A.container,this),pos:jQuery.iUtil.getPosition(this),itemWidth:A.itemWidth,itemsText:A.itemsText,proximity:A.proximity,valign:A.valign,halign:A.halign,maxWidth:A.maxWidth};jQuery.iFisheye.positionContainer(B,0);jQuery(window).bind("resize",function(){B.fisheyeCfg.pos=jQuery.iUtil.getPosition(B);jQuery.iFisheye.positionContainer(B,0);jQuery.iFisheye.positionItems(B)});jQuery.iFisheye.positionItems(B);B.fisheyeCfg.items.bind("mouseover",function(){jQuery(B.fisheyeCfg.itemsText,this).get(0).style.display="block"}).bind("mouseout",function(){jQuery(B.fisheyeCfg.itemsText,this).get(0).style.display="none"});jQuery(document).bind("mousemove",function(E){var F=jQuery.iUtil.getPointer(E);var D=0;if(B.fisheyeCfg.halign&&B.fisheyeCfg.halign=="center"){var C=F.x-B.fisheyeCfg.pos.x-(B.offsetWidth-B.fisheyeCfg.itemWidth*B.fisheyeCfg.items.size())/2-B.fisheyeCfg.itemWidth/2}else{if(B.fisheyeCfg.halign&&B.fisheyeCfg.halign=="right"){var C=F.x-B.fisheyeCfg.pos.x-B.offsetWidth+B.fisheyeCfg.itemWidth*B.fisheyeCfg.items.size()}else{var C=F.x-B.fisheyeCfg.pos.x}}var G=Math.pow(F.y-B.fisheyeCfg.pos.y-B.offsetHeight/2,2);B.fisheyeCfg.items.each(function(H){distance=Math.sqrt(Math.pow(C-H*B.fisheyeCfg.itemWidth,2)+G);distance-=B.fisheyeCfg.itemWidth/2;distance=distance<0?0:distance;distance=distance>B.fisheyeCfg.proximity?B.fisheyeCfg.proximity:distance;distance=B.fisheyeCfg.proximity-distance;extraWidth=B.fisheyeCfg.maxWidth*distance/B.fisheyeCfg.proximity;this.style.width=B.fisheyeCfg.itemWidth+extraWidth+"px";this.style.left=B.fisheyeCfg.itemWidth*H+D+"px";D+=extraWidth});jQuery.iFisheye.positionContainer(B,D)})})},positionContainer:function(B,A){if(B.fisheyeCfg.halign){if(B.fisheyeCfg.halign=="center"){B.fisheyeCfg.container.get(0).style.left=(B.offsetWidth-B.fisheyeCfg.itemWidth*B.fisheyeCfg.items.size())/2-A/2+"px"}else{if(B.fisheyeCfg.halign=="left"){B.fisheyeCfg.container.get(0).style.left=-A/B.fisheyeCfg.items.size()+"px"}else{if(B.fisheyeCfg.halign=="right"){B.fisheyeCfg.container.get(0).style.left=(B.offsetWidth-B.fisheyeCfg.itemWidth*B.fisheyeCfg.items.size())-A/2+"px"}}}}B.fisheyeCfg.container.get(0).style.width=B.fisheyeCfg.itemWidth*B.fisheyeCfg.items.size()+A+"px"},positionItems:function(A){A.fisheyeCfg.items.each(function(B){this.style.width=A.fisheyeCfg.itemWidth+"px";this.style.left=A.fisheyeCfg.itemWidth*B+"px"})}};jQuery.fn.Fisheye=jQuery.iFisheye.build;jQuery.iAuto={helper:null,content:null,iframe:null,timer:null,lastValue:null,currentValue:null,subject:null,selectedItem:null,items:null,empty:function(){jQuery.iAuto.content.empty();if(jQuery.iAuto.iframe){jQuery.iAuto.iframe.hide()}},clear:function(){jQuery.iAuto.items=null;jQuery.iAuto.selectedItem=null;jQuery.iAuto.lastValue=jQuery.iAuto.subject.value;if(jQuery.iAuto.helper.css("display")=="block"){if(jQuery.iAuto.subject.autoCFG.fx){switch(jQuery.iAuto.subject.autoCFG.fx.type){case"fade":jQuery.iAuto.helper.fadeOut(jQuery.iAuto.subject.autoCFG.fx.duration,jQuery.iAuto.empty);break;case"slide":jQuery.iAuto.helper.SlideOutUp(jQuery.iAuto.subject.autoCFG.fx.duration,jQuery.iAuto.empty);break;case"blind":jQuery.iAuto.helper.BlindUp(jQuery.iAuto.subject.autoCFG.fx.duration,jQuery.iAuto.empty);break}}else{jQuery.iAuto.helper.hide()}if(jQuery.iAuto.subject.autoCFG.onHide){jQuery.iAuto.subject.autoCFG.onHide.apply(jQuery.iAuto.subject,[jQuery.iAuto.helper,jQuery.iAuto.iframe])}}else{jQuery.iAuto.empty()}window.clearTimeout(jQuery.iAuto.timer)},update:function(){var B=jQuery.iAuto.subject;var A=jQuery.iAuto.getFieldValues(B);if(B&&A.item!=jQuery.iAuto.lastValue&&A.item.length>=B.autoCFG.minchars){jQuery.iAuto.lastValue=A.item;jQuery.iAuto.currentValue=A.item;data={field:jQuery(B).attr("name")||"field",value:A.item};jQuery.ajax({type:"POST",data:jQuery.param(data),success:function(C){B.autoCFG.lastSuggestion=jQuery("item",C);size=B.autoCFG.lastSuggestion.size();if(size>0){var E="";B.autoCFG.lastSuggestion.each(function(F){E+="<li rel=\""+jQuery("value",this).text()+"\" dir=\""+F+"\" style=\"cursor: default;\">"+jQuery("text",this).text()+"</li>"});if(B.autoCFG.autofill){var D=jQuery("value",B.autoCFG.lastSuggestion.get(0)).text();B.value=A.pre+D+B.autoCFG.multipleSeparator+A.post;jQuery.iAuto.selection(B,A.item.length!=D.length?(A.pre.length+A.item.length):D.length,A.item.length!=D.length?(A.pre.length+D.length):D.length)}if(size>0){jQuery.iAuto.writeItems(B,E)}else{jQuery.iAuto.clear()}}else{jQuery.iAuto.clear()}},url:B.autoCFG.source})}},writeItems:function(D,F){jQuery.iAuto.content.html(F);jQuery.iAuto.items=jQuery("li",jQuery.iAuto.content.get(0));jQuery.iAuto.items.mouseover(jQuery.iAuto.hoverItem).bind("click",jQuery.iAuto.clickItem);var A=jQuery.iUtil.getPosition(D);var C=jQuery.iUtil.getSize(D);jQuery.iAuto.helper.css("top",A.y+C.hb+"px").css("left",A.x+"px").addClass(D.autoCFG.helperClass);if(jQuery.iAuto.iframe){jQuery.iAuto.iframe.css("display","block").css("top",A.y+C.hb+"px").css("left",A.x+"px").css("width",jQuery.iAuto.helper.css("width")).css("height",jQuery.iAuto.helper.css("height"))}jQuery.iAuto.selectedItem=0;jQuery.iAuto.items.get(0).className=D.autoCFG.selectClass;jQuery.iAuto.applyOn(D,D.autoCFG.lastSuggestion.get(0),"onHighlight");if(jQuery.iAuto.helper.css("display")=="none"){if(D.autoCFG.inputWidth){var E=jQuery.iUtil.getPadding(D,true);var B=jQuery.iUtil.getBorder(D,true);jQuery.iAuto.helper.css("width",D.offsetWidth-(jQuery.boxModel?(E.l+E.r+B.l+B.r):0)+"px")}if(D.autoCFG.fx){switch(D.autoCFG.fx.type){case"fade":jQuery.iAuto.helper.fadeIn(D.autoCFG.fx.duration);break;case"slide":jQuery.iAuto.helper.SlideInUp(D.autoCFG.fx.duration);break;case"blind":jQuery.iAuto.helper.BlindDown(D.autoCFG.fx.duration);break}}else{jQuery.iAuto.helper.show()}if(jQuery.iAuto.subject.autoCFG.onShow){jQuery.iAuto.subject.autoCFG.onShow.apply(jQuery.iAuto.subject,[jQuery.iAuto.helper,jQuery.iAuto.iframe])}}},checkCache:function(){var A=this;if(A.autoCFG.lastSuggestion){jQuery.iAuto.lastValue=A.value;jQuery.iAuto.currentValue=A.value;var B="";A.autoCFG.lastSuggestion.each(function(C){value=jQuery("value",this).text().toLowerCase();inputValue=A.value.toLowerCase();if(value.indexOf(inputValue)==0){B+="<li rel=\""+jQuery("value",this).text()+"\" dir=\""+C+"\" style=\"cursor: default;\">"+jQuery("text",this).text()+"</li>"}});if(B!=""){jQuery.iAuto.writeItems(A,B);this.autoCFG.inCache=true;return }}A.autoCFG.lastSuggestion=null;this.autoCFG.inCache=false},selection:function(C,D,B){if(C.createTextRange){var A=C.createTextRange();A.collapse(true);A.moveStart("character",D);A.moveEnd("character",-B+D);A.select()}else{if(C.setSelectionRange){C.setSelectionRange(D,B)}else{if(C.selectionStart){C.selectionStart=D;C.selectionEnd=B}}}C.focus()},getSelectionStart:function(B){if(B.selectionStart){return B.selectionStart}else{if(B.createTextRange){var A=document.selection.createRange();var C=A.duplicate();return 0-C.moveStart("character",-100000)}}},getFieldValues:function(E){var A={value:E.value,pre:"",post:"",item:""};if(E.autoCFG.multiple){var D=false;var C=jQuery.iAuto.getSelectionStart(E)||0;var F=A.value.split(E.autoCFG.multipleSeparator);for(var B=0;B<F.length;B++){if((A.pre.length+F[B].length>=C||C==0)&&!D){if(A.pre.length<=C){A.item=F[B]}else{A.post+=F[B]+(F[B]!=""?E.autoCFG.multipleSeparator:"")}D=true}else{if(D){A.post+=F[B]+(F[B]!=""?E.autoCFG.multipleSeparator:"")}}if(!D){A.pre+=F[B]+(F.length>1?E.autoCFG.multipleSeparator:"")}}}else{A.item=A.value}return A},autocomplete:function(D){window.clearTimeout(jQuery.iAuto.timer);var B=jQuery.iAuto.getFieldValues(this);var E=D.charCode||D.keyCode||-1;if(/13|27|35|36|38|40|9/.test(E)&&jQuery.iAuto.items){if(window.event){window.event.cancelBubble=true;window.event.returnValue=false}else{D.preventDefault();D.stopPropagation()}if(jQuery.iAuto.selectedItem!=null){jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).className=""}else{jQuery.iAuto.selectedItem=-1}switch(E){case 9:case 13:if(jQuery.iAuto.selectedItem==-1){jQuery.iAuto.selectedItem=0}var C=jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0);var F=C.getAttribute("rel");this.value=B.pre+F+this.autoCFG.multipleSeparator+B.post;jQuery.iAuto.lastValue=B.item;jQuery.iAuto.selection(this,B.pre.length+F.length+this.autoCFG.multipleSeparator.length,B.pre.length+F.length+this.autoCFG.multipleSeparator.length);jQuery.iAuto.clear();if(this.autoCFG.onSelect){iteration=parseInt(C.getAttribute("dir"))||0;jQuery.iAuto.applyOn(this,this.autoCFG.lastSuggestion.get(iteration),"onSelect")}if(this.scrollIntoView){this.scrollIntoView(false)}return E!=13;break;case 27:this.value=B.pre+jQuery.iAuto.lastValue+this.autoCFG.multipleSeparator+B.post;this.autoCFG.lastSuggestion=null;jQuery.iAuto.clear();if(this.scrollIntoView){this.scrollIntoView(false)}return false;break;case 35:jQuery.iAuto.selectedItem=jQuery.iAuto.items.size()-1;break;case 36:jQuery.iAuto.selectedItem=0;break;case 38:jQuery.iAuto.selectedItem--;if(jQuery.iAuto.selectedItem<0){jQuery.iAuto.selectedItem=jQuery.iAuto.items.size()-1}break;case 40:jQuery.iAuto.selectedItem++;if(jQuery.iAuto.selectedItem==jQuery.iAuto.items.size()){jQuery.iAuto.selectedItem=0}break}jQuery.iAuto.applyOn(this,this.autoCFG.lastSuggestion.get(jQuery.iAuto.selectedItem||0),"onHighlight");jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).className=this.autoCFG.selectClass;if(jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).scrollIntoView){jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).scrollIntoView(false)}if(this.autoCFG.autofill){var A=jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).getAttribute("rel");this.value=B.pre+A+this.autoCFG.multipleSeparator+B.post;if(jQuery.iAuto.lastValue.length!=A.length){jQuery.iAuto.selection(this,B.pre.length+jQuery.iAuto.lastValue.length,B.pre.length+A.length)}}return false}jQuery.iAuto.checkCache.apply(this);if(this.autoCFG.inCache==false){if(B.item!=jQuery.iAuto.lastValue&&B.item.length>=this.autoCFG.minchars){jQuery.iAuto.timer=window.setTimeout(jQuery.iAuto.update,this.autoCFG.delay)}if(jQuery.iAuto.items){jQuery.iAuto.clear()}}return true},applyOn:function(D,B,A){if(D.autoCFG[A]){var C={};childs=B.getElementsByTagName("*");for(i=0;i<childs.length;i++){C[childs[i].tagName]=childs[i].firstChild.nodeValue}D.autoCFG[A].apply(D,[C])}},hoverItem:function(A){if(jQuery.iAuto.items){if(jQuery.iAuto.selectedItem!=null){jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).className=""}jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).className="";jQuery.iAuto.selectedItem=parseInt(this.getAttribute("dir"))||0;jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).className=jQuery.iAuto.subject.autoCFG.selectClass}},clickItem:function(B){window.clearTimeout(jQuery.iAuto.timer);B=B||jQuery.event.fix(window.event);B.preventDefault();B.stopPropagation();var A=jQuery.iAuto.getFieldValues(jQuery.iAuto.subject);var C=this.getAttribute("rel");jQuery.iAuto.subject.value=A.pre+C+jQuery.iAuto.subject.autoCFG.multipleSeparator+A.post;jQuery.iAuto.lastValue=this.getAttribute("rel");jQuery.iAuto.selection(jQuery.iAuto.subject,A.pre.length+C.length+jQuery.iAuto.subject.autoCFG.multipleSeparator.length,A.pre.length+C.length+jQuery.iAuto.subject.autoCFG.multipleSeparator.length);jQuery.iAuto.clear();if(jQuery.iAuto.subject.autoCFG.onSelect){iteration=parseInt(this.getAttribute("dir"))||0;jQuery.iAuto.applyOn(jQuery.iAuto.subject,jQuery.iAuto.subject.autoCFG.lastSuggestion.get(iteration),"onSelect")}return false},protect:function(A){pressedKey=A.charCode||A.keyCode||-1;if(/13|27|35|36|38|40/.test(pressedKey)&&jQuery.iAuto.items){if(window.event){window.event.cancelBubble=true;window.event.returnValue=false}else{A.preventDefault();A.stopPropagation()}return false}},build:function(A){if(!A.source||!jQuery.iUtil){return }if(!jQuery.iAuto.helper){if(jQuery.browser.msie){jQuery("body",document).append("<iframe style=\"display:none;position:absolute;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=0);\" id=\"autocompleteIframe\" src=\"javascript:false;\" frameborder=\"0\" scrolling=\"no\"></iframe>");jQuery.iAuto.iframe=jQuery("#autocompleteIframe")}jQuery("body",document).append("<div id=\"autocompleteHelper\" style=\"position: absolute; top: 0; left: 0; z-index: 30001; display: none;\"><ul style=\"margin: 0;padding: 0; list-style: none; z-index: 30002;\">&nbsp;</ul></div>");jQuery.iAuto.helper=jQuery("#autocompleteHelper");jQuery.iAuto.content=jQuery("ul",jQuery.iAuto.helper)}return this.each(function(){if(this.tagName!="INPUT"&&this.getAttribute("type")!="text"){return }this.autoCFG={};this.autoCFG.source=A.source;this.autoCFG.minchars=Math.abs(parseInt(A.minchars)||1);this.autoCFG.helperClass=A.helperClass?A.helperClass:"";this.autoCFG.selectClass=A.selectClass?A.selectClass:"";this.autoCFG.onSelect=A.onSelect&&A.onSelect.constructor==Function?A.onSelect:null;this.autoCFG.onShow=A.onShow&&A.onShow.constructor==Function?A.onShow:null;this.autoCFG.onHide=A.onHide&&A.onHide.constructor==Function?A.onHide:null;this.autoCFG.onHighlight=A.onHighlight&&A.onHighlight.constructor==Function?A.onHighlight:null;this.autoCFG.inputWidth=A.inputWidth||false;this.autoCFG.multiple=A.multiple||false;this.autoCFG.multipleSeparator=this.autoCFG.multiple?(A.multipleSeparator||", "):"";this.autoCFG.autofill=A.autofill?true:false;this.autoCFG.delay=Math.abs(parseInt(A.delay)||1000);if(A.fx&&A.fx.constructor==Object){if(!A.fx.type||!/fade|slide|blind/.test(A.fx.type)){A.fx.type="slide"}if(A.fx.type=="slide"&&!jQuery.fx.slide){return }if(A.fx.type=="blind"&&!jQuery.fx.BlindDirection){return }A.fx.duration=Math.abs(parseInt(A.fx.duration)||400);if(A.fx.duration>this.autoCFG.delay){A.fx.duration=this.autoCFG.delay-100}this.autoCFG.fx=A.fx}this.autoCFG.lastSuggestion=null;this.autoCFG.inCache=false;jQuery(this).attr("autocomplete","off").focus(function(){jQuery.iAuto.subject=this;jQuery.iAuto.lastValue=this.value}).keypress(jQuery.iAuto.protect).keyup(jQuery.iAuto.autocomplete).blur(function(){jQuery.iAuto.timer=window.setTimeout(jQuery.iAuto.clear,200)})})}};jQuery.fn.Autocomplete=jQuery.iAuto.build;jQuery.iAutoscroller={timer:null,elToScroll:null,elsToScroll:null,step:10,start:function(C,B,D,A){jQuery.iAutoscroller.elToScroll=C;jQuery.iAutoscroller.elsToScroll=B;jQuery.iAutoscroller.step=parseInt(D)||10;jQuery.iAutoscroller.timer=window.setInterval(jQuery.iAutoscroller.doScroll,parseInt(A)||40)},doScroll:function(){for(i=0;i<jQuery.iAutoscroller.elsToScroll.length;i++){if(!jQuery.iAutoscroller.elsToScroll[i].parentData){jQuery.iAutoscroller.elsToScroll[i].parentData=jQuery.extend(jQuery.iUtil.getPositionLite(jQuery.iAutoscroller.elsToScroll[i]),jQuery.iUtil.getSizeLite(jQuery.iAutoscroller.elsToScroll[i]),jQuery.iUtil.getScroll(jQuery.iAutoscroller.elsToScroll[i]))}else{jQuery.iAutoscroller.elsToScroll[i].parentData.t=jQuery.iAutoscroller.elsToScroll[i].scrollTop;jQuery.iAutoscroller.elsToScroll[i].parentData.l=jQuery.iAutoscroller.elsToScroll[i].scrollLeft}if(jQuery.iAutoscroller.elToScroll.dragCfg&&jQuery.iAutoscroller.elToScroll.dragCfg.init==true){elementData={x:jQuery.iAutoscroller.elToScroll.dragCfg.nx,y:jQuery.iAutoscroller.elToScroll.dragCfg.ny,wb:jQuery.iAutoscroller.elToScroll.dragCfg.oC.wb,hb:jQuery.iAutoscroller.elToScroll.dragCfg.oC.hb}}else{elementData=jQuery.extend(jQuery.iUtil.getPositionLite(jQuery.iAutoscroller.elToScroll),jQuery.iUtil.getSizeLite(jQuery.iAutoscroller.elToScroll))}if(jQuery.iAutoscroller.elsToScroll[i].parentData.t>0&&jQuery.iAutoscroller.elsToScroll[i].parentData.y+jQuery.iAutoscroller.elsToScroll[i].parentData.t>elementData.y){jQuery.iAutoscroller.elsToScroll[i].scrollTop-=jQuery.iAutoscroller.step}else{if(jQuery.iAutoscroller.elsToScroll[i].parentData.t<=jQuery.iAutoscroller.elsToScroll[i].parentData.h&&jQuery.iAutoscroller.elsToScroll[i].parentData.t+jQuery.iAutoscroller.elsToScroll[i].parentData.hb<elementData.y+elementData.hb){jQuery.iAutoscroller.elsToScroll[i].scrollTop+=jQuery.iAutoscroller.step}}if(jQuery.iAutoscroller.elsToScroll[i].parentData.l>0&&jQuery.iAutoscroller.elsToScroll[i].parentData.x+jQuery.iAutoscroller.elsToScroll[i].parentData.l>elementData.x){jQuery.iAutoscroller.elsToScroll[i].scrollLeft-=jQuery.iAutoscroller.step}else{if(jQuery.iAutoscroller.elsToScroll[i].parentData.l<=jQuery.iAutoscroller.elsToScroll[i].parentData.wh&&jQuery.iAutoscroller.elsToScroll[i].parentData.l+jQuery.iAutoscroller.elsToScroll[i].parentData.wb<elementData.x+elementData.wb){jQuery.iAutoscroller.elsToScroll[i].scrollLeft+=jQuery.iAutoscroller.step}}}},stop:function(){window.clearInterval(jQuery.iAutoscroller.timer);jQuery.iAutoscroller.elToScroll=null;jQuery.iAutoscroller.elsToScroll=null;for(i in jQuery.iAutoscroller.elsToScroll){jQuery.iAutoscroller.elsToScroll[i].parentData=null}}};jQuery.iDrag={helper:null,dragged:null,destroy:function(){return this.each(function(){if(this.isDraggable){this.dragCfg.dhe.unbind("mousedown",jQuery.iDrag.draginit);this.dragCfg=null;this.isDraggable=false;if(jQuery.browser.msie){this.unselectable="off"}else{this.style.MozUserSelect="";this.style.KhtmlUserSelect="";this.style.userSelect=""}}})},draginit:function(A){if(jQuery.iDrag.dragged!=null){jQuery.iDrag.dragstop(A);return false}var B=this.dragElem;jQuery(document).bind("mousemove",jQuery.iDrag.dragmove).bind("mouseup",jQuery.iDrag.dragstop);B.dragCfg.pointer=jQuery.iUtil.getPointer(A);B.dragCfg.currentPointer=B.dragCfg.pointer;B.dragCfg.init=false;B.dragCfg.fromHandler=this!=this.dragElem;jQuery.iDrag.dragged=B;if(B.dragCfg.si&&this!=this.dragElem){parentPos=jQuery.iUtil.getPosition(B.parentNode);sliderSize=jQuery.iUtil.getSize(B);sliderPos={x:parseInt(jQuery.css(B,"left"))||0,y:parseInt(jQuery.css(B,"top"))||0};dx=B.dragCfg.currentPointer.x-parentPos.x-sliderSize.wb/2-sliderPos.x;dy=B.dragCfg.currentPointer.y-parentPos.y-sliderSize.hb/2-sliderPos.y;jQuery.iSlider.dragmoveBy(B,[dx,dy])}return jQuery.selectKeyHelper||false},dragstart:function(E){var F=jQuery.iDrag.dragged;F.dragCfg.init=true;var D=F.style;F.dragCfg.oD=jQuery.css(F,"display");F.dragCfg.oP=jQuery.css(F,"position");if(!F.dragCfg.initialPosition){F.dragCfg.initialPosition=F.dragCfg.oP}F.dragCfg.oR={x:parseInt(jQuery.css(F,"left"))||0,y:parseInt(jQuery.css(F,"top"))||0};F.dragCfg.diffX=0;F.dragCfg.diffY=0;if(jQuery.browser.msie){var C=jQuery.iUtil.getBorder(F,true);F.dragCfg.diffX=C.l||0;F.dragCfg.diffY=C.t||0}F.dragCfg.oC=jQuery.extend(jQuery.iUtil.getPosition(F),jQuery.iUtil.getSize(F));if(F.dragCfg.oP!="relative"&&F.dragCfg.oP!="absolute"){D.position="relative"}jQuery.iDrag.helper.empty();var B=F.cloneNode(true);jQuery(B).css({display:"block",left:"0px",top:"0px"});B.style.marginTop="0";B.style.marginRight="0";B.style.marginBottom="0";B.style.marginLeft="0";jQuery.iDrag.helper.append(B);var A=jQuery.iDrag.helper.get(0).style;if(F.dragCfg.autoSize){A.width="auto";A.height="auto"}else{A.height=F.dragCfg.oC.hb+"px";A.width=F.dragCfg.oC.wb+"px"}A.display="block";A.marginTop="0px";A.marginRight="0px";A.marginBottom="0px";A.marginLeft="0px";jQuery.extend(F.dragCfg.oC,jQuery.iUtil.getSize(B));if(F.dragCfg.cursorAt){if(F.dragCfg.cursorAt.left){F.dragCfg.oR.x+=F.dragCfg.pointer.x-F.dragCfg.oC.x-F.dragCfg.cursorAt.left;F.dragCfg.oC.x=F.dragCfg.pointer.x-F.dragCfg.cursorAt.left}if(F.dragCfg.cursorAt.top){F.dragCfg.oR.y+=F.dragCfg.pointer.y-F.dragCfg.oC.y-F.dragCfg.cursorAt.top;F.dragCfg.oC.y=F.dragCfg.pointer.y-F.dragCfg.cursorAt.top}if(F.dragCfg.cursorAt.right){F.dragCfg.oR.x+=F.dragCfg.pointer.x-F.dragCfg.oC.x-F.dragCfg.oC.hb+F.dragCfg.cursorAt.right;F.dragCfg.oC.x=F.dragCfg.pointer.x-F.dragCfg.oC.wb+F.dragCfg.cursorAt.right}if(F.dragCfg.cursorAt.bottom){F.dragCfg.oR.y+=F.dragCfg.pointer.y-F.dragCfg.oC.y-F.dragCfg.oC.hb+F.dragCfg.cursorAt.bottom;F.dragCfg.oC.y=F.dragCfg.pointer.y-F.dragCfg.oC.hb+F.dragCfg.cursorAt.bottom}}F.dragCfg.nx=F.dragCfg.oR.x;F.dragCfg.ny=F.dragCfg.oR.y;if(F.dragCfg.insideParent||F.dragCfg.containment=="parent"){parentBorders=jQuery.iUtil.getBorder(F.parentNode,true);F.dragCfg.oC.x=F.offsetLeft+(jQuery.browser.msie?0:jQuery.browser.opera?-parentBorders.l:parentBorders.l);F.dragCfg.oC.y=F.offsetTop+(jQuery.browser.msie?0:jQuery.browser.opera?-parentBorders.t:parentBorders.t);jQuery(F.parentNode).append(jQuery.iDrag.helper.get(0))}if(F.dragCfg.containment){jQuery.iDrag.getContainment(F);F.dragCfg.onDragModifier.containment=jQuery.iDrag.fitToContainer}if(F.dragCfg.si){jQuery.iSlider.modifyContainer(F)}A.left=F.dragCfg.oC.x-F.dragCfg.diffX+"px";A.top=F.dragCfg.oC.y-F.dragCfg.diffY+"px";A.width=F.dragCfg.oC.wb+"px";A.height=F.dragCfg.oC.hb+"px";jQuery.iDrag.dragged.dragCfg.prot=false;if(F.dragCfg.gx){F.dragCfg.onDragModifier.grid=jQuery.iDrag.snapToGrid}if(F.dragCfg.zIndex!=false){jQuery.iDrag.helper.css("zIndex",F.dragCfg.zIndex)}if(F.dragCfg.opacity){jQuery.iDrag.helper.css("opacity",F.dragCfg.opacity);if(window.ActiveXObject){jQuery.iDrag.helper.css("filter","alpha(opacity="+F.dragCfg.opacity*100+")")}}if(F.dragCfg.frameClass){jQuery.iDrag.helper.addClass(F.dragCfg.frameClass);jQuery.iDrag.helper.get(0).firstChild.style.display="none"}if(F.dragCfg.onStart){F.dragCfg.onStart.apply(F,[B,F.dragCfg.oR.x,F.dragCfg.oR.y])}if(jQuery.iDrop&&jQuery.iDrop.count>0){jQuery.iDrop.highlight(F)}if(F.dragCfg.ghosting==false){D.display="none"}return false},getContainment:function(C){if(C.dragCfg.containment.constructor==String){if(C.dragCfg.containment=="parent"){C.dragCfg.cont=jQuery.extend({x:0,y:0},jQuery.iUtil.getSize(C.parentNode));var B=jQuery.iUtil.getBorder(C.parentNode,true);C.dragCfg.cont.w=C.dragCfg.cont.wb-B.l-B.r;C.dragCfg.cont.h=C.dragCfg.cont.hb-B.t-B.b}else{if(C.dragCfg.containment=="document"){var A=jQuery.iUtil.getClient();C.dragCfg.cont={x:0,y:0,w:A.w,h:A.h}}}}else{if(C.dragCfg.containment.constructor==Array){C.dragCfg.cont={x:parseInt(C.dragCfg.containment[0])||0,y:parseInt(C.dragCfg.containment[1])||0,w:parseInt(C.dragCfg.containment[2])||0,h:parseInt(C.dragCfg.containment[3])||0}}}C.dragCfg.cont.dx=C.dragCfg.cont.x-C.dragCfg.oC.x;C.dragCfg.cont.dy=C.dragCfg.cont.y-C.dragCfg.oC.y},hidehelper:function(A){if(A.dragCfg.insideParent||A.dragCfg.containment=="parent"){jQuery("body",document).append(jQuery.iDrag.helper.get(0))}jQuery.iDrag.helper.empty().hide().css("opacity",1);if(window.ActiveXObject){jQuery.iDrag.helper.css("filter","alpha(opacity=100)")}},dragstop:function(E){jQuery(document).unbind("mousemove",jQuery.iDrag.dragmove).unbind("mouseup",jQuery.iDrag.dragstop);if(jQuery.iDrag.dragged==null){return }var B=jQuery.iDrag.dragged;jQuery.iDrag.dragged=null;if(B.dragCfg.init==false){return false}if(B.dragCfg.so==true){jQuery(B).css("position",B.dragCfg.oP)}var D=B.style;if(B.si){jQuery.iDrag.helper.css("cursor","move")}if(B.dragCfg.frameClass){jQuery.iDrag.helper.removeClass(B.dragCfg.frameClass)}if(B.dragCfg.revert==false){if(B.dragCfg.fx>0){if(!B.dragCfg.axis||B.dragCfg.axis=="horizontally"){var A=new jQuery.fx(B,{duration:B.dragCfg.fx},"left");A.custom(B.dragCfg.oR.x,B.dragCfg.nRx)}if(!B.dragCfg.axis||B.dragCfg.axis=="vertically"){var F=new jQuery.fx(B,{duration:B.dragCfg.fx},"top");F.custom(B.dragCfg.oR.y,B.dragCfg.nRy)}}else{if(!B.dragCfg.axis||B.dragCfg.axis=="horizontally"){B.style.left=B.dragCfg.nRx+"px"}if(!B.dragCfg.axis||B.dragCfg.axis=="vertically"){B.style.top=B.dragCfg.nRy+"px"}}jQuery.iDrag.hidehelper(B);if(B.dragCfg.ghosting==false){jQuery(B).css("display",B.dragCfg.oD)}}else{if(B.dragCfg.fx>0){B.dragCfg.prot=true;var C=false;if(jQuery.iDrop&&jQuery.iSort&&B.dragCfg.so){C=jQuery.iUtil.getPosition(jQuery.iSort.helper.get(0))}jQuery.iDrag.helper.animate({left:C?C.x:B.dragCfg.oC.x,top:C?C.y:B.dragCfg.oC.y},B.dragCfg.fx,function(){B.dragCfg.prot=false;if(B.dragCfg.ghosting==false){B.style.display=B.dragCfg.oD}jQuery.iDrag.hidehelper(B)})}else{jQuery.iDrag.hidehelper(B);if(B.dragCfg.ghosting==false){jQuery(B).css("display",B.dragCfg.oD)}}}if(jQuery.iDrop&&jQuery.iDrop.count>0){jQuery.iDrop.checkdrop(B)}if(jQuery.iSort&&B.dragCfg.so){jQuery.iSort.check(B)}if(B.dragCfg.onChange&&(B.dragCfg.nRx!=B.dragCfg.oR.x||B.dragCfg.nRy!=B.dragCfg.oR.y)){B.dragCfg.onChange.apply(B,B.dragCfg.lastSi||[0,0,B.dragCfg.nRx,B.dragCfg.nRy])}if(B.dragCfg.onStop){B.dragCfg.onStop.apply(B)}return false},snapToGrid:function(A,D,C,B){if(C!=0){C=parseInt((C+(this.dragCfg.gx*C/Math.abs(C))/2)/this.dragCfg.gx)*this.dragCfg.gx}if(B!=0){B=parseInt((B+(this.dragCfg.gy*B/Math.abs(B))/2)/this.dragCfg.gy)*this.dragCfg.gy}return{dx:C,dy:B,x:0,y:0}},fitToContainer:function(A,D,C,B){C=Math.min(Math.max(C,this.dragCfg.cont.dx),this.dragCfg.cont.w+this.dragCfg.cont.dx-this.dragCfg.oC.wb);B=Math.min(Math.max(B,this.dragCfg.cont.dy),this.dragCfg.cont.h+this.dragCfg.cont.dy-this.dragCfg.oC.hb);return{dx:C,dy:B,x:0,y:0}},dragmove:function(F){if(jQuery.iDrag.dragged==null||jQuery.iDrag.dragged.dragCfg.prot==true){return }var A=jQuery.iDrag.dragged;A.dragCfg.currentPointer=jQuery.iUtil.getPointer(F);if(A.dragCfg.init==false){distance=Math.sqrt(Math.pow(A.dragCfg.pointer.x-A.dragCfg.currentPointer.x,2)+Math.pow(A.dragCfg.pointer.y-A.dragCfg.currentPointer.y,2));if(distance<A.dragCfg.snapDistance){return }else{jQuery.iDrag.dragstart(F)}}var C=A.dragCfg.currentPointer.x-A.dragCfg.pointer.x;var B=A.dragCfg.currentPointer.y-A.dragCfg.pointer.y;for(var D in A.dragCfg.onDragModifier){var E=A.dragCfg.onDragModifier[D].apply(A,[A.dragCfg.oR.x+C,A.dragCfg.oR.y+B,C,B]);if(E&&E.constructor==Object){C=D!="user"?E.dx:(E.x-A.dragCfg.oR.x);B=D!="user"?E.dy:(E.y-A.dragCfg.oR.y)}}A.dragCfg.nx=A.dragCfg.oC.x+C-A.dragCfg.diffX;A.dragCfg.ny=A.dragCfg.oC.y+B-A.dragCfg.diffY;if(A.dragCfg.si&&(A.dragCfg.onSlide||A.dragCfg.onChange)){jQuery.iSlider.onSlide(A,A.dragCfg.nx,A.dragCfg.ny)}if(A.dragCfg.onDrag){A.dragCfg.onDrag.apply(A,[A.dragCfg.oR.x+C,A.dragCfg.oR.y+B])}if(!A.dragCfg.axis||A.dragCfg.axis=="horizontally"){A.dragCfg.nRx=A.dragCfg.oR.x+C;jQuery.iDrag.helper.get(0).style.left=A.dragCfg.nx+"px"}if(!A.dragCfg.axis||A.dragCfg.axis=="vertically"){A.dragCfg.nRy=A.dragCfg.oR.y+B;jQuery.iDrag.helper.get(0).style.top=A.dragCfg.ny+"px"}if(jQuery.iDrop&&jQuery.iDrop.count>0){jQuery.iDrop.checkhover(A)}return false},build:function(C){if(!jQuery.iDrag.helper){jQuery("body",document).append("<div id=\"dragHelper\"></div>");jQuery.iDrag.helper=jQuery("#dragHelper");var B=jQuery.iDrag.helper.get(0);var A=B.style;A.position="absolute";A.display="none";A.cursor="move";A.listStyle="none";A.overflow="hidden";if(window.ActiveXObject){B.unselectable="on"}else{A.mozUserSelect="none";A.userSelect="none";A.KhtmlUserSelect="none"}}if(!C){C={}}return this.each(function(){if(this.isDraggable||!jQuery.iUtil){return }if(window.ActiveXObject){this.onselectstart=function(){return false};this.ondragstart=function(){return false}}var E=this;var D=C.handle?jQuery(this).find(C.handle):jQuery(this);if(jQuery.browser.msie){D.each(function(){this.unselectable="on"})}else{D.css("-moz-user-select","none");D.css("user-select","none");D.css("-khtml-user-select","none")}this.dragCfg={dhe:D,revert:C.revert?true:false,ghosting:C.ghosting?true:false,so:C.so?C.so:false,si:C.si?C.si:false,insideParent:C.insideParent?C.insideParent:false,zIndex:C.zIndex?parseInt(C.zIndex)||0:false,opacity:C.opacity?parseFloat(C.opacity):false,fx:parseInt(C.fx)||null,hpc:C.hpc?C.hpc:false,onDragModifier:{},pointer:{},onStart:C.onStart&&C.onStart.constructor==Function?C.onStart:false,onStop:C.onStop&&C.onStop.constructor==Function?C.onStop:false,onChange:C.onChange&&C.onChange.constructor==Function?C.onChange:false,axis:/vertically|horizontally/.test(C.axis)?C.axis:false,snapDistance:C.snapDistance?parseInt(C.snapDistance)||0:0,cursorAt:C.cursorAt?C.cursorAt:false,autoSize:C.autoSize?true:false,frameClass:C.frameClass||false};if(C.onDragModifier&&C.onDragModifier.constructor==Function){this.dragCfg.onDragModifier.user=C.onDragModifier}if(C.onDrag&&C.onDrag.constructor==Function){this.dragCfg.onDrag=C.onDrag}if(C.containment&&((C.containment.constructor==String&&(C.containment=="parent"||C.containment=="document"))||(C.containment.constructor==Array&&C.containment.length==4))){this.dragCfg.containment=C.containment}if(C.fractions){this.dragCfg.fractions=C.fractions}if(C.grid){if(typeof C.grid=="number"){this.dragCfg.gx=parseInt(C.grid)||1;this.dragCfg.gy=parseInt(C.grid)||1}else{if(C.grid.length==2){this.dragCfg.gx=parseInt(C.grid[0])||1;this.dragCfg.gy=parseInt(C.grid[1])||1}}}if(C.onSlide&&C.onSlide.constructor==Function){this.dragCfg.onSlide=C.onSlide}this.isDraggable=true;D.each(function(){this.dragElem=E});D.bind("mousedown",jQuery.iDrag.draginit)})}};jQuery.fn.extend({DraggableDestroy:jQuery.iDrag.destroy,Draggable:jQuery.iDrag.build});jQuery.iDrop={fit:function(C,B,D,A){return C<=jQuery.iDrag.dragged.dragCfg.nx&&(C+D)>=(jQuery.iDrag.dragged.dragCfg.nx+jQuery.iDrag.dragged.dragCfg.oC.w)&&B<=jQuery.iDrag.dragged.dragCfg.ny&&(B+A)>=(jQuery.iDrag.dragged.dragCfg.ny+jQuery.iDrag.dragged.dragCfg.oC.h)?true:false},intersect:function(C,B,D,A){return !(C>(jQuery.iDrag.dragged.dragCfg.nx+jQuery.iDrag.dragged.dragCfg.oC.w)||(C+D)<jQuery.iDrag.dragged.dragCfg.nx||B>(jQuery.iDrag.dragged.dragCfg.ny+jQuery.iDrag.dragged.dragCfg.oC.h)||(B+A)<jQuery.iDrag.dragged.dragCfg.ny)?true:false},pointer:function(C,B,D,A){return C<jQuery.iDrag.dragged.dragCfg.currentPointer.x&&(C+D)>jQuery.iDrag.dragged.dragCfg.currentPointer.x&&B<jQuery.iDrag.dragged.dragCfg.currentPointer.y&&(B+A)>jQuery.iDrag.dragged.dragCfg.currentPointer.y?true:false},overzone:false,highlighted:{},count:0,zones:{},highlight:function(D){if(jQuery.iDrag.dragged==null){return }var C;jQuery.iDrop.highlighted={};var A=false;for(C in jQuery.iDrop.zones){if(jQuery.iDrop.zones[C]!=null){var B=jQuery.iDrop.zones[C].get(0);if(jQuery(jQuery.iDrag.dragged).is("."+B.dropCfg.a)){if(B.dropCfg.m==false){B.dropCfg.p=jQuery.extend(jQuery.iUtil.getPositionLite(B),jQuery.iUtil.getSizeLite(B));B.dropCfg.m=true}if(B.dropCfg.ac){jQuery.iDrop.zones[C].addClass(B.dropCfg.ac)}jQuery.iDrop.highlighted[C]=jQuery.iDrop.zones[C];if(jQuery.iSort&&B.dropCfg.s&&jQuery.iDrag.dragged.dragCfg.so){B.dropCfg.el=jQuery("."+B.dropCfg.a,B);D.style.display="none";jQuery.iSort.measure(B);B.dropCfg.os=jQuery.iSort.serialize(jQuery.attr(B,"id")).hash;D.style.display=D.dragCfg.oD;A=true}if(B.dropCfg.onActivate){B.dropCfg.onActivate.apply(jQuery.iDrop.zones[C].get(0),[jQuery.iDrag.dragged])}}}}if(A){jQuery.iSort.start()}},remeasure:function(){jQuery.iDrop.highlighted={};for(i in jQuery.iDrop.zones){if(jQuery.iDrop.zones[i]!=null){var A=jQuery.iDrop.zones[i].get(0);if(jQuery(jQuery.iDrag.dragged).is("."+A.dropCfg.a)){A.dropCfg.p=jQuery.extend(jQuery.iUtil.getPositionLite(A),jQuery.iUtil.getSizeLite(A));if(A.dropCfg.ac){jQuery.iDrop.zones[i].addClass(A.dropCfg.ac)}jQuery.iDrop.highlighted[i]=jQuery.iDrop.zones[i];if(jQuery.iSort&&A.dropCfg.s&&jQuery.iDrag.dragged.dragCfg.so){A.dropCfg.el=jQuery("."+A.dropCfg.a,A);elm.style.display="none";jQuery.iSort.measure(A);elm.style.display=elm.dragCfg.oD}}}}},checkhover:function(E){if(jQuery.iDrag.dragged==null){return }jQuery.iDrop.overzone=false;var D;var B=false;var A=0;for(D in jQuery.iDrop.highlighted){var C=jQuery.iDrop.highlighted[D].get(0);if(jQuery.iDrop.overzone==false&&jQuery.iDrop[C.dropCfg.t](C.dropCfg.p.x,C.dropCfg.p.y,C.dropCfg.p.wb,C.dropCfg.p.hb)){if(C.dropCfg.hc&&C.dropCfg.h==false){jQuery.iDrop.highlighted[D].addClass(C.dropCfg.hc)}if(C.dropCfg.h==false&&C.dropCfg.onHover){B=true}C.dropCfg.h=true;jQuery.iDrop.overzone=C;if(jQuery.iSort&&C.dropCfg.s&&jQuery.iDrag.dragged.dragCfg.so){jQuery.iSort.helper.get(0).className=C.dropCfg.shc;jQuery.iSort.checkhover(C)}A++}else{if(C.dropCfg.h==true){if(C.dropCfg.onOut){C.dropCfg.onOut.apply(C,[E,jQuery.iDrag.helper.get(0).firstChild,C.dropCfg.fx])}if(C.dropCfg.hc){jQuery.iDrop.highlighted[D].removeClass(C.dropCfg.hc)}C.dropCfg.h=false}}}if(jQuery.iSort&&!jQuery.iDrop.overzone&&jQuery.iDrag.dragged.so){jQuery.iSort.helper.get(0).style.display="none"}if(B){jQuery.iDrop.overzone.dropCfg.onHover.apply(jQuery.iDrop.overzone,[E,jQuery.iDrag.helper.get(0).firstChild])}},checkdrop:function(C){var B;for(B in jQuery.iDrop.highlighted){var A=jQuery.iDrop.highlighted[B].get(0);if(A.dropCfg.ac){jQuery.iDrop.highlighted[B].removeClass(A.dropCfg.ac)}if(A.dropCfg.hc){jQuery.iDrop.highlighted[B].removeClass(A.dropCfg.hc)}if(A.dropCfg.s){jQuery.iSort.changed[jQuery.iSort.changed.length]=B}if(A.dropCfg.onDrop&&A.dropCfg.h==true){A.dropCfg.h=false;A.dropCfg.onDrop.apply(A,[C,A.dropCfg.fx])}A.dropCfg.m=false;A.dropCfg.h=false}jQuery.iDrop.highlighted={}},destroy:function(){return this.each(function(){if(this.isDroppable){if(this.dropCfg.s){id=jQuery.attr(this,"id");jQuery.iSort.collected[id]=null;jQuery("."+this.dropCfg.a,this).DraggableDestroy()}jQuery.iDrop.zones["d"+this.idsa]=null;this.isDroppable=false;this.f=null}})},build:function(A){return this.each(function(){if(this.isDroppable==true||!A.accept||!jQuery.iUtil||!jQuery.iDrag){return }this.dropCfg={a:A.accept,ac:A.activeclass||false,hc:A.hoverclass||false,shc:A.helperclass||false,onDrop:A.ondrop||A.onDrop||false,onHover:A.onHover||A.onhover||false,onOut:A.onOut||A.onout||false,onActivate:A.onActivate||false,t:A.tolerance&&(A.tolerance=="fit"||A.tolerance=="intersect")?A.tolerance:"pointer",fx:A.fx?A.fx:false,m:false,h:false};if(A.sortable==true&&jQuery.iSort){id=jQuery.attr(this,"id");jQuery.iSort.collected[id]=this.dropCfg.a;this.dropCfg.s=true;if(A.onChange){this.dropCfg.onChange=A.onChange;this.dropCfg.os=jQuery.iSort.serialize(id).hash}}this.isDroppable=true;this.idsa=parseInt(Math.random()*10000);jQuery.iDrop.zones["d"+this.idsa]=jQuery(this);jQuery.iDrop.count++})}};jQuery.fn.extend({DroppableDestroy:jQuery.iDrop.destroy,Droppable:jQuery.iDrop.build});jQuery.recallDroppables=jQuery.iDrop.remeasure;jQuery.iExpander={helper:null,expand:function(){text=this.value;if(!text){return }style={fontFamily:jQuery(this).css("fontFamily")||"",fontSize:jQuery(this).css("fontSize")||"",fontWeight:jQuery(this).css("fontWeight")||"",fontStyle:jQuery(this).css("fontStyle")||"",fontStretch:jQuery(this).css("fontStretch")||"",fontVariant:jQuery(this).css("fontVariant")||"",letterSpacing:jQuery(this).css("letterSpacing")||"",wordSpacing:jQuery(this).css("wordSpacing")||""};jQuery.iExpander.helper.css(style);html=jQuery.iExpander.htmlEntities(text);html=html.replace(new RegExp("\\n","g"),"<br />");jQuery.iExpander.helper.html("pW");spacer=jQuery.iExpander.helper.get(0).offsetWidth;jQuery.iExpander.helper.html(html);width=jQuery.iExpander.helper.get(0).offsetWidth+spacer;if(this.Expander.limit&&width>this.Expander.limit[0]){width=this.Expander.limit[0]}this.style.width=width+"px";if(this.tagName=="TEXTAREA"){height=jQuery.iExpander.helper.get(0).offsetHeight+spacer;if(this.Expander.limit&&height>this.Expander.limit[1]){height=this.Expander.limit[1]}this.style.height=height+"px"}},htmlEntities:function(A){entities={"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;"};for(i in entities){A=A.replace(new RegExp(i,"g"),entities[i])}return A},build:function(A){if(jQuery.iExpander.helper==null){jQuery("body",document).append("<div id=\"expanderHelper\" style=\"position: absolute; top: 0; left: 0; visibility: hidden;\"></div>");jQuery.iExpander.helper=jQuery("#expanderHelper")}return this.each(function(){if(/TEXTAREA|INPUT/.test(this.tagName)){if(this.tagName=="INPUT"){elType=this.getAttribute("type");if(!/text|password/.test(elType)){return }}if(A&&(A.constructor==Number||(A.constructor==Array&&A.length==2))){if(A.constructor==Number){A=[A,A]}else{A[0]=parseInt(A[0])||400;A[1]=parseInt(A[1])||400}this.Expander={limit:A}}jQuery(this).blur(jQuery.iExpander.expand).keyup(jQuery.iExpander.expand).keypress(jQuery.iExpander.expand);jQuery.iExpander.expand.apply(this)}})}};jQuery.fn.Autoexpand=jQuery.iExpander.build;jQuery.fxCheckTag=function(A){if(/^tr$|^td$|^tbody$|^caption$|^thead$|^tfoot$|^col$|^colgroup$|^th$|^body$|^header$|^script$|^frame$|^frameset$|^option$|^optgroup$|^meta$/i.test(A.nodeName)){return false}else{return true}};jQuery.fx.destroyWrapper=function(C,A){var D=C.firstChild;var B=D.style;B.position=A.position;B.marginTop=A.margins.t;B.marginLeft=A.margins.l;B.marginBottom=A.margins.b;B.marginRight=A.margins.r;B.top=A.top+"px";B.left=A.left+"px";C.parentNode.insertBefore(D,C);C.parentNode.removeChild(C)};jQuery.fx.buildWrapper=function(E){if(!jQuery.fxCheckTag(E)){return false}var K=jQuery(E);var I=E.style;var F=false;if(K.css("display")=="none"){oldVisibility=K.css("visibility");K.css("visibility","hidden").show();F=true}var C={};C.position=K.css("position");C.sizes=jQuery.iUtil.getSize(E);C.margins=jQuery.iUtil.getMargins(E);var D=E.currentStyle?E.currentStyle.styleFloat:K.css("float");C.top=parseInt(K.css("top"))||0;C.left=parseInt(K.css("left"))||0;var L="w_"+parseInt(Math.random()*10000);var G=document.createElement(/^img$|^br$|^input$|^hr$|^select$|^textarea$|^object$|^iframe$|^button$|^form$|^table$|^ul$|^dl$|^ol$/i.test(E.nodeName)?"div":E.nodeName);jQuery.attr(G,"id",L);var J=jQuery(G).addClass("fxWrapper");var A=G.style;var H=0;var B=0;if(C.position=="relative"||C.position=="absolute"){H=C.top;B=C.left}A.top=H+"px";A.left=B+"px";A.position=C.position!="relative"&&C.position!="absolute"?"relative":C.position;A.height=C.sizes.hb+"px";A.width=C.sizes.wb+"px";A.marginTop=C.margins.t;A.marginRight=C.margins.r;A.marginBottom=C.margins.b;A.marginLeft=C.margins.l;A.overflow="hidden";if(jQuery.browser.msie){A.styleFloat=D}else{A.cssFloat=D}if(jQuery.browser=="msie"){I.filter="alpha(opacity="+0.999*100+")"}I.opacity=0.999;E.parentNode.insertBefore(G,E);G.appendChild(E);I.marginTop="0px";I.marginRight="0px";I.marginBottom="0px";I.marginLeft="0px";I.position="absolute";I.listStyle="none";I.top="0px";I.left="0px";if(F){K.hide();I.visibility=oldVisibility}return{oldStyle:C,wrapper:jQuery(G)}};jQuery.fx.namedColors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]};jQuery.fx.parseColor=function(B,A){if(jQuery.fx.namedColors[B]){return{r:jQuery.fx.namedColors[B][0],g:jQuery.fx.namedColors[B][1],b:jQuery.fx.namedColors[B][2]}}else{if(result=/^rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)$/.exec(B)){return{r:parseInt(result[1]),g:parseInt(result[2]),b:parseInt(result[3])}}else{if(result=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)$/.exec(B)){return{r:parseFloat(result[1])*2.55,g:parseFloat(result[2])*2.55,b:parseFloat(result[3])*2.55}}else{if(result=/^#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/.exec(B)){return{r:parseInt("0x"+result[1]+result[1]),g:parseInt("0x"+result[2]+result[2]),b:parseInt("0x"+result[3]+result[3])}}else{if(result=/^#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/.exec(B)){return{r:parseInt("0x"+result[1]),g:parseInt("0x"+result[2]),b:parseInt("0x"+result[3])}}else{return A==true?false:{r:255,g:255,b:255}}}}}}};jQuery.fx.cssProps={borderBottomWidth:1,borderLeftWidth:1,borderRightWidth:1,borderTopWidth:1,bottom:1,fontSize:1,height:1,left:1,letterSpacing:1,lineHeight:1,marginBottom:1,marginLeft:1,marginRight:1,marginTop:1,maxHeight:1,maxWidth:1,minHeight:1,minWidth:1,opacity:1,outlineOffset:1,outlineWidth:1,paddingBottom:1,paddingLeft:1,paddingRight:1,paddingTop:1,right:1,textIndent:1,top:1,width:1,zIndex:1};jQuery.fx.colorCssProps={backgroundColor:1,borderBottomColor:1,borderLeftColor:1,borderRightColor:1,borderTopColor:1,color:1,outlineColor:1};jQuery.fx.cssSides=["Top","Right","Bottom","Left"];jQuery.fx.cssSidesEnd={"borderWidth":["border","Width"],"borderColor":["border","Color"],"margin":["margin",""],"padding":["padding",""]};jQuery.fn.extend({animate:function(D,A,C,B){return this.queue(function(){var E=jQuery.speed(A,C,B);var F=new jQuery.fxe(this,E,D)})},pause:function(A,B){return this.queue(function(){var C=jQuery.speed(A,B);var D=new jQuery.pause(this,C)})},stop:function(A){return this.each(function(){if(this.animationHandler){jQuery.stopAnim(this,A)}})},stopAll:function(A){return this.each(function(){if(this.animationHandler){jQuery.stopAnim(this,A)}if(this.queue&&this.queue["fx"]){this.queue.fx=[]}})}});jQuery.extend({pause:function(C,B){var D=this,A;D.step=function(){if(jQuery.isFunction(B.complete)){B.complete.apply(C)}};D.timer=setInterval(function(){D.step()},B.duration);C.animationHandler=D},easing:{linear:function(C,E,A,D,B){return((-Math.cos(C*Math.PI)/2)+0.5)*D+A}},fxe:function(C,O,B){var I=this,M;var L=C.style;var G=jQuery.css(C,"overflow");var J=jQuery.css(C,"display");var H={};I.startTime=(new Date()).getTime();O.easing=O.easing&&jQuery.easing[O.easing]?O.easing:"linear";I.getValues=function(V,Q){if(jQuery.fx.cssProps[V]){if(Q=="show"||Q=="hide"||Q=="toggle"){if(!C.orig){C.orig={}}var P=parseFloat(jQuery.curCSS(C,V));C.orig[V]=P&&P>-10000?P:(parseFloat(jQuery.css(C,V))||0);Q=Q=="toggle"?(J=="none"?"show":"hide"):Q;O[Q]=true;H[V]=Q=="show"?[0,C.orig[V]]:[C.orig[V],0];if(V!="opacity"){L[V]=H[V][0]+(V!="zIndex"&&V!="fontWeight"?"px":"")}else{jQuery.attr(L,"opacity",H[V][0])}}else{H[V]=[parseFloat(jQuery.curCSS(C,V)),parseFloat(Q)||0]}}else{if(jQuery.fx.colorCssProps[V]){H[V]=[jQuery.fx.parseColor(jQuery.curCSS(C,V)),jQuery.fx.parseColor(Q)]}else{if(/^margin$|padding$|border$|borderColor$|borderWidth$/i.test(V)){var S=Q.replace(/\s+/g," ").replace(/rgb\s*\(\s*/g,"rgb(").replace(/\s*,\s*/g,",").replace(/\s*\)/g,")").match(/([^\s]+)/g);switch(V){case"margin":case"padding":case"borderWidth":case"borderColor":S[3]=S[3]||S[1]||S[0];S[2]=S[2]||S[0];S[1]=S[1]||S[0];for(var U=0;U<jQuery.fx.cssSides.length;U++){var R=jQuery.fx.cssSidesEnd[V][0]+jQuery.fx.cssSides[U]+jQuery.fx.cssSidesEnd[V][1];H[R]=V=="borderColor"?[jQuery.fx.parseColor(jQuery.curCSS(C,R)),jQuery.fx.parseColor(S[U])]:[parseFloat(jQuery.curCSS(C,R)),parseFloat(S[U])]}break;case"border":for(var U=0;U<S.length;U++){var W=parseFloat(S[U]);var X=!isNaN(W)?"Width":(!/transparent|none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset/i.test(S[U])?"Color":false);if(X){for(var T=0;T<jQuery.fx.cssSides.length;T++){R="border"+jQuery.fx.cssSides[T]+X;H[R]=X=="Color"?[jQuery.fx.parseColor(jQuery.curCSS(C,R)),jQuery.fx.parseColor(S[U])]:[parseFloat(jQuery.curCSS(C,R)),W]}}else{L["borderStyle"]=S[U]}}break}}else{L[V]=Q}}}return false};for(p in B){if(p=="style"){var A=jQuery.parseStyle(B[p]);for(np in A){this.getValues(np,A[np])}}else{if(p=="className"){if(document.styleSheets){for(var E=0;E<document.styleSheets.length;E++){var F=document.styleSheets[E].cssRules||document.styleSheets[E].rules||null;if(F){for(var D=0;D<F.length;D++){if(F[D].selectorText=="."+B[p]){var K=new RegExp("."+B[p]+" {");var N=F[D].style.cssText;var A=jQuery.parseStyle(N.replace(K,"").replace(/}/g,""));for(np in A){this.getValues(np,A[np])}}}}}}}else{this.getValues(p,B[p])}}}L.display=J=="none"?"block":J;L.overflow="hidden";I.step=function(){var Q=(new Date()).getTime();if(Q>O.duration+I.startTime){clearInterval(I.timer);I.timer=null;for(R in H){if(R=="opacity"){jQuery.attr(L,"opacity",H[R][1])}else{if(typeof H[R][1]=="object"){L[R]="rgb("+H[R][1].r+","+H[R][1].g+","+H[R][1].b+")"}else{L[R]=H[R][1]+(R!="zIndex"&&R!="fontWeight"?"px":"")}}}if(O.hide||O.show){for(var R in C.orig){if(R=="opacity"){jQuery.attr(L,R,C.orig[R])}else{L[R]=""}}}L.display=O.hide?"none":(J!="none"?J:"block");L.overflow=G;C.animationHandler=null;if(jQuery.isFunction(O.complete)){O.complete.apply(C)}}else{var T=Q-this.startTime;var S=T/O.duration;for(R in H){if(typeof H[R][1]=="object"){L[R]="rgb("+parseInt(jQuery.easing[O.easing](S,T,H[R][0].r,(H[R][1].r-H[R][0].r),O.duration))+","+parseInt(jQuery.easing[O.easing](S,T,H[R][0].g,(H[R][1].g-H[R][0].g),O.duration))+","+parseInt(jQuery.easing[O.easing](S,T,H[R][0].b,(H[R][1].b-H[R][0].b),O.duration))+")"}else{var P=jQuery.easing[O.easing](S,T,H[R][0],(H[R][1]-H[R][0]),O.duration);if(R=="opacity"){jQuery.attr(L,"opacity",P)}else{L[R]=P+(R!="zIndex"&&R!="fontWeight"?"px":"")}}}}};I.timer=setInterval(function(){I.step()},13);C.animationHandler=I},stopAnim:function(B,A){if(A){B.animationHandler.startTime-=100000000}else{window.clearInterval(B.animationHandler.timer);B.animationHandler=null;jQuery.dequeue(B,"fx")}}});jQuery.parseStyle=function(B){var C={};if(typeof B=="string"){B=B.toLowerCase().split(";");for(var A=0;A<B.length;A++){rule=B[A].split(":");if(rule.length==2){C[jQuery.trim(rule[0].replace(/\-(\w)/g,function(D,E){return E.toUpperCase()}))]=jQuery.trim(rule[1])}}}return C};jQuery.fn.extend({BlindUp:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.BlindDirection(this,A,C,"up",B)})},BlindDown:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.BlindDirection(this,A,C,"down",B)})},BlindToggleVertically:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.BlindDirection(this,A,C,"togglever",B)})},BlindLeft:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.BlindDirection(this,A,C,"left",B)})},BlindRight:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.BlindDirection(this,A,C,"right",B)})},BlindToggleHorizontally:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.BlindDirection(this,A,C,"togglehor",B)})}});jQuery.fx.BlindDirection=function(C,A,F,B,E){if(!jQuery.fxCheckTag(C)){jQuery.dequeue(C,"interfaceFX");return false}var D=this;D.el=jQuery(C);D.size=jQuery.iUtil.getSize(C);D.easing=typeof F=="string"?F:E||null;if(!C.ifxFirstDisplay){C.ifxFirstDisplay=D.el.css("display")}if(B=="togglever"){B=D.el.css("display")=="none"?"down":"up"}else{if(B=="togglehor"){B=D.el.css("display")=="none"?"right":"left"}}D.el.show();D.speed=A;D.callback=typeof F=="function"?F:null;D.fx=jQuery.fx.buildWrapper(C);D.direction=B;D.complete=function(){if(D.callback&&D.callback.constructor==Function){D.callback.apply(D.el.get(0))}if(D.direction=="down"||D.direction=="right"){D.el.css("display",D.el.get(0).ifxFirstDisplay=="none"?"block":D.el.get(0).ifxFirstDisplay)}else{D.el.hide()}jQuery.fx.destroyWrapper(D.fx.wrapper.get(0),D.fx.oldStyle);jQuery.dequeue(D.el.get(0),"interfaceFX")};switch(D.direction){case"up":fxh=new jQuery.fx(D.fx.wrapper.get(0),jQuery.speed(D.speed,D.easing,D.complete),"height");fxh.custom(D.fx.oldStyle.sizes.hb,0);break;case"down":D.fx.wrapper.css("height","1px");D.el.show();fxh=new jQuery.fx(D.fx.wrapper.get(0),jQuery.speed(D.speed,D.easing,D.complete),"height");fxh.custom(0,D.fx.oldStyle.sizes.hb);break;case"left":fxh=new jQuery.fx(D.fx.wrapper.get(0),jQuery.speed(D.speed,D.easing,D.complete),"width");fxh.custom(D.fx.oldStyle.sizes.wb,0);break;case"right":D.fx.wrapper.css("width","1px");D.el.show();fxh=new jQuery.fx(D.fx.wrapper.get(0),jQuery.speed(D.speed,D.easing,D.complete),"width");fxh.custom(0,D.fx.oldStyle.sizes.wb);break}};jQuery.fn.Bounce=function(B,A){return this.queue("interfaceFX",function(){if(!jQuery.fxCheckTag(this)){jQuery.dequeue(this,"interfaceFX");return false}var C=new jQuery.fx.iBounce(this,B,A);C.bounce()})};jQuery.fx.iBounce=function(A,D,C){var B=this;B.el=jQuery(A);B.el.show();B.callback=C;B.hight=parseInt(D)||40;B.oldStyle={};B.oldStyle.position=B.el.css("position");B.oldStyle.top=parseInt(B.el.css("top"))||0;B.oldStyle.left=parseInt(B.el.css("left"))||0;if(B.oldStyle.position!="relative"&&B.oldStyle.position!="absolute"){B.el.css("position","relative")}B.times=5;B.cnt=1;B.bounce=function(){B.cnt++;B.e=new jQuery.fx(B.el.get(0),{duration:120,complete:function(){B.e=new jQuery.fx(B.el.get(0),{duration:80,complete:function(){B.hight=parseInt(B.hight/2);if(B.cnt<=B.times){B.bounce()}else{B.el.css("position",B.oldStyle.position).css("top",B.oldStyle.top+"px").css("left",B.oldStyle.left+"px");jQuery.dequeue(B.el.get(0),"interfaceFX");if(B.callback&&B.callback.constructor==Function){B.callback.apply(B.el.get(0))}}}},"top");B.e.custom(B.oldStyle.top-B.hight,B.oldStyle.top)}},"top");B.e.custom(B.oldStyle.top,B.oldStyle.top-B.hight)}};jQuery.fn.extend({DropOutDown:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,A,C,"down","out",B)})},DropInDown:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,A,C,"down","in",B)})},DropToggleDown:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,A,C,"down","toggle",B)})},DropOutUp:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,A,C,"up","out",B)})},DropInUp:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,A,C,"up","in",B)})},DropToggleUp:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,A,C,"up","toggle",B)})},DropOutLeft:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,A,C,"left","out",B)})},DropInLeft:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,A,C,"left","in",B)})},DropToggleLeft:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,A,C,"left","toggle",B)})},DropOutRight:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,A,C,"right","out",B)})},DropInRight:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,A,C,"right","in",B)})},DropToggleRight:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.DropOutDirectiont(this,A,C,"right","toggle",B)})}});jQuery.fx.DropOutDirectiont=function(D,B,G,C,A,F){if(!jQuery.fxCheckTag(D)){jQuery.dequeue(D,"interfaceFX");return false}var E=this;E.el=jQuery(D);E.easing=typeof G=="string"?G:F||null;E.oldStyle={};E.oldStyle.position=E.el.css("position");E.oldStyle.top=E.el.css("top");E.oldStyle.left=E.el.css("left");if(!D.ifxFirstDisplay){D.ifxFirstDisplay=E.el.css("display")}if(A=="toggle"){A=E.el.css("display")=="none"?"in":"out"}E.el.show();if(E.oldStyle.position!="relative"&&E.oldStyle.position!="absolute"){E.el.css("position","relative")}E.type=A;G=typeof G=="function"?G:null;directionIncrement=1;switch(C){case"up":E.e=new jQuery.fx(E.el.get(0),jQuery.speed(B-15,E.easing,G),"top");E.point=parseFloat(E.oldStyle.top)||0;E.unit=E.topUnit;directionIncrement=-1;break;case"down":E.e=new jQuery.fx(E.el.get(0),jQuery.speed(B-15,E.easing,G),"top");E.point=parseFloat(E.oldStyle.top)||0;E.unit=E.topUnit;break;case"right":E.e=new jQuery.fx(E.el.get(0),jQuery.speed(B-15,E.easing,G),"left");E.point=parseFloat(E.oldStyle.left)||0;E.unit=E.leftUnit;break;case"left":E.e=new jQuery.fx(E.el.get(0),jQuery.speed(B-15,E.easing,G),"left");E.point=parseFloat(E.oldStyle.left)||0;E.unit=E.leftUnit;directionIncrement=-1;break}E.e2=new jQuery.fx(E.el.get(0),jQuery.speed(B,E.easing,function(){E.el.css(E.oldStyle);if(E.type=="out"){E.el.css("display","none")}else{E.el.css("display",E.el.get(0).ifxFirstDisplay=="none"?"block":E.el.get(0).ifxFirstDisplay)}jQuery.dequeue(E.el.get(0),"interfaceFX")}),"opacity");if(A=="in"){E.e.custom(E.point+100*directionIncrement,E.point);E.e2.custom(0,1)}else{E.e.custom(E.point,E.point+100*directionIncrement);E.e2.custom(1,0)}};jQuery.fn.extend({Fold:function(B,A,D,C){return this.queue("interfaceFX",function(){new jQuery.fx.DoFold(this,B,A,D,"fold",C)})},UnFold:function(B,A,D,C){return this.queue("interfaceFX",function(){new jQuery.fx.DoFold(this,B,A,D,"unfold",C)})},FoldToggle:function(B,A,D,C){return this.queue("interfaceFX",function(){new jQuery.fx.DoFold(this,B,A,D,"toggle",C)})}});jQuery.fx.DoFold=function(D,C,A,G,B,F){if(!jQuery.fxCheckTag(D)){jQuery.dequeue(D,"interfaceFX");return false}var E=this;E.el=jQuery(D);E.easing=typeof G=="string"?G:F||null;E.callback=typeof G=="function"?G:null;if(B=="toggle"){B=E.el.css("display")=="none"?"unfold":"fold"}E.speed=C;E.height=A&&A.constructor==Number?A:20;E.fx=jQuery.fx.buildWrapper(D);E.type=B;E.complete=function(){if(E.callback&&E.callback.constructor==Function){E.callback.apply(E.el.get(0))}if(E.type=="unfold"){E.el.show()}else{E.el.hide()}jQuery.fx.destroyWrapper(E.fx.wrapper.get(0),E.fx.oldStyle);jQuery.dequeue(E.el.get(0),"interfaceFX")};if(E.type=="unfold"){E.el.show();E.fx.wrapper.css("height",E.height+"px").css("width","1px");E.ef=new jQuery.fx(E.fx.wrapper.get(0),jQuery.speed(E.speed,E.easing,function(){E.ef=new jQuery.fx(E.fx.wrapper.get(0),jQuery.speed(E.speed,E.easing,E.complete),"height");E.ef.custom(E.height,E.fx.oldStyle.sizes.hb)}),"width");E.ef.custom(0,E.fx.oldStyle.sizes.wb)}else{E.ef=new jQuery.fx(E.fx.wrapper.get(0),jQuery.speed(E.speed,E.easing,function(){E.ef=new jQuery.fx(E.fx.wrapper.get(0),jQuery.speed(E.speed,E.easing,E.complete),"width");E.ef.custom(E.fx.oldStyle.sizes.wb,0)}),"height");E.ef.custom(E.fx.oldStyle.sizes.hb,E.height)}};jQuery.fn.Highlight=function(B,A,D,C){return this.queue("interfaceColorFX",function(){this.oldStyleAttr=jQuery(this).attr("style")||"";C=typeof D=="string"?D:C||null;D=typeof D=="function"?D:null;var F=jQuery(this).css("backgroundColor");var E=this.parentNode;while(F=="transparent"&&E){F=jQuery(E).css("backgroundColor");E=E.parentNode}jQuery(this).css("backgroundColor",A);if(typeof this.oldStyleAttr=="object"){this.oldStyleAttr=this.oldStyleAttr["cssText"]}jQuery(this).animate({"backgroundColor":F},B,C,function(){jQuery.dequeue(this,"interfaceColorFX");if(typeof jQuery(this).attr("style")=="object"){jQuery(this).attr("style")["cssText"]="";jQuery(this).attr("style")["cssText"]=this.oldStyleAttr}else{jQuery(this).attr("style",this.oldStyleAttr)}if(D){D.apply(this)}})})};jQuery.fn.extend({CloseVertically:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.OpenClose(this,A,C,"vertically","close",B)})},CloseHorizontally:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.OpenClose(this,A,C,"horizontally","close",B)})},SwitchHorizontally:function(A,C,B){return this.queue("interfaceFX",function(){if(jQuery.css(this,"display")=="none"){new jQuery.fx.OpenClose(this,A,C,"horizontally","open",B)}else{new jQuery.fx.OpenClose(this,A,C,"horizontally","close",B)}})},SwitchVertically:function(A,C,B){return this.queue("interfaceFX",function(){if(jQuery.css(this,"display")=="none"){new jQuery.fx.OpenClose(this,A,C,"vertically","open",B)}else{new jQuery.fx.OpenClose(this,A,C,"vertically","close",B)}})},OpenVertically:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.OpenClose(this,A,C,"vertically","open",B)})},OpenHorizontally:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.OpenClose(this,A,C,"horizontally","open",B)})}});jQuery.fx.OpenClose=function(E,C,H,D,B,G){if(!jQuery.fxCheckTag(E)){jQuery.dequeue(E,"interfaceFX");return false}var F=this;var A=false;F.el=jQuery(E);F.easing=typeof H=="string"?H:G||null;F.callback=typeof H=="function"?H:null;F.type=B;F.speed=C;F.oldP=jQuery.iUtil.getSize(E);F.oldStyle={};F.oldStyle.position=F.el.css("position");F.oldStyle.display=F.el.css("display");if(F.oldStyle.display=="none"){oldVisibility=F.el.css("visibility");F.el.show();A=true}F.oldStyle.top=F.el.css("top");F.oldStyle.left=F.el.css("left");if(A){F.el.hide();F.el.css("visibility",oldVisibility)}F.oldStyle.width=F.oldP.w+"px";F.oldStyle.height=F.oldP.h+"px";F.oldStyle.overflow=F.el.css("overflow");F.oldP.top=parseInt(F.oldStyle.top)||0;F.oldP.left=parseInt(F.oldStyle.left)||0;if(F.oldStyle.position!="relative"&&F.oldStyle.position!="absolute"){F.el.css("position","relative")}F.el.css("overflow","hidden").css("height",B=="open"&&D=="vertically"?1:F.oldP.h+"px").css("width",B=="open"&&D=="horizontally"?1:F.oldP.w+"px");F.complete=function(){F.el.css(F.oldStyle);if(F.type=="close"){F.el.hide()}else{F.el.show()}jQuery.dequeue(F.el.get(0),"interfaceFX")};switch(D){case"vertically":F.eh=new jQuery.fx(F.el.get(0),jQuery.speed(C-15,F.easing,H),"height");F.et=new jQuery.fx(F.el.get(0),jQuery.speed(F.speed,F.easing,F.complete),"top");if(F.type=="close"){F.eh.custom(F.oldP.h,0);F.et.custom(F.oldP.top,F.oldP.top+F.oldP.h/2)}else{F.eh.custom(0,F.oldP.h);F.et.custom(F.oldP.top+F.oldP.h/2,F.oldP.top)}break;case"horizontally":F.eh=new jQuery.fx(F.el.get(0),jQuery.speed(C-15,F.easing,H),"width");F.et=new jQuery.fx(F.el.get(0),jQuery.speed(F.speed,F.easing,F.complete),"left");if(F.type=="close"){F.eh.custom(F.oldP.w,0);F.et.custom(F.oldP.left,F.oldP.left+F.oldP.w/2)}else{F.eh.custom(0,F.oldP.w);F.et.custom(F.oldP.left+F.oldP.w/2,F.oldP.left)}break}};jQuery.fn.Pulsate=function(A,B,C){return this.queue("interfaceFX",function(){if(!jQuery.fxCheckTag(this)){jQuery.dequeue(this,"interfaceFX");return false}var D=new jQuery.fx.Pulsate(this,A,B,C);D.pulse()})};jQuery.fx.Pulsate=function(A,B,D,E){var C=this;C.times=D;C.cnt=1;C.el=A;C.speed=B;C.callback=E;jQuery(C.el).show();C.pulse=function(){C.cnt++;C.e=new jQuery.fx(C.el,jQuery.speed(C.speed,function(){C.ef=new jQuery.fx(C.el,jQuery.speed(C.speed,function(){if(C.cnt<=C.times){C.pulse()}else{jQuery.dequeue(C.el,"interfaceFX");if(C.callback&&C.callback.constructor==Function){C.callback.apply(C.el)}}}),"opacity");C.ef.custom(0,1)}),"opacity");C.e.custom(1,0)}};jQuery.fn.extend({Grow:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.Scale(this,A,1,100,true,C,"grow",B)})},Shrink:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.Scale(this,A,100,1,true,C,"shrink",B)})},Puff:function(A,C,B){return this.queue("interfaceFX",function(){var D=D||"easeout";new jQuery.fx.Scale(this,A,100,150,true,C,"puff",D)})},Scale:function(B,F,E,A,D,C){return this.queue("interfaceFX",function(){new jQuery.fx.Scale(this,B,F,E,A,D,"Scale",C)})}});jQuery.fx.Scale=function(B,A,G,H,D,I,F,C){if(!jQuery.fxCheckTag(B)){jQuery.dequeue(B,"interfaceFX");return false}var E=this;E.el=jQuery(B);E.from=parseInt(G)||100;E.to=parseInt(H)||100;E.easing=typeof I=="string"?I:C||null;E.callback=typeof I=="function"?I:null;E.duration=jQuery.speed(A).duration;E.restore=D||null;E.oldP=jQuery.iUtil.getSize(B);E.oldStyle={width:E.el.css("width"),height:E.el.css("height"),fontSize:E.el.css("fontSize")||"100%",position:E.el.css("position"),display:E.el.css("display"),top:E.el.css("top"),left:E.el.css("left"),overflow:E.el.css("overflow"),borderTopWidth:E.el.css("borderTopWidth"),borderRightWidth:E.el.css("borderRightWidth"),borderBottomWidth:E.el.css("borderBottomWidth"),borderLeftWidth:E.el.css("borderLeftWidth"),paddingTop:E.el.css("paddingTop"),paddingRight:E.el.css("paddingRight"),paddingBottom:E.el.css("paddingBottom"),paddingLeft:E.el.css("paddingLeft")};E.width=parseInt(E.oldStyle.width)||B.offsetWidth||0;E.height=parseInt(E.oldStyle.height)||B.offsetHeight||0;E.top=parseInt(E.oldStyle.top)||0;E.left=parseInt(E.oldStyle.left)||0;sizes=["em","px","pt","%"];for(i in sizes){if(E.oldStyle.fontSize.indexOf(sizes[i])>0){E.fontUnit=sizes[i];E.fontSize=parseFloat(E.oldStyle.fontSize)}if(E.oldStyle.borderTopWidth.indexOf(sizes[i])>0){E.borderTopUnit=sizes[i];E.borderTopSize=parseFloat(E.oldStyle.borderTopWidth)||0}if(E.oldStyle.borderRightWidth.indexOf(sizes[i])>0){E.borderRightUnit=sizes[i];E.borderRightSize=parseFloat(E.oldStyle.borderRightWidth)||0}if(E.oldStyle.borderBottomWidth.indexOf(sizes[i])>0){E.borderBottomUnit=sizes[i];E.borderBottomSize=parseFloat(E.oldStyle.borderBottomWidth)||0}if(E.oldStyle.borderLeftWidth.indexOf(sizes[i])>0){E.borderLeftUnit=sizes[i];E.borderLeftSize=parseFloat(E.oldStyle.borderLeftWidth)||0}if(E.oldStyle.paddingTop.indexOf(sizes[i])>0){E.paddingTopUnit=sizes[i];E.paddingTopSize=parseFloat(E.oldStyle.paddingTop)||0}if(E.oldStyle.paddingRight.indexOf(sizes[i])>0){E.paddingRightUnit=sizes[i];E.paddingRightSize=parseFloat(E.oldStyle.paddingRight)||0}if(E.oldStyle.paddingBottom.indexOf(sizes[i])>0){E.paddingBottomUnit=sizes[i];E.paddingBottomSize=parseFloat(E.oldStyle.paddingBottom)||0}if(E.oldStyle.paddingLeft.indexOf(sizes[i])>0){E.paddingLeftUnit=sizes[i];E.paddingLeftSize=parseFloat(E.oldStyle.paddingLeft)||0}}if(E.oldStyle.position!="relative"&&E.oldStyle.position!="absolute"){E.el.css("position","relative")}E.el.css("overflow","hidden");E.type=F;switch(E.type){case"grow":E.startTop=E.top+E.oldP.h/2;E.endTop=E.top;E.startLeft=E.left+E.oldP.w/2;E.endLeft=E.left;break;case"shrink":E.endTop=E.top+E.oldP.h/2;E.startTop=E.top;E.endLeft=E.left+E.oldP.w/2;E.startLeft=E.left;break;case"puff":E.endTop=E.top-E.oldP.h/4;E.startTop=E.top;E.endLeft=E.left-E.oldP.w/4;E.startLeft=E.left;break}E.firstStep=false;E.t=(new Date).getTime();E.clear=function(){clearInterval(E.timer);E.timer=null};E.step=function(){if(E.firstStep==false){E.el.show();E.firstStep=true}var J=(new Date).getTime();var L=J-E.t;var K=L/E.duration;if(J>=E.duration+E.t){setTimeout(function(){o=1;if(E.type){J=E.endTop;l=E.endLeft;if(E.type=="puff"){o=0}}E.zoom(E.to,l,J,true,o)},13);E.clear()}else{o=1;if(!jQuery.easing||!jQuery.easing[E.easing]){s=((-Math.cos(K*Math.PI)/2)+0.5)*(E.to-E.from)+E.from}else{s=jQuery.easing[E.easing](K,L,E.from,(E.to-E.from),E.duration)}if(E.type){if(!jQuery.easing||!jQuery.easing[E.easing]){J=((-Math.cos(K*Math.PI)/2)+0.5)*(E.endTop-E.startTop)+E.startTop;l=((-Math.cos(K*Math.PI)/2)+0.5)*(E.endLeft-E.startLeft)+E.startLeft;if(E.type=="puff"){o=((-Math.cos(K*Math.PI)/2)+0.5)*(-0.9999)+0.9999}}else{J=jQuery.easing[E.easing](K,L,E.startTop,(E.endTop-E.startTop),E.duration);l=jQuery.easing[E.easing](K,L,E.startLeft,(E.endLeft-E.startLeft),E.duration);if(E.type=="puff"){o=jQuery.easing[E.easing](K,L,0.9999,-0.9999,E.duration)}}}E.zoom(s,l,J,false,o)}};E.timer=setInterval(function(){E.step()},13);E.zoom=function(L,N,M,K,J){E.el.css("height",E.height*L/100+"px").css("width",E.width*L/100+"px").css("left",N+"px").css("top",M+"px").css("fontSize",E.fontSize*L/100+E.fontUnit);if(E.borderTopSize){E.el.css("borderTopWidth",E.borderTopSize*L/100+E.borderTopUnit)}if(E.borderRightSize){E.el.css("borderRightWidth",E.borderRightSize*L/100+E.borderRightUnit)}if(E.borderBottomSize){E.el.css("borderBottomWidth",E.borderBottomSize*L/100+E.borderBottomUnit)}if(E.borderLeftSize){E.el.css("borderLeftWidth",E.borderLeftSize*L/100+E.borderLeftUnit)}if(E.paddingTopSize){E.el.css("paddingTop",E.paddingTopSize*L/100+E.paddingTopUnit)}if(E.paddingRightSize){E.el.css("paddingRight",E.paddingRightSize*L/100+E.paddingRightUnit)}if(E.paddingBottomSize){E.el.css("paddingBottom",E.paddingBottomSize*L/100+E.paddingBottomUnit)}if(E.paddingLeftSize){E.el.css("paddingLeft",E.paddingLeftSize*L/100+E.paddingLeftUnit)}if(E.type=="puff"){if(window.ActiveXObject){E.el.get(0).style.filter="alpha(opacity="+J*100+")"}E.el.get(0).style.opacity=J}if(K){if(E.restore){E.el.css(E.oldStyle)}if(E.type=="shrink"||E.type=="puff"){E.el.css("display","none");if(E.type=="puff"){if(window.ActiveXObject){E.el.get(0).style.filter="alpha(opacity="+100+")"}E.el.get(0).style.opacity=1}}else{E.el.css("display","block")}if(E.callback){E.callback.apply(E.el.get(0))}jQuery.dequeue(E.el.get(0),"interfaceFX")}}};jQuery.fn.extend({ScrollTo:function(B,A,C){o=jQuery.speed(B);return this.queue("interfaceFX",function(){new jQuery.fx.ScrollTo(this,o,A,C)})},ScrollToAnchors:function(B,A,C){return this.each(function(){jQuery("a[@href*=\"#\"]",this).click(function(D){parts=this.href.split("#");jQuery("#"+parts[1]).ScrollTo(B,A,C);return false})})}});jQuery.fx.ScrollTo=function(B,D,A,E){var C=this;C.o=D;C.e=B;C.axis=/vertical|horizontal/.test(A)?A:false;C.easing=E;p=jQuery.iUtil.getPosition(B);s=jQuery.iUtil.getScroll();C.clear=function(){clearInterval(C.timer);C.timer=null;jQuery.dequeue(C.e,"interfaceFX")};C.t=(new Date).getTime();s.h=s.h>s.ih?(s.h-s.ih):s.h;s.w=s.w>s.iw?(s.w-s.iw):s.w;C.endTop=p.y>s.h?s.h:p.y;C.endLeft=p.x>s.w?s.w:p.x;C.startTop=s.t;C.startLeft=s.l;C.step=function(){var F=(new Date).getTime();var H=F-C.t;var G=H/C.o.duration;if(F>=C.o.duration+C.t){C.clear();setTimeout(function(){C.scroll(C.endTop,C.endLeft)},13)}else{if(!C.axis||C.axis=="vertical"){if(!jQuery.easing||!jQuery.easing[C.easing]){st=((-Math.cos(G*Math.PI)/2)+0.5)*(C.endTop-C.startTop)+C.startTop}else{st=jQuery.easing[C.easing](G,H,C.startTop,(C.endTop-C.startTop),C.o.duration)}}else{st=C.startTop}if(!C.axis||C.axis=="horizontal"){if(!jQuery.easing||!jQuery.easing[C.easing]){sl=((-Math.cos(G*Math.PI)/2)+0.5)*(C.endLeft-C.startLeft)+C.startLeft}else{sl=jQuery.easing[C.easing](G,H,C.startLeft,(C.endLeft-C.startLeft),C.o.duration)}}else{sl=C.startLeft}C.scroll(st,sl)}};C.scroll=function(G,F){window.scrollTo(F,G)};C.timer=setInterval(function(){C.step()},13)};jQuery.fn.Shake=function(A,B){return this.queue("interfaceFX",function(){if(!jQuery.fxCheckTag(this)){jQuery.dequeue(this,"interfaceFX");return false}var C=new jQuery.fx.Shake(this,A,B);C.shake()})};jQuery.fx.Shake=function(A,C,D){var B=this;B.el=jQuery(A);B.el.show();B.times=parseInt(C)||3;B.callback=D;B.cnt=1;B.oldStyle={};B.oldStyle.position=B.el.css("position");B.oldStyle.top=parseInt(B.el.css("top"))||0;B.oldStyle.left=parseInt(B.el.css("left"))||0;if(B.oldStyle.position!="relative"&&B.oldStyle.position!="absolute"){B.el.css("position","relative")}B.shake=function(){B.cnt++;B.e=new jQuery.fx(B.el.get(0),{duration:60,complete:function(){B.e=new jQuery.fx(B.el.get(0),{duration:60,complete:function(){B.e=new jQuery.fx(A,{duration:60,complete:function(){if(B.cnt<=B.times){B.shake()}else{B.el.css("position",B.oldStyle.position).css("top",B.oldStyle.top+"px").css("left",B.oldStyle.left+"px");jQuery.dequeue(B.el.get(0),"interfaceFX");if(B.callback&&B.callback.constructor==Function){B.callback.apply(B.el.get(0))}}}},"left");B.e.custom(B.oldStyle.left-20,B.oldStyle.left)}},"left");B.e.custom(B.oldStyle.left+20,B.oldStyle.left-20)}},"left");B.e.custom(B.oldStyle.left,B.oldStyle.left+20)}};jQuery.fn.extend({SlideInUp:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,A,C,"up","in",B)})},SlideOutUp:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,A,C,"up","out",B)})},SlideToggleUp:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,A,C,"up","toggle",B)})},SlideInDown:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,A,C,"down","in",B)})},SlideOutDown:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,A,C,"down","out",B)})},SlideToggleDown:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,A,C,"down","toggle",B)})},SlideInLeft:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,A,C,"left","in",B)})},SlideOutLeft:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,A,C,"left","out",B)})},SlideToggleLeft:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,A,C,"left","toggle",B)})},SlideInRight:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,A,C,"right","in",B)})},SlideOutRight:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,A,C,"right","out",B)})},SlideToggleRight:function(A,C,B){return this.queue("interfaceFX",function(){new jQuery.fx.slide(this,A,C,"right","toggle",B)})}});jQuery.fx.slide=function(D,B,G,C,A,F){if(!jQuery.fxCheckTag(D)){jQuery.dequeue(D,"interfaceFX");return false}var E=this;E.el=jQuery(D);E.easing=typeof G=="string"?G:F||null;E.callback=typeof G=="function"?G:null;if(A=="toggle"){A=E.el.css("display")=="none"?"in":"out"}if(!D.ifxFirstDisplay){D.ifxFirstDisplay=E.el.css("display")}E.el.show();E.speed=B;E.fx=jQuery.fx.buildWrapper(D);E.type=A;E.direction=C;E.complete=function(){if(E.type=="out"){E.el.css("visibility","hidden")}jQuery.fx.destroyWrapper(E.fx.wrapper.get(0),E.fx.oldStyle);if(E.type=="in"){E.el.css("display",E.el.get(0).ifxFirstDisplay=="none"?"block":E.el.get(0).ifxFirstDisplay)}else{E.el.css("display","none");E.el.css("visibility","visible")}if(E.callback&&E.callback.constructor==Function){E.callback.apply(E.el.get(0))}jQuery.dequeue(E.el.get(0),"interfaceFX")};switch(E.direction){case"up":E.ef=new jQuery.fx(E.el.get(0),jQuery.speed(E.speed,E.easing,E.complete),"top");E.efx=new jQuery.fx(E.fx.wrapper.get(0),jQuery.speed(E.speed,E.easing),"height");if(E.type=="in"){E.ef.custom(-E.fx.oldStyle.sizes.hb,0);E.efx.custom(0,E.fx.oldStyle.sizes.hb)}else{E.ef.custom(0,-E.fx.oldStyle.sizes.hb);E.efx.custom(E.fx.oldStyle.sizes.hb,0)}break;case"down":E.ef=new jQuery.fx(E.el.get(0),jQuery.speed(E.speed,E.easing,E.complete),"top");if(E.type=="in"){E.ef.custom(E.fx.oldStyle.sizes.hb,0)}else{E.ef.custom(0,E.fx.oldStyle.sizes.hb)}break;case"left":E.ef=new jQuery.fx(E.el.get(0),jQuery.speed(E.speed,E.easing,E.complete),"left");E.efx=new jQuery.fx(E.fx.wrapper.get(0),jQuery.speed(E.speed,E.easing),"width");if(E.type=="in"){E.ef.custom(-E.fx.oldStyle.sizes.wb,0);E.efx.custom(0,E.fx.oldStyle.sizes.wb)}else{E.ef.custom(0,-E.fx.oldStyle.sizes.wb);E.efx.custom(E.fx.oldStyle.sizes.wb,0)}break;case"right":E.ef=new jQuery.fx(E.el.get(0),jQuery.speed(E.speed,E.easing,E.complete),"left");if(E.type=="in"){E.ef.custom(E.fx.oldStyle.sizes.wb,0)}else{E.ef.custom(0,E.fx.oldStyle.sizes.wb)}break}};jQuery.transferHelper=null;jQuery.fn.TransferTo=function(A){return this.queue("interfaceFX",function(){new jQuery.fx.itransferTo(this,A)})};jQuery.fx.itransferTo=function(A,C){if(jQuery.transferHelper==null){jQuery("body",document).append("<div id=\"transferHelper\"></div>");jQuery.transferHelper=jQuery("#transferHelper")}jQuery.transferHelper.css("display","block").css("position","absolute");var B=this;B.el=jQuery(A);if(!C||!C.to){return }if(C.to.constructor==String&&document.getElementById(C.to)){C.to=document.getElementById(C.to)}else{if(!C.to.childNodes){return }}if(!C.duration){C.duration=500}B.duration=C.duration;B.to=C.to;B.classname=C.className;B.complete=C.complete;if(B.classname){jQuery.transferHelper.addClass(B.classname)}B.diffWidth=0;B.diffHeight=0;if(jQuery.boxModel){B.diffWidth=(parseInt(jQuery.transferHelper.css("borderLeftWidth"))||0)+(parseInt(jQuery.transferHelper.css("borderRightWidth"))||0)+(parseInt(jQuery.transferHelper.css("paddingLeft"))||0)+(parseInt(jQuery.transferHelper.css("paddingRight"))||0);B.diffHeight=(parseInt(jQuery.transferHelper.css("borderTopWidth"))||0)+(parseInt(jQuery.transferHelper.css("borderBottomWidth"))||0)+(parseInt(jQuery.transferHelper.css("paddingTop"))||0)+(parseInt(jQuery.transferHelper.css("paddingBottom"))||0)}B.start=jQuery.extend(jQuery.iUtil.getPosition(B.el.get(0)),jQuery.iUtil.getSize(B.el.get(0)));B.end=jQuery.extend(jQuery.iUtil.getPosition(B.to),jQuery.iUtil.getSize(B.to));B.start.wb-=B.diffWidth;B.start.hb-=B.diffHeight;B.end.wb-=B.diffWidth;B.end.hb-=B.diffHeight;B.callback=C.complete;jQuery.transferHelper.css("width",B.start.wb+"px").css("height",B.start.hb+"px").css("top",B.start.y+"px").css("left",B.start.x+"px").animate({top:B.end.y,left:B.end.x,width:B.end.wb,height:B.end.hb},B.duration,function(){if(B.classname){jQuery.transferHelper.removeClass(B.classname)}jQuery.transferHelper.css("display","none");if(B.complete&&B.complete.constructor==Function){B.complete.apply(B.el.get(0),[B.to])}jQuery.dequeue(B.el.get(0),"interfaceFX")})};jQuery.ImageBox={options:{border:10,loaderSRC:"images/loading.gif",closeHTML:"<img src=\"images/close.jpg\" />",overlayOpacity:0.8,textImage:"Showing image",textImageFrom:"from",fadeDuration:400},imageLoaded:false,firstResize:false,currentRel:null,animationInProgress:false,opened:false,keyPressed:function(C){if(!jQuery.ImageBox.opened||jQuery.ImageBox.animationInProgress){return }var D=C.charCode||C.keyCode||-1;switch(D){case 35:if(jQuery.ImageBox.currentRel){jQuery.ImageBox.start(null,jQuery("a[@rel="+jQuery.ImageBox.currentRel+"]:last").get(0))}break;case 36:if(jQuery.ImageBox.currentRel){jQuery.ImageBox.start(null,jQuery("a[@rel="+jQuery.ImageBox.currentRel+"]:first").get(0))}break;case 37:case 8:case 33:case 80:case 112:var B=jQuery("#ImageBoxPrevImage");if(B.get(0).onclick!=null){B.get(0).onclick.apply(B.get(0))}break;case 38:break;case 39:case 34:case 32:case 110:case 78:var A=jQuery("#ImageBoxNextImage");if(A.get(0).onclick!=null){A.get(0).onclick.apply(A.get(0))}break;case 40:break;case 27:jQuery.ImageBox.hideImage();break}},init:function(A){if(A){jQuery.extend(jQuery.ImageBox.options,A)}if(window.event){jQuery("body",document).bind("keyup",jQuery.ImageBox.keyPressed)}else{jQuery(document).bind("keyup",jQuery.ImageBox.keyPressed)}jQuery("a").each(function(){el=jQuery(this);relAttr=el.attr("rel")||"";hrefAttr=el.attr("href")||"";imageTypes=/\.jpg|\.jpeg|\.png|\.gif|\.bmp/g;if(hrefAttr.toLowerCase().match(imageTypes)!=null&&relAttr.toLowerCase().indexOf("imagebox")==0){el.bind("click",jQuery.ImageBox.start)}});if(jQuery.browser.msie){iframe=document.createElement("iframe");jQuery(iframe).attr({id:"ImageBoxIframe",src:"javascript:false;",frameborder:"no",scrolling:"no"}).css({display:"none",position:"absolute",top:"0",left:"0",filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"});jQuery("body").append(iframe)}overlay=document.createElement("div");jQuery(overlay).attr("id","ImageBoxOverlay").css({position:"absolute",display:"none",top:"0",left:"0",opacity:0}).append(document.createTextNode(" ")).bind("click",jQuery.ImageBox.hideImage);captionText=document.createElement("div");jQuery(captionText).attr("id","ImageBoxCaptionText").css({paddingLeft:jQuery.ImageBox.options.border+"px"}).append(document.createTextNode(" "));captionImages=document.createElement("div");jQuery(captionImages).attr("id","ImageBoxCaptionImages").css({paddingLeft:jQuery.ImageBox.options.border+"px",paddingBottom:jQuery.ImageBox.options.border+"px"}).append(document.createTextNode(" "));closeEl=document.createElement("a");jQuery(closeEl).attr({id:"ImageBoxClose",href:"#"}).css({position:"absolute",right:jQuery.ImageBox.options.border+"px",top:"0"}).append(jQuery.ImageBox.options.closeHTML).bind("click",jQuery.ImageBox.hideImage);captionEl=document.createElement("div");jQuery(captionEl).attr("id","ImageBoxCaption").css({position:"relative",textAlign:"left",margin:"0 auto",zIndex:1}).append(captionText).append(captionImages).append(closeEl);loader=document.createElement("img");loader.src=jQuery.ImageBox.options.loaderSRC;jQuery(loader).attr("id","ImageBoxLoader").css({position:"absolute"});prevImage=document.createElement("a");jQuery(prevImage).attr({id:"ImageBoxPrevImage",href:"#"}).css({position:"absolute",display:"none",overflow:"hidden",textDecoration:"none"}).append(document.createTextNode(" "));nextImage=document.createElement("a");jQuery(nextImage).attr({id:"ImageBoxNextImage",href:"#"}).css({position:"absolute",overflow:"hidden",textDecoration:"none"}).append(document.createTextNode(" "));container=document.createElement("div");jQuery(container).attr("id","ImageBoxContainer").css({display:"none",position:"relative",overflow:"hidden",textAlign:"left",margin:"0 auto",top:"0",left:"0",zIndex:2}).append([loader,prevImage,nextImage]);outerContainer=document.createElement("div");jQuery(outerContainer).attr("id","ImageBoxOuterContainer").css({display:"none",position:"absolute",overflow:"hidden",top:"0",left:"0",textAlign:"center",backgroundColor:"transparent",lineHeigt:"0"}).append([container,captionEl]);jQuery("body").append(overlay).append(outerContainer)},start:function(D,F){el=F?jQuery(F):jQuery(this);linkRel=el.attr("rel");var A,C,E,B;if(linkRel!="imagebox"){jQuery.ImageBox.currentRel=linkRel;gallery=jQuery("a[@rel="+linkRel+"]");A=gallery.size();C=gallery.index(F?F:this);E=gallery.get(C-1);B=gallery.get(C+1)}imageSrc=el.attr("href");captionText=el.attr("title");pageSize=jQuery.iUtil.getScroll();overlay=jQuery("#ImageBoxOverlay");if(!jQuery.ImageBox.opened){jQuery.ImageBox.opened=true;if(jQuery.browser.msie){jQuery("#ImageBoxIframe").css("height",Math.max(pageSize.ih,pageSize.h)+"px").css("width",Math.max(pageSize.iw,pageSize.w)+"px").show()}overlay.css("height",Math.max(pageSize.ih,pageSize.h)+"px").css("width",Math.max(pageSize.iw,pageSize.w)+"px").show().fadeTo(300,jQuery.ImageBox.options.overlayOpacity,function(){jQuery.ImageBox.loadImage(imageSrc,captionText,pageSize,A,C,E,B)});jQuery("#ImageBoxOuterContainer").css("width",Math.max(pageSize.iw,pageSize.w)+"px")}else{jQuery("#ImageBoxPrevImage").get(0).onclick=null;jQuery("#ImageBoxNextImage").get(0).onclick=null;jQuery.ImageBox.loadImage(imageSrc,captionText,pageSize,A,C,E,B)}return false},loadImage:function(G,B,A,C,E,F,D){jQuery("#ImageBoxCurrentImage").remove();prevImageEl=jQuery("#ImageBoxPrevImage");prevImageEl.hide();nextImageEl=jQuery("#ImageBoxNextImage");nextImageEl.hide();loader=jQuery("#ImageBoxLoader");container=jQuery("#ImageBoxContainer");outerContainer=jQuery("#ImageBoxOuterContainer");captionEl=jQuery("#ImageBoxCaption").css("visibility","hidden");jQuery("#ImageBoxCaptionText").html(captionText);jQuery.ImageBox.animationInProgress=true;if(C){jQuery("#ImageBoxCaptionImages").html(jQuery.ImageBox.options.textImage+" "+(E+1)+" "+jQuery.ImageBox.options.textImageFrom+" "+C)}if(F){prevImageEl.get(0).onclick=function(){this.blur();jQuery.ImageBox.start(null,F);return false}}if(D){nextImageEl.get(0).onclick=function(){this.blur();jQuery.ImageBox.start(null,D);return false}}loader.show();containerSize=jQuery.iUtil.getSize(container.get(0));containerW=Math.max(containerSize.wb,loader.get(0).width+jQuery.ImageBox.options.border*2);containerH=Math.max(containerSize.hb,loader.get(0).height+jQuery.ImageBox.options.border*2);loader.css({left:(containerW-loader.get(0).width)/2+"px",top:(containerH-loader.get(0).height)/2+"px"});container.css({width:containerW+"px",height:containerH+"px"}).show();clientSize=jQuery.iUtil.getClient();outerContainer.css("top",A.t+(clientSize.h/15)+"px");if(outerContainer.css("display")=="none"){outerContainer.show().fadeIn(jQuery.ImageBox.options.fadeDuration)}imageEl=new Image;jQuery(imageEl).attr("id","ImageBoxCurrentImage").bind("load",function(){containerW=imageEl.width+jQuery.ImageBox.options.border*2;containerH=imageEl.height+jQuery.ImageBox.options.border*2;loader.hide();container.animate({height:containerH},containerSize.hb!=containerH?jQuery.ImageBox.options.fadeDuration:1,function(){container.animate({width:containerW},containerSize.wb!=containerW?jQuery.ImageBox.options.fadeDuration:1,function(){container.prepend(imageEl);jQuery(imageEl).css({position:"absolute",left:jQuery.ImageBox.options.border+"px",top:jQuery.ImageBox.options.border+"px"}).fadeIn(jQuery.ImageBox.options.fadeDuration,function(){captionSize=jQuery.iUtil.getSize(captionEl.get(0));if(F){prevImageEl.css({left:jQuery.ImageBox.options.border+"px",top:jQuery.ImageBox.options.border+"px",width:containerW/2-jQuery.ImageBox.options.border*3+"px",height:containerH-jQuery.ImageBox.options.border*2+"px"}).show()}if(D){nextImageEl.css({left:containerW/2+jQuery.ImageBox.options.border*2+"px",top:jQuery.ImageBox.options.border+"px",width:containerW/2-jQuery.ImageBox.options.border*3+"px",height:containerH-jQuery.ImageBox.options.border*2+"px"}).show()}captionEl.css({width:containerW+"px",top:-captionSize.hb+"px",visibility:"visible"}).animate({top:-1},jQuery.ImageBox.options.fadeDuration,function(){jQuery.ImageBox.animationInProgress=false})})})})});imageEl.src=G},hideImage:function(){jQuery("#ImageBoxCurrentImage").remove();jQuery("#ImageBoxOuterContainer").hide();jQuery("#ImageBoxCaption").css("visibility","hidden");jQuery("#ImageBoxOverlay").fadeTo(300,0,function(){jQuery(this).hide();if(jQuery.browser.msie){jQuery("#ImageBoxIframe").hide()}});jQuery("#ImageBoxPrevImage").get(0).onclick=null;jQuery("#ImageBoxNextImage").get(0).onclick=null;jQuery.ImageBox.currentRel=null;jQuery.ImageBox.opened=false;jQuery.ImageBox.animationInProgress=false;return false}};jQuery.iResize={resizeElement:null,resizeDirection:null,dragged:null,pointer:null,sizes:null,position:null,startDrag:function(A){jQuery.iResize.dragged=(this.dragEl)?this.dragEl:this;jQuery.iResize.pointer=jQuery.iUtil.getPointer(A);jQuery.iResize.sizes={width:parseInt(jQuery(jQuery.iResize.dragged).css("width"))||0,height:parseInt(jQuery(jQuery.iResize.dragged).css("height"))||0};jQuery.iResize.position={top:parseInt(jQuery(jQuery.iResize.dragged).css("top"))||0,left:parseInt(jQuery(jQuery.iResize.dragged).css("left"))||0};jQuery(document).bind("mousemove",jQuery.iResize.moveDrag).bind("mouseup",jQuery.iResize.stopDrag);if(typeof jQuery.iResize.dragged.resizeOptions.onDragStart==="function"){jQuery.iResize.dragged.resizeOptions.onDragStart.apply(jQuery.iResize.dragged)}return false},stopDrag:function(A){jQuery(document).unbind("mousemove",jQuery.iResize.moveDrag).unbind("mouseup",jQuery.iResize.stopDrag);if(typeof jQuery.iResize.dragged.resizeOptions.onDragStop==="function"){jQuery.iResize.dragged.resizeOptions.onDragStop.apply(jQuery.iResize.dragged)}jQuery.iResize.dragged=null},moveDrag:function(B){if(!jQuery.iResize.dragged){return }pointer=jQuery.iUtil.getPointer(B);newTop=jQuery.iResize.position.top-jQuery.iResize.pointer.y+pointer.y;newLeft=jQuery.iResize.position.left-jQuery.iResize.pointer.x+pointer.x;newTop=Math.max(Math.min(newTop,jQuery.iResize.dragged.resizeOptions.maxBottom-jQuery.iResize.sizes.height),jQuery.iResize.dragged.resizeOptions.minTop);newLeft=Math.max(Math.min(newLeft,jQuery.iResize.dragged.resizeOptions.maxRight-jQuery.iResize.sizes.width),jQuery.iResize.dragged.resizeOptions.minLeft);if(typeof jQuery.iResize.dragged.resizeOptions.onDrag==="function"){var A=jQuery.iResize.dragged.resizeOptions.onDrag.apply(jQuery.iResize.dragged,[newLeft,newTop]);if(typeof A=="array"&&A.length==2){newLeft=A[0];newTop=A[1]}}jQuery.iResize.dragged.style.top=newTop+"px";jQuery.iResize.dragged.style.left=newLeft+"px";return false},start:function(A){jQuery(document).bind("mousemove",jQuery.iResize.move).bind("mouseup",jQuery.iResize.stop);jQuery.iResize.resizeElement=this.resizeElement;jQuery.iResize.resizeDirection=this.resizeDirection;jQuery.iResize.pointer=jQuery.iUtil.getPointer(A);jQuery.iResize.sizes={width:parseInt(jQuery(this.resizeElement).css("width"))||0,height:parseInt(jQuery(this.resizeElement).css("height"))||0};jQuery.iResize.position={top:parseInt(jQuery(this.resizeElement).css("top"))||0,left:parseInt(jQuery(this.resizeElement).css("left"))||0};if(jQuery.iResize.resizeElement.resizeOptions.onStart){jQuery.iResize.resizeElement.resizeOptions.onStart.apply(jQuery.iResize.resizeElement,[this])}return false},stop:function(){jQuery(document).unbind("mousemove",jQuery.iResize.move).unbind("mouseup",jQuery.iResize.stop);if(jQuery.iResize.resizeElement.resizeOptions.onStop){jQuery.iResize.resizeElement.resizeOptions.onStop.apply(jQuery.iResize.resizeElement,[jQuery.iResize.resizeDirection])}jQuery.iResize.resizeElement=null;jQuery.iResize.resizeDirection=null},getWidth:function(A,B){return Math.min(Math.max(jQuery.iResize.sizes.width+A*B,jQuery.iResize.resizeElement.resizeOptions.minWidth),jQuery.iResize.resizeElement.resizeOptions.maxWidth)},getHeight:function(A,B){return Math.min(Math.max(jQuery.iResize.sizes.height+A*B,jQuery.iResize.resizeElement.resizeOptions.minHeight),jQuery.iResize.resizeElement.resizeOptions.maxHeight)},getHeightMinMax:function(A){return Math.min(Math.max(A,jQuery.iResize.resizeElement.resizeOptions.minHeight),jQuery.iResize.resizeElement.resizeOptions.maxHeight)},move:function(B){if(jQuery.iResize.resizeElement==null){return }pointer=jQuery.iUtil.getPointer(B);dx=pointer.x-jQuery.iResize.pointer.x;dy=pointer.y-jQuery.iResize.pointer.y;newSizes={width:jQuery.iResize.sizes.width,height:jQuery.iResize.sizes.height};newPosition={top:jQuery.iResize.position.top,left:jQuery.iResize.position.left};switch(jQuery.iResize.resizeDirection){case"e":newSizes.width=jQuery.iResize.getWidth(dx,1);break;case"se":newSizes.width=jQuery.iResize.getWidth(dx,1);newSizes.height=jQuery.iResize.getHeight(dy,1);break;case"w":newSizes.width=jQuery.iResize.getWidth(dx,-1);newPosition.left=jQuery.iResize.position.left-newSizes.width+jQuery.iResize.sizes.width;break;case"sw":newSizes.width=jQuery.iResize.getWidth(dx,-1);newPosition.left=jQuery.iResize.position.left-newSizes.width+jQuery.iResize.sizes.width;newSizes.height=jQuery.iResize.getHeight(dy,1);break;case"nw":newSizes.height=jQuery.iResize.getHeight(dy,-1);newPosition.top=jQuery.iResize.position.top-newSizes.height+jQuery.iResize.sizes.height;newSizes.width=jQuery.iResize.getWidth(dx,-1);newPosition.left=jQuery.iResize.position.left-newSizes.width+jQuery.iResize.sizes.width;break;case"n":newSizes.height=jQuery.iResize.getHeight(dy,-1);newPosition.top=jQuery.iResize.position.top-newSizes.height+jQuery.iResize.sizes.height;break;case"ne":newSizes.height=jQuery.iResize.getHeight(dy,-1);newPosition.top=jQuery.iResize.position.top-newSizes.height+jQuery.iResize.sizes.height;newSizes.width=jQuery.iResize.getWidth(dx,1);break;case"s":newSizes.height=jQuery.iResize.getHeight(dy,1);break}if(jQuery.iResize.resizeElement.resizeOptions.ratio){if(jQuery.iResize.resizeDirection=="n"||jQuery.iResize.resizeDirection=="s"){nWidth=newSizes.height*jQuery.iResize.resizeElement.resizeOptions.ratio}else{nWidth=newSizes.width}nHeight=jQuery.iResize.getHeightMinMax(nWidth*jQuery.iResize.resizeElement.resizeOptions.ratio);nWidth=nHeight/jQuery.iResize.resizeElement.resizeOptions.ratio;switch(jQuery.iResize.resizeDirection){case"n":case"nw":case"ne":newPosition.top+=newSizes.height-nHeight;break}switch(jQuery.iResize.resizeDirection){case"nw":case"w":case"sw":newPosition.left+=newSizes.width-nWidth;break}newSizes.height=nHeight;newSizes.width=nWidth}if(newPosition.top<jQuery.iResize.resizeElement.resizeOptions.minTop){nHeight=newSizes.height+newPosition.top-jQuery.iResize.resizeElement.resizeOptions.minTop;newPosition.top=jQuery.iResize.resizeElement.resizeOptions.minTop;if(jQuery.iResize.resizeElement.resizeOptions.ratio){nWidth=nHeight/jQuery.iResize.resizeElement.resizeOptions.ratio;switch(jQuery.iResize.resizeDirection){case"nw":case"w":case"sw":newPosition.left+=newSizes.width-nWidth;break}newSizes.width=nWidth}newSizes.height=nHeight}if(newPosition.left<jQuery.iResize.resizeElement.resizeOptions.minLeft){nWidth=newSizes.width+newPosition.left-jQuery.iResize.resizeElement.resizeOptions.minLeft;newPosition.left=jQuery.iResize.resizeElement.resizeOptions.minLeft;if(jQuery.iResize.resizeElement.resizeOptions.ratio){nHeight=nWidth*jQuery.iResize.resizeElement.resizeOptions.ratio;switch(jQuery.iResize.resizeDirection){case"n":case"nw":case"ne":newPosition.top+=newSizes.height-nHeight;break}newSizes.height=nHeight}newSizes.width=nWidth}if(newPosition.top+newSizes.height>jQuery.iResize.resizeElement.resizeOptions.maxBottom){newSizes.height=jQuery.iResize.resizeElement.resizeOptions.maxBottom-newPosition.top;if(jQuery.iResize.resizeElement.resizeOptions.ratio){newSizes.width=newSizes.height/jQuery.iResize.resizeElement.resizeOptions.ratio}}if(newPosition.left+newSizes.width>jQuery.iResize.resizeElement.resizeOptions.maxRight){newSizes.width=jQuery.iResize.resizeElement.resizeOptions.maxRight-newPosition.left;if(jQuery.iResize.resizeElement.resizeOptions.ratio){newSizes.height=newSizes.width*jQuery.iResize.resizeElement.resizeOptions.ratio}}var A=false;if(jQuery.iResize.resizeElement.resizeOptions.onResize){A=jQuery.iResize.resizeElement.resizeOptions.onResize.apply(jQuery.iResize.resizeElement,[newSizes,newPosition]);if(A){if(A.sizes){jQuery.extend(newSizes,A.sizes)}if(A.position){jQuery.extend(newPosition,A.position)}}}elS=jQuery.iResize.resizeElement.style;elS.left=newPosition.left+"px";elS.top=newPosition.top+"px";elS.width=newSizes.width+"px";elS.height=newSizes.height+"px";return false},build:function(A){if(!A||!A.handlers||A.handlers.constructor!=Object){return }return this.each(function(){var B=this;B.resizeOptions=A;B.resizeOptions.minWidth=A.minWidth||10;B.resizeOptions.minHeight=A.minHeight||10;B.resizeOptions.maxWidth=A.maxWidth||3000;B.resizeOptions.maxHeight=A.maxHeight||3000;B.resizeOptions.minTop=A.minTop||-1000;B.resizeOptions.minLeft=A.minLeft||-1000;B.resizeOptions.maxRight=A.maxRight||3000;B.resizeOptions.maxBottom=A.maxBottom||3000;elPosition=jQuery(B).css("position");if(!(elPosition=="relative"||elPosition=="absolute")){B.style.position="relative"}directions=/n|ne|e|se|s|sw|w|nw/g;for(i in B.resizeOptions.handlers){if(i.toLowerCase().match(directions)!=null){if(B.resizeOptions.handlers[i].constructor==String){handle=jQuery(B.resizeOptions.handlers[i]);if(handle.size()>0){B.resizeOptions.handlers[i]=handle.get(0)}}if(B.resizeOptions.handlers[i].tagName){B.resizeOptions.handlers[i].resizeElement=B;B.resizeOptions.handlers[i].resizeDirection=i;jQuery(B.resizeOptions.handlers[i]).bind("mousedown",jQuery.iResize.start)}}}if(B.resizeOptions.dragHandle){if(typeof B.resizeOptions.dragHandle==="string"){handleEl=jQuery(B.resizeOptions.dragHandle);if(handleEl.size()>0){handleEl.each(function(){this.dragEl=B});handleEl.bind("mousedown",jQuery.iResize.startDrag)}}else{if(B.resizeOptions.dragHandle==true){jQuery(this).bind("mousedown",jQuery.iResize.startDrag)}}}})},destroy:function(){return this.each(function(){var A=this;for(i in A.resizeOptions.handlers){A.resizeOptions.handlers[i].resizeElement=null;A.resizeOptions.handlers[i].resizeDirection=null;jQuery(A.resizeOptions.handlers[i]).unbind("mousedown",jQuery.iResize.start)}if(A.resizeOptions.dragHandle){if(typeof A.resizeOptions.dragHandle==="string"){handle=jQuery(A.resizeOptions.dragHandle);if(handle.size()>0){handle.unbind("mousedown",jQuery.iResize.startDrag)}}else{if(A.resizeOptions.dragHandle==true){jQuery(this).unbind("mousedown",jQuery.iResize.startDrag)}}}A.resizeOptions=null})}};jQuery.fn.extend({Resizable:jQuery.iResize.build,ResizableDestroy:jQuery.iResize.destroy});jQuery.selectHelper=null;jQuery.selectKeyHelper=false;jQuery.selectdrug=null;jQuery.selectCurrent=[];jQuery.selectKeyDown=function(A){var B=A.charCode||A.keyCode||-1;if(B==17||B==16){jQuery.selectKeyHelper=true}};jQuery.selectKeyUp=function(A){jQuery.selectKeyHelper=false};jQuery.selectstart=function(A){this.f.pointer=jQuery.iUtil.getPointer(A);this.f.pos=jQuery.extend(jQuery.iUtil.getPosition(this),jQuery.iUtil.getSize(this));this.f.scr=jQuery.iUtil.getScroll(this);this.f.pointer.x-=this.f.pos.x;this.f.pointer.y-=this.f.pos.y;jQuery(this).append(jQuery.selectHelper.get(0));if(this.f.hc){jQuery.selectHelper.addClass(this.f.hc).css("display","block")}jQuery.selectHelper.css({display:"block",width:"0px",height:"0px"});if(this.f.o){jQuery.selectHelper.css("opacity",this.f.o)}jQuery.selectdrug=this;jQuery.selectedone=false;jQuery.selectCurrent=[];this.f.el.each(function(){this.pos={x:this.offsetLeft+(this.currentStyle&&!jQuery.browser.opera?parseInt(this.currentStyle.borderLeftWidth)||0:0)+(jQuery.selectdrug.scrollLeft||0),y:this.offsetTop+(this.currentStyle&&!jQuery.browser.opera?parseInt(this.currentStyle.borderTopWidth)||0:0)+(jQuery.selectdrug.scrollTop||0),wb:this.offsetWidth,hb:this.offsetHeight};if(this.s==true){if(jQuery.selectKeyHelper==false){this.s=false;jQuery(this).removeClass(jQuery.selectdrug.f.sc)}else{jQuery.selectedone=true;jQuery.selectCurrent[jQuery.selectCurrent.length]=jQuery.attr(this,"id")}}});jQuery.selectcheck.apply(this,[A]);jQuery(document).bind("mousemove",jQuery.selectcheck).bind("mouseup",jQuery.selectstop);return false};jQuery.selectcheck=function(A){if(!jQuery.selectdrug){return }jQuery.selectcheckApply.apply(jQuery.selectdrug,[A])};jQuery.selectcheckApply=function(E){if(!jQuery.selectdrug){return }var G=jQuery.iUtil.getPointer(E);var D=jQuery.iUtil.getScroll(jQuery.selectdrug);G.x+=D.l-this.f.scr.l-this.f.pos.x;G.y+=D.t-this.f.scr.t-this.f.pos.y;var H=Math.min(G.x,this.f.pointer.x);var A=Math.min(Math.abs(G.x-this.f.pointer.x),Math.abs(this.f.scr.w-H));var F=Math.min(G.y,this.f.pointer.y);var B=Math.min(Math.abs(G.y-this.f.pointer.y),Math.abs(this.f.scr.h-F));if(this.scrollTop>0&&G.y-20<this.scrollTop){var C=Math.min(D.t,10);F-=C;B+=C;this.scrollTop-=C}else{if(this.scrollTop+this.f.pos.h<this.f.scr.h&&G.y+20>this.scrollTop+this.f.pos.h){var C=Math.min(this.f.scr.h-this.scrollTop,10);this.scrollTop+=C;if(this.scrollTop!=D.t){B+=C}}}if(this.scrollLeft>0&&G.x-20<this.scrollLeft){var C=Math.min(D.l,10);H-=C;A+=C;this.scrollLeft-=C}else{if(this.scrollLeft+this.f.pos.w<this.f.scr.w&&G.x+20>this.scrollLeft+this.f.pos.w){var C=Math.min(this.f.scr.w-this.scrollLeft,10);this.scrollLeft+=C;if(this.scrollLeft!=D.l){A+=C}}}jQuery.selectHelper.css({left:H+"px",top:F+"px",width:A+"px",height:B+"px"});jQuery.selectHelper.l=H+this.f.scr.l;jQuery.selectHelper.t=F+this.f.scr.t;jQuery.selectHelper.r=jQuery.selectHelper.l+A;jQuery.selectHelper.b=jQuery.selectHelper.t+B;jQuery.selectedone=false;this.f.el.each(function(){iIndex=jQuery.selectCurrent.indexOf(jQuery.attr(this,"id"));if(!(this.pos.x>jQuery.selectHelper.r||(this.pos.x+this.pos.wb)<jQuery.selectHelper.l||this.pos.y>jQuery.selectHelper.b||(this.pos.y+this.pos.hb)<jQuery.selectHelper.t)){jQuery.selectedone=true;if(this.s!=true){this.s=true;jQuery(this).addClass(jQuery.selectdrug.f.sc)}if(iIndex!=-1){this.s=false;jQuery(this).removeClass(jQuery.selectdrug.f.sc)}}else{if((this.s==true)&&(iIndex==-1)){this.s=false;jQuery(this).removeClass(jQuery.selectdrug.f.sc)}else{if((!this.s)&&(jQuery.selectKeyHelper==true)&&(iIndex!=-1)){this.s=true;jQuery(this).addClass(jQuery.selectdrug.f.sc)}}}});return false};jQuery.selectstop=function(A){if(!jQuery.selectdrug){return }jQuery.selectstopApply.apply(jQuery.selectdrug,[A])};jQuery.selectstopApply=function(A){jQuery(document).unbind("mousemove",jQuery.selectcheck).unbind("mouseup",jQuery.selectstop);if(!jQuery.selectdrug){return }jQuery.selectHelper.css("display","none");if(this.f.hc){jQuery.selectHelper.removeClass(this.f.hc)}jQuery.selectdrug=false;jQuery("body").append(jQuery.selectHelper.get(0));if(jQuery.selectedone==true){if(this.f.onselect){this.f.onselect(jQuery.Selectserialize(jQuery.attr(this,"id")))}}else{if(this.f.onselectstop){this.f.onselectstop(jQuery.Selectserialize(jQuery.attr(this,"id")))}}jQuery.selectCurrent=[]};jQuery.Selectserialize=function(B){var A="";var C=[];if(a=jQuery("#"+B)){a.get(0).f.el.each(function(){if(this.s==true){if(A.length>0){A+="&"}A+=B+"[]="+jQuery.attr(this,"id");C[C.length]=jQuery.attr(this,"id")}})}return{hash:A,o:C}};jQuery.fn.Selectable=function(A){if(!jQuery.selectHelper){jQuery("body",document).append("<div id=\"selectHelper\"></div>").bind("keydown",jQuery.selectKeyDown).bind("keyup",jQuery.selectKeyUp);jQuery.selectHelper=jQuery("#selectHelper");jQuery.selectHelper.css({position:"absolute",display:"none"});if(window.event){jQuery("body",document).bind("keydown",jQuery.selectKeyDown).bind("keyup",jQuery.selectKeyUp)}else{jQuery(document).bind("keydown",jQuery.selectKeyDown).bind("keyup",jQuery.selectKeyUp)}}if(!A){A={}}return this.each(function(){if(this.isSelectable){return }this.isSelectable=true;this.f={a:A.accept,o:A.opacity?parseFloat(A.opacity):false,sc:A.selectedclass?A.selectedclass:false,hc:A.helperclass?A.helperclass:false,onselect:A.onselect?A.onselect:false,onselectstop:A.onselectstop?A.onselectstop:false};this.f.el=jQuery("."+A.accept);jQuery(this).bind("mousedown",jQuery.selectstart).css("position","relative")})};jQuery.iSlider={tabindex:1,set:function(A){var A=A;return this.each(function(){this.slideCfg.sliders.each(function(B){jQuery.iSlider.dragmoveBy(this,A[B])})})},get:function(){var A=[];this.each(function(C){if(this.isSlider){A[C]=[];var D=this;var B=jQuery.iUtil.getSize(this);this.slideCfg.sliders.each(function(F){var E=this.offsetLeft;var G=this.offsetTop;xproc=parseInt(E*100/(B.w-this.offsetWidth));yproc=parseInt(G*100/(B.h-this.offsetHeight));A[C][F]=[xproc||0,yproc||0,E||0,G||0]})}});return A},modifyContainer:function(C){C.dragCfg.containerMaxx=C.dragCfg.cont.w-C.dragCfg.oC.wb;C.dragCfg.containerMaxy=C.dragCfg.cont.h-C.dragCfg.oC.hb;if(C.SliderContainer.slideCfg.restricted){next=C.SliderContainer.slideCfg.sliders.get(C.SliderIteration+1);if(next){C.dragCfg.cont.w=(parseInt(jQuery(next).css("left"))||0)+C.dragCfg.oC.wb;C.dragCfg.cont.h=(parseInt(jQuery(next).css("top"))||0)+C.dragCfg.oC.hb}prev=C.SliderContainer.slideCfg.sliders.get(C.SliderIteration-1);if(prev){var A=parseInt(jQuery(prev).css("left"))||0;var B=parseInt(jQuery(prev).css("left"))||0;C.dragCfg.cont.x+=A;C.dragCfg.cont.y+=B;C.dragCfg.cont.w-=A;C.dragCfg.cont.h-=B}}C.dragCfg.maxx=C.dragCfg.cont.w-C.dragCfg.oC.wb;C.dragCfg.maxy=C.dragCfg.cont.h-C.dragCfg.oC.hb;if(C.dragCfg.fractions){C.dragCfg.gx=((C.dragCfg.cont.w-C.dragCfg.oC.wb)/C.dragCfg.fractions)||1;C.dragCfg.gy=((C.dragCfg.cont.h-C.dragCfg.oC.hb)/C.dragCfg.fractions)||1;C.dragCfg.fracW=C.dragCfg.maxx/C.dragCfg.fractions;C.dragCfg.fracH=C.dragCfg.maxy/C.dragCfg.fractions}C.dragCfg.cont.dx=C.dragCfg.cont.x-C.dragCfg.oR.x;C.dragCfg.cont.dy=C.dragCfg.cont.y-C.dragCfg.oR.y;jQuery.iDrag.helper.css("cursor","default")},onSlide:function(C,A,B){if(C.dragCfg.fractions){xfrac=parseInt(A/C.dragCfg.fracW);xproc=xfrac*100/C.dragCfg.fractions;yfrac=parseInt(B/C.dragCfg.fracH);yproc=yfrac*100/C.dragCfg.fractions}else{xproc=parseInt(A*100/C.dragCfg.containerMaxx);yproc=parseInt(B*100/C.dragCfg.containerMaxy)}C.dragCfg.lastSi=[xproc||0,yproc||0,A||0,B||0];if(C.dragCfg.onSlide){C.dragCfg.onSlide.apply(C,C.dragCfg.lastSi)}},dragmoveByKey:function(A){pressedKey=A.charCode||A.keyCode||-1;switch(pressedKey){case 35:jQuery.iSlider.dragmoveBy(this.dragElem,[2000,2000]);break;case 36:jQuery.iSlider.dragmoveBy(this.dragElem,[-2000,-2000]);break;case 37:jQuery.iSlider.dragmoveBy(this.dragElem,[-this.dragElem.dragCfg.gx||-1,0]);break;case 38:jQuery.iSlider.dragmoveBy(this.dragElem,[0,-this.dragElem.dragCfg.gy||-1]);break;case 39:jQuery.iSlider.dragmoveBy(this.dragElem,[this.dragElem.dragCfg.gx||1,0]);break;case 40:jQuery.iDrag.dragmoveBy(this.dragElem,[0,this.dragElem.dragCfg.gy||1]);break}},dragmoveBy:function(B,A){if(!B.dragCfg){return }B.dragCfg.oC=jQuery.extend(jQuery.iUtil.getPosition(B),jQuery.iUtil.getSize(B));B.dragCfg.oR={x:parseInt(jQuery.css(B,"left"))||0,y:parseInt(jQuery.css(B,"top"))||0};B.dragCfg.oP=jQuery.css(B,"position");if(B.dragCfg.oP!="relative"&&B.dragCfg.oP!="absolute"){B.style.position="relative"}jQuery.iDrag.getContainment(B);jQuery.iSlider.modifyContainer(B);dx=parseInt(A[0])||0;dy=parseInt(A[1])||0;nx=B.dragCfg.oR.x+dx;ny=B.dragCfg.oR.y+dy;if(B.dragCfg.fractions){newCoords=jQuery.iDrag.snapToGrid.apply(B,[nx,ny,dx,dy]);if(newCoords.constructor==Object){dx=newCoords.dx;dy=newCoords.dy}nx=B.dragCfg.oR.x+dx;ny=B.dragCfg.oR.y+dy}newCoords=jQuery.iDrag.fitToContainer.apply(B,[nx,ny,dx,dy]);if(newCoords&&newCoords.constructor==Object){dx=newCoords.dx;dy=newCoords.dy}nx=B.dragCfg.oR.x+dx;ny=B.dragCfg.oR.y+dy;if(B.dragCfg.si&&(B.dragCfg.onSlide||B.dragCfg.onChange)){jQuery.iSlider.onSlide(B,nx,ny)}nx=!B.dragCfg.axis||B.dragCfg.axis=="horizontally"?nx:B.dragCfg.oR.x||0;ny=!B.dragCfg.axis||B.dragCfg.axis=="vertically"?ny:B.dragCfg.oR.y||0;B.style.left=nx+"px";B.style.top=ny+"px"},build:function(A){return this.each(function(){if(this.isSlider==true||!A.accept||!jQuery.iUtil||!jQuery.iDrag||!jQuery.iDrop){return }toDrag=jQuery(A.accept,this);if(toDrag.size()==0){return }var B={containment:"parent",si:true,onSlide:A.onSlide&&A.onSlide.constructor==Function?A.onSlide:null,onChange:A.onChange&&A.onChange.constructor==Function?A.onChange:null,handle:this,opacity:A.opacity||false};if(A.fractions&&parseInt(A.fractions)){B.fractions=parseInt(A.fractions)||1;B.fractions=B.fractions>0?B.fractions:1}if(toDrag.size()==1){toDrag.Draggable(B)}else{jQuery(toDrag.get(0)).Draggable(B);B.handle=null;toDrag.Draggable(B)}toDrag.keydown(jQuery.iSlider.dragmoveByKey);toDrag.attr("tabindex",jQuery.iSlider.tabindex++);this.isSlider=true;this.slideCfg={};this.slideCfg.onslide=B.onslide;this.slideCfg.fractions=B.fractions;this.slideCfg.sliders=toDrag;this.slideCfg.restricted=A.restricted?true:false;sliderEl=this;sliderEl.slideCfg.sliders.each(function(C){this.SliderIteration=C;this.SliderContainer=sliderEl});if(A.values&&A.values.constructor==Array){for(i=A.values.length-1;i>=0;i--){if(A.values[i].constructor==Array&&A.values[i].length==2){el=this.slideCfg.sliders.get(i);if(el.tagName){jQuery.iSlider.dragmoveBy(el,A.values[i])}}}}})}};jQuery.fn.extend({Slider:jQuery.iSlider.build,SliderSetValues:jQuery.iSlider.set,SliderGetValues:jQuery.iSlider.get});jQuery.islideshow={slideshows:[],gonext:function(){this.blur();slideshow=this.parentNode;id=jQuery.attr(slideshow,"id");if(jQuery.islideshow.slideshows[id]!=null){window.clearInterval(jQuery.islideshow.slideshows[id])}slide=slideshow.ss.currentslide+1;if(slideshow.ss.images.length<slide){slide=1}images=jQuery("img",slideshow.ss.holder);slideshow.ss.currentslide=slide;if(images.size()>0){images.fadeOut(slideshow.ss.fadeDuration,jQuery.islideshow.showImage)}},goprev:function(){this.blur();slideshow=this.parentNode;id=jQuery.attr(slideshow,"id");if(jQuery.islideshow.slideshows[id]!=null){window.clearInterval(jQuery.islideshow.slideshows[id])}slide=slideshow.ss.currentslide-1;images=jQuery("img",slideshow.ss.holder);if(slide<1){slide=slideshow.ss.images.length}slideshow.ss.currentslide=slide;if(images.size()>0){images.fadeOut(slideshow.ss.fadeDuration,jQuery.islideshow.showImage)}},timer:function(A){slideshow=document.getElementById(A);if(slideshow.ss.random){slide=slideshow.ss.currentslide;while(slide==slideshow.ss.currentslide){slide=1+parseInt(Math.random()*slideshow.ss.images.length)}}else{slide=slideshow.ss.currentslide+1;if(slideshow.ss.images.length<slide){slide=1}}images=jQuery("img",slideshow.ss.holder);slideshow.ss.currentslide=slide;if(images.size()>0){images.fadeOut(slideshow.ss.fadeDuration,jQuery.islideshow.showImage)}},go:function(C){var B;if(C&&C.constructor==Object){if(C.loader){B=document.getElementById(C.loader.slideshow);url=window.location.href.split("#");C.loader.onload=null;if(url.length==2){slide=parseInt(url[1]);show=url[1].replace(slide,"");if(jQuery.attr(B,"id")!=show){slide=1}}else{slide=1}}if(C.link){C.link.blur();B=C.link.parentNode.parentNode;id=jQuery.attr(B,"id");if(jQuery.islideshow.slideshows[id]!=null){window.clearInterval(jQuery.islideshow.slideshows[id])}url=C.link.href.split("#");slide=parseInt(url[1]);show=url[1].replace(slide,"");if(jQuery.attr(B,"id")!=show){slide=1}}if(B.ss.images.length<slide||slide<1){slide=1}B.ss.currentslide=slide;slidePos=jQuery.iUtil.getSize(B);slidePad=jQuery.iUtil.getPadding(B);slideBor=jQuery.iUtil.getBorder(B);if(B.ss.prevslide){B.ss.prevslide.o.css("display","none")}if(B.ss.nextslide){B.ss.nextslide.o.css("display","none")}if(B.ss.loader){y=parseInt(slidePad.t)+parseInt(slideBor.t);if(B.ss.slideslinks){if(B.ss.slideslinks.linksPosition=="top"){y+=B.ss.slideslinks.dimm.hb}else{slidePos.h-=B.ss.slideslinks.dimm.hb}}if(B.ss.slideCaption){if(B.ss.slideCaption&&B.ss.slideCaption.captionPosition=="top"){y+=B.ss.slideCaption.dimm.hb}else{slidePos.h-=B.ss.slideCaption.dimm.hb}}if(!B.ss.loaderWidth){B.ss.loaderHeight=C.loader?C.loader.height:(parseInt(B.ss.loader.css("height"))||0);B.ss.loaderWidth=C.loader?C.loader.width:(parseInt(B.ss.loader.css("width"))||0)}B.ss.loader.css("top",y+(slidePos.h-B.ss.loaderHeight)/2+"px");B.ss.loader.css("left",(slidePos.wb-B.ss.loaderWidth)/2+"px");B.ss.loader.css("display","block")}images=jQuery("img",B.ss.holder);if(images.size()>0){images.fadeOut(B.ss.fadeDuration,jQuery.islideshow.showImage)}else{lnk=jQuery("a",B.ss.slideslinks.o).get(slide-1);jQuery(lnk).addClass(B.ss.slideslinks.activeLinkClass);var A=new Image();A.slideshow=jQuery.attr(B,"id");A.slide=slide-1;A.src=B.ss.images[B.ss.currentslide-1].src;if(A.complete){A.onload=null;jQuery.islideshow.display.apply(A)}else{A.onload=jQuery.islideshow.display}if(B.ss.slideCaption){B.ss.slideCaption.o.html(B.ss.images[slide-1].caption)}}}},showImage:function(){slideshow=this.parentNode.parentNode;slideshow.ss.holder.css("display","none");if(slideshow.ss.slideslinks.activeLinkClass){lnk=jQuery("a",slideshow.ss.slideslinks.o).removeClass(slideshow.ss.slideslinks.activeLinkClass).get(slideshow.ss.currentslide-1);jQuery(lnk).addClass(slideshow.ss.slideslinks.activeLinkClass)}var A=new Image();A.slideshow=jQuery.attr(slideshow,"id");A.slide=slideshow.ss.currentslide-1;A.src=slideshow.ss.images[slideshow.ss.currentslide-1].src;if(A.complete){A.onload=null;jQuery.islideshow.display.apply(A)}else{A.onload=jQuery.islideshow.display}if(slideshow.ss.slideCaption){slideshow.ss.slideCaption.o.html(slideshow.ss.images[slideshow.ss.currentslide-1].caption)}},display:function(){slideshow=document.getElementById(this.slideshow);if(slideshow.ss.prevslide){slideshow.ss.prevslide.o.css("display","none")}if(slideshow.ss.nextslide){slideshow.ss.nextslide.o.css("display","none")}slidePos=jQuery.iUtil.getSize(slideshow);y=0;if(slideshow.ss.slideslinks){if(slideshow.ss.slideslinks.linksPosition=="top"){y+=slideshow.ss.slideslinks.dimm.hb}else{slidePos.h-=slideshow.ss.slideslinks.dimm.hb}}if(slideshow.ss.slideCaption){if(slideshow.ss.slideCaption&&slideshow.ss.slideCaption.captionPosition=="top"){y+=slideshow.ss.slideCaption.dimm.hb}else{slidePos.h-=slideshow.ss.slideCaption.dimm.hb}}par=jQuery(".slideshowHolder",slideshow);y=y+(slidePos.h-this.height)/2;x=(slidePos.wb-this.width)/2;slideshow.ss.holder.css("top",y+"px").css("left",x+"px").html("<img src=\""+this.src+"\" />");slideshow.ss.holder.fadeIn(slideshow.ss.fadeDuration);nextslide=slideshow.ss.currentslide+1;if(nextslide>slideshow.ss.images.length){nextslide=1}prevslide=slideshow.ss.currentslide-1;if(prevslide<1){prevslide=slideshow.ss.images.length}slideshow.ss.nextslide.o.css("display","block").css("top",y+"px").css("left",x+2*this.width/3+"px").css("width",this.width/3+"px").css("height",this.height+"px").attr("title",slideshow.ss.images[nextslide-1].caption);slideshow.ss.nextslide.o.get(0).href="#"+nextslide+jQuery.attr(slideshow,"id");slideshow.ss.prevslide.o.css("display","block").css("top",y+"px").css("left",x+"px").css("width",this.width/3+"px").css("height",this.height+"px").attr("title",slideshow.ss.images[prevslide-1].caption);slideshow.ss.prevslide.o.get(0).href="#"+prevslide+jQuery.attr(slideshow,"id")},build:function(E){if(!E||!E.container||jQuery.islideshow.slideshows[E.container]){return }var A=jQuery("#"+E.container);var D=A.get(0);if(D.style.position!="absolute"&&D.style.position!="relative"){D.style.position="relative"}D.style.overflow="hidden";if(A.size()==0){return }D.ss={};D.ss.images=E.images?E.images:[];D.ss.random=E.random&&E.random==true||false;imgs=D.getElementsByTagName("IMG");for(C=0;C<imgs.length;C++){indic=D.ss.images.length;D.ss.images[indic]={src:imgs[C].src,caption:imgs[C].title||imgs[C].alt||""}}if(D.ss.images.length==0){return }D.ss.oP=jQuery.extend(jQuery.iUtil.getPosition(D),jQuery.iUtil.getSize(D));D.ss.oPad=jQuery.iUtil.getPadding(D);D.ss.oBor=jQuery.iUtil.getBorder(D);t=parseInt(D.ss.oPad.t)+parseInt(D.ss.oBor.t);b=parseInt(D.ss.oPad.b)+parseInt(D.ss.oBor.b);jQuery("img",D).remove();D.ss.fadeDuration=E.fadeDuration?E.fadeDuration:500;if(E.linksPosition||E.linksClass||E.activeLinkClass){D.ss.slideslinks={};A.append("<div class=\"slideshowLinks\"></div>");D.ss.slideslinks.o=jQuery(".slideshowLinks",D);if(E.linksClass){D.ss.slideslinks.linksClass=E.linksClass;D.ss.slideslinks.o.addClass(E.linksClass)}if(E.activeLinkClass){D.ss.slideslinks.activeLinkClass=E.activeLinkClass}D.ss.slideslinks.o.css("position","absolute").css("width",D.ss.oP.w+"px");if(E.linksPosition&&E.linksPosition=="top"){D.ss.slideslinks.linksPosition="top";D.ss.slideslinks.o.css("top",t+"px")}else{D.ss.slideslinks.linksPosition="bottom";D.ss.slideslinks.o.css("bottom",b+"px")}D.ss.slideslinks.linksSeparator=E.linksSeparator?E.linksSeparator:" ";for(var C=0;C<D.ss.images.length;C++){indic=parseInt(C)+1;D.ss.slideslinks.o.append("<a href=\"#"+indic+E.container+"\" class=\"slideshowLink\" title=\""+D.ss.images[C].caption+"\">"+indic+"</a>"+(indic!=D.ss.images.length?D.ss.slideslinks.linksSeparator:""))}jQuery("a",D.ss.slideslinks.o).bind("click",function(){jQuery.islideshow.go({link:this})});D.ss.slideslinks.dimm=jQuery.iUtil.getSize(D.ss.slideslinks.o.get(0))}if(E.captionPosition||E.captionClass){D.ss.slideCaption={};A.append("<div class=\"slideshowCaption\">&nbsp;</div>");D.ss.slideCaption.o=jQuery(".slideshowCaption",D);if(E.captionClass){D.ss.slideCaption.captionClass=E.captionClass;D.ss.slideCaption.o.addClass(E.captionClass)}D.ss.slideCaption.o.css("position","absolute").css("width",D.ss.oP.w+"px");if(E.captionPosition&&E.captionPosition=="top"){D.ss.slideCaption.captionPosition="top";D.ss.slideCaption.o.css("top",(D.ss.slideslinks&&D.ss.slideslinks.linksPosition=="top"?D.ss.slideslinks.dimm.hb+t:t)+"px")}else{D.ss.slideCaption.captionPosition="bottom";D.ss.slideCaption.o.css("bottom",(D.ss.slideslinks&&D.ss.slideslinks.linksPosition=="bottom"?D.ss.slideslinks.dimm.hb+b:b)+"px")}D.ss.slideCaption.dimm=jQuery.iUtil.getSize(D.ss.slideCaption.o.get(0))}if(E.nextslideClass){D.ss.nextslide={nextslideClass:E.nextslideClass};A.append("<a href=\"#2"+E.container+"\" class=\"slideshowNextSlide\">&nbsp;</a>");D.ss.nextslide.o=jQuery(".slideshowNextSlide",D);D.ss.nextslide.o.css("position","absolute").css("display","none").css("overflow","hidden").css("fontSize","30px").addClass(D.ss.nextslide.nextslideClass);D.ss.nextslide.o.bind("click",jQuery.islideshow.gonext)}if(E.prevslideClass){D.ss.prevslide={prevslideClass:E.prevslideClass};A.append("<a href=\"#0"+E.container+"\" class=\"slideshowPrevslide\">&nbsp;</a>");D.ss.prevslide.o=jQuery(".slideshowPrevslide",D);D.ss.prevslide.o.css("position","absolute").css("display","none").css("overflow","hidden").css("fontSize","30px").addClass(D.ss.prevslide.prevslideClass);D.ss.prevslide.o.bind("click",jQuery.islideshow.goprev)}A.prepend("<div class=\"slideshowHolder\"></div>");D.ss.holder=jQuery(".slideshowHolder",D);D.ss.holder.css("position","absolute").css("top","0px").css("left","0px").css("display","none");if(E.loader){A.prepend("<div class=\"slideshowLoader\" style=\"display: none;\"><img src=\""+E.loader+"\" /></div>");D.ss.loader=jQuery(".slideshowLoader",D);D.ss.loader.css("position","absolute");var B=new Image();B.slideshow=E.container;B.src=E.loader;if(B.complete){B.onload=null;jQuery.islideshow.go({loader:B})}else{B.onload=function(){jQuery.islideshow.go({loader:this})}}}else{jQuery.islideshow.go({container:D})}if(E.autoplay){time=parseInt(E.autoplay)*1000}jQuery.islideshow.slideshows[E.container]=E.autoplay?window.setInterval("jQuery.islideshow.timer('"+E.container+"')",time):null}};jQuery.slideshow=jQuery.islideshow.build;jQuery.iSort={changed:[],collected:{},helper:false,inFrontOf:null,start:function(){if(jQuery.iDrag.dragged==null){return }var B,C,D,A;jQuery.iSort.helper.get(0).className=jQuery.iDrag.dragged.dragCfg.hpc;B=jQuery.iSort.helper.get(0).style;B.display="block";jQuery.iSort.helper.oC=jQuery.extend(jQuery.iUtil.getPosition(jQuery.iSort.helper.get(0)),jQuery.iUtil.getSize(jQuery.iSort.helper.get(0)));B.width=jQuery.iDrag.dragged.dragCfg.oC.wb+"px";B.height=jQuery.iDrag.dragged.dragCfg.oC.hb+"px";C=jQuery.iUtil.getMargins(jQuery.iDrag.dragged);B.marginTop=C.t;B.marginRight=C.r;B.marginBottom=C.b;B.marginLeft=C.l;if(jQuery.iDrag.dragged.dragCfg.ghosting==true){D=jQuery.iDrag.dragged.cloneNode(true);A=D.style;A.marginTop="0px";A.marginRight="0px";A.marginBottom="0px";A.marginLeft="0px";A.display="block";jQuery.iSort.helper.empty().append(D)}jQuery(jQuery.iDrag.dragged).after(jQuery.iSort.helper.get(0));jQuery.iDrag.dragged.style.display="none"},check:function(F){if(!F.dragCfg.so&&jQuery.iDrop.overzone.sortable){if(F.dragCfg.onStop){F.dragCfg.onStop.apply(dragged)}jQuery(F).css("position",F.dragCfg.initialPosition||F.dragCfg.oP);jQuery(F).DraggableDestroy();jQuery(jQuery.iDrop.overzone).SortableAddItem(F)}jQuery.iSort.helper.removeClass(F.dragCfg.hpc).html("&nbsp;");jQuery.iSort.inFrontOf=null;var E=jQuery.iSort.helper.get(0).style;E.display="none";jQuery.iSort.helper.after(F);if(F.dragCfg.fx>0){jQuery(F).fadeIn(F.dragCfg.fx)}jQuery("body").append(jQuery.iSort.helper.get(0));var D=[];var G=false;for(var C=0;C<jQuery.iSort.changed.length;C++){var B=jQuery.iDrop.zones[jQuery.iSort.changed[C]].get(0);var H=jQuery.attr(B,"id");var A=jQuery.iSort.serialize(H);if(B.dropCfg.os!=A.hash){B.dropCfg.os=A.hash;if(G==false&&B.dropCfg.onChange){G=B.dropCfg.onChange}A.id=H;D[D.length]=A}}jQuery.iSort.changed=[];if(G!=false&&D.length>0){G(D)}},checkhover:function(B,D){if(!jQuery.iDrag.dragged){return }var C=false;var A=0;if(B.dropCfg.el.size()>0){for(A=B.dropCfg.el.size();A>0;A--){if(B.dropCfg.el.get(A-1)!=jQuery.iDrag.dragged){if(!B.sortCfg.floats){if((B.dropCfg.el.get(A-1).pos.y+B.dropCfg.el.get(A-1).pos.hb/2)>jQuery.iDrag.dragged.dragCfg.ny){C=B.dropCfg.el.get(A-1)}else{break}}else{if((B.dropCfg.el.get(A-1).pos.x+B.dropCfg.el.get(A-1).pos.wb/2)>jQuery.iDrag.dragged.dragCfg.nx&&(B.dropCfg.el.get(A-1).pos.y+B.dropCfg.el.get(A-1).pos.hb/2)>jQuery.iDrag.dragged.dragCfg.ny){C=B.dropCfg.el.get(A-1)}}}}}if(C&&jQuery.iSort.inFrontOf!=C){jQuery.iSort.inFrontOf=C;jQuery(C).before(jQuery.iSort.helper.get(0))}else{if(!C&&(jQuery.iSort.inFrontOf!=null||jQuery.iSort.helper.get(0).parentNode!=B)){jQuery.iSort.inFrontOf=null;jQuery(B).append(jQuery.iSort.helper.get(0))}}jQuery.iSort.helper.get(0).style.display="block"},measure:function(A){if(jQuery.iDrag.dragged==null){return }A.dropCfg.el.each(function(){this.pos=jQuery.extend(jQuery.iUtil.getSizeLite(this),jQuery.iUtil.getPositionLite(this))})},serialize:function(C){var A;var B="";var D={};if(C){if(jQuery.iSort.collected[C]){D[C]=[];jQuery("#"+C+" ."+jQuery.iSort.collected[C]).each(function(){if(B.length>0){B+="&"}B+=C+"[]="+jQuery.attr(this,"id");D[C][D[C].length]=jQuery.attr(this,"id")})}else{for(a in C){if(jQuery.iSort.collected[C[a]]){D[C[a]]=[];jQuery("#"+C[a]+" ."+jQuery.iSort.collected[C[a]]).each(function(){if(B.length>0){B+="&"}B+=C[a]+"[]="+jQuery.attr(this,"id");D[C[a]][D[C[a]].length]=jQuery.attr(this,"id")})}}}}else{for(A in jQuery.iSort.collected){D[A]=[];jQuery("#"+A+" ."+jQuery.iSort.collected[A]).each(function(){if(B.length>0){B+="&"}B+=A+"[]="+jQuery.attr(this,"id");D[A][D[A].length]=jQuery.attr(this,"id")})}}return{hash:B,o:D}},addItem:function(A){if(!A.childNodes){return }return this.each(function(){if(!this.sortCfg||!jQuery(A).is("."+this.sortCfg.accept)){jQuery(A).addClass(this.sortCfg.accept)}jQuery(A).Draggable(this.sortCfg.dragCfg)})},destroy:function(){return this.each(function(){jQuery("."+this.sortCfg.accept).DraggableDestroy();jQuery(this).DroppableDestroy();this.sortCfg=null;this.isSortable=null})},build:function(A){if(A.accept&&jQuery.iUtil&&jQuery.iDrag&&jQuery.iDrop){if(!jQuery.iSort.helper){jQuery("body",document).append("<div id=\"sortHelper\">&nbsp;</div>");jQuery.iSort.helper=jQuery("#sortHelper");jQuery.iSort.helper.get(0).style.display="none"}this.Droppable({accept:A.accept,activeclass:A.activeclass?A.activeclass:false,hoverclass:A.hoverclass?A.hoverclass:false,helperclass:A.helperclass?A.helperclass:false,onHover:A.onHover||A.onhover,onOut:A.onOut||A.onout,sortable:true,onChange:A.onChange||A.onchange,fx:A.fx?A.fx:false,ghosting:A.ghosting?true:false,tolerance:A.tolerance?A.tolerance:"intersect"});return this.each(function(){var B={revert:A.revert?true:false,zindex:3000,opacity:A.opacity?parseFloat(A.opacity):false,hpc:A.helperclass?A.helperclass:false,fx:A.fx?A.fx:false,so:true,ghosting:A.ghosting?true:false,handle:A.handle?A.handle:null,containment:A.containment?A.containment:null,onStart:A.onStart&&A.onStart.constructor==Function?A.onStart:false,onDrag:A.onDrag&&A.onDrag.constructor==Function?A.onDrag:false,onStop:A.onStop&&A.onStop.constructor==Function?A.onStop:false,axis:/vertically|horizontally/.test(A.axis)?A.axis:false,snapDistance:A.snapDistance?parseInt(A.snapDistance)||0:false,cursorAt:A.cursorAt?A.cursorAt:false};jQuery("."+A.accept,this).Draggable(B);this.isSortable=true;this.sortCfg={accept:A.accept,revert:A.revert?true:false,zindex:3000,opacity:A.opacity?parseFloat(A.opacity):false,hpc:A.helperclass?A.helperclass:false,fx:A.fx?A.fx:false,so:true,ghosting:A.ghosting?true:false,handle:A.handle?A.handle:null,containment:A.containment?A.containment:null,floats:A.floats?true:false,dragCfg:B}})}}};jQuery.fn.extend({Sortable:jQuery.iSort.build,SortableAddItem:jQuery.iSort.addItem,SortableDestroy:jQuery.iSort.destroy});jQuery.SortSerialize=jQuery.iSort.serialize;jQuery.iTooltip={current:null,focused:false,oldTitle:null,focus:function(A){jQuery.iTooltip.focused=true;jQuery.iTooltip.show(A,this,true)},hidefocused:function(A){if(jQuery.iTooltip.current!=this){return }jQuery.iTooltip.focused=false;jQuery.iTooltip.hide(A,this)},show:function(C,A,B){if(jQuery.iTooltip.current!=null){return }if(!A){A=this}jQuery.iTooltip.current=A;pos=jQuery.extend(jQuery.iUtil.getPosition(A),jQuery.iUtil.getSize(A));jEl=jQuery(A);title=jEl.attr("title");href=jEl.attr("href");if(title){jQuery.iTooltip.oldTitle=title;jEl.attr("title","");jQuery("#tooltipTitle").html(title);if(href){jQuery("#tooltipURL").html(href.replace("http://",""))}else{jQuery("#tooltipURL").html("")}helper=jQuery("#tooltipHelper");if(A.tooltipCFG.className){helper.get(0).className=A.tooltipCFG.className}else{helper.get(0).className=""}helperSize=jQuery.iUtil.getSize(helper.get(0));filteredPosition=B&&A.tooltipCFG.position=="mouse"?"bottom":A.tooltipCFG.position;switch(filteredPosition){case"top":ny=pos.y-helperSize.hb;nx=pos.x;break;case"left":ny=pos.y;nx=pos.x-helperSize.wb;break;case"right":ny=pos.y;nx=pos.x+pos.wb;break;case"mouse":jQuery("body").bind("mousemove",jQuery.iTooltip.mousemove);pointer=jQuery.iUtil.getPointer(C);ny=pointer.y+15;nx=pointer.x+15;break;default:ny=pos.y+pos.hb;nx=pos.x;break}helper.css({top:ny+"px",left:nx+"px"});if(A.tooltipCFG.delay==false){helper.show()}else{helper.fadeIn(A.tooltipCFG.delay)}if(A.tooltipCFG.onShow){A.tooltipCFG.onShow.apply(A)}jEl.bind("mouseout",jQuery.iTooltip.hide).bind("blur",jQuery.iTooltip.hidefocused)}},mousemove:function(A){if(jQuery.iTooltip.current==null){jQuery("body").unbind("mousemove",jQuery.iTooltip.mousemove);return }pointer=jQuery.iUtil.getPointer(A);jQuery("#tooltipHelper").css({top:pointer.y+15+"px",left:pointer.x+15+"px"})},hide:function(B,A){if(!A){A=this}if(jQuery.iTooltip.focused!=true&&jQuery.iTooltip.current==A){jQuery.iTooltip.current=null;jQuery("#tooltipHelper").fadeOut(1);jQuery(A).attr("title",jQuery.iTooltip.oldTitle).unbind("mouseout",jQuery.iTooltip.hide).unbind("blur",jQuery.iTooltip.hidefocused);if(A.tooltipCFG.onHide){A.tooltipCFG.onHide.apply(A)}jQuery.iTooltip.oldTitle=null}},build:function(A){if(!jQuery.iTooltip.helper){jQuery("body").append("<div id=\"tooltipHelper\"><div id=\"tooltipTitle\"></div><div id=\"tooltipURL\"></div></div>");jQuery("#tooltipHelper").css({position:"absolute",zIndex:3000,display:"none"});jQuery.iTooltip.helper=true}return this.each(function(){if(jQuery.attr(this,"title")){this.tooltipCFG={position:/top|bottom|left|right|mouse/.test(A.position)?A.position:"bottom",className:A.className?A.className:false,delay:A.delay?A.delay:false,onShow:A.onShow&&A.onShow.constructor==Function?A.onShow:false,onHide:A.onHide&&A.onHide.constructor==Function?A.onHide:false};var B=jQuery(this);B.bind("mouseover",jQuery.iTooltip.show);B.bind("focus",jQuery.iTooltip.focus)}})}};jQuery.fn.ToolTip=jQuery.iTooltip.build;jQuery.iTTabs={doTab:function(A){pressedKey=A.charCode||A.keyCode||-1;if(pressedKey==9){if(window.event){window.event.cancelBubble=true;window.event.returnValue=false}else{A.preventDefault();A.stopPropagation()}if(this.createTextRange){document.selection.createRange().text="\t";this.onblur=function(){this.focus();this.onblur=null}}else{if(this.setSelectionRange){start=this.selectionStart;end=this.selectionEnd;this.value=this.value.substring(0,start)+"\t"+this.value.substr(end);this.setSelectionRange(start+1,start+1);this.focus()}}return false}},destroy:function(){return this.each(function(){if(this.hasTabsEnabled&&this.hasTabsEnabled==true){jQuery(this).unbind("keydown",jQuery.iTTabs.doTab);this.hasTabsEnabled=false}})},build:function(){return this.each(function(){if(this.tagName=="TEXTAREA"&&(!this.hasTabsEnabled||this.hasTabsEnabled==false)){jQuery(this).bind("keydown",jQuery.iTTabs.doTab);this.hasTabsEnabled=true}})}};jQuery.fn.extend({EnableTabs:jQuery.iTTabs.build,DisableTabs:jQuery.iTTabs.destroy});jQuery.iUtil={getPosition:function(F){var A=0;var H=0;var G=F.style;var E=false;if(jQuery(F).css("display")=="none"){var B=G.visibility;var D=G.position;E=true;G.visibility="hidden";G.display="block";G.position="absolute"}var C=F;while(C){A+=C.offsetLeft+(C.currentStyle&&!jQuery.browser.opera?parseInt(C.currentStyle.borderLeftWidth)||0:0);H+=C.offsetTop+(C.currentStyle&&!jQuery.browser.opera?parseInt(C.currentStyle.borderTopWidth)||0:0);C=C.offsetParent}C=F;while(C&&C.tagName&&C.tagName.toLowerCase()!="body"){A-=C.scrollLeft||0;H-=C.scrollTop||0;C=C.parentNode}if(E==true){G.display="none";G.position=D;G.visibility=B}return{x:A,y:H}},getPositionLite:function(B){var A=0,C=0;while(B){A+=B.offsetLeft||0;C+=B.offsetTop||0;B=B.offsetParent}return{x:A,y:C}},getSize:function(F){var A=jQuery.css(F,"width");var D=jQuery.css(F,"height");var E=0;var H=0;var G=F.style;if(jQuery(F).css("display")!="none"){E=F.offsetWidth;H=F.offsetHeight}else{var B=G.visibility;var C=G.position;G.visibility="hidden";G.display="block";G.position="absolute";E=F.offsetWidth;H=F.offsetHeight;G.display="none";G.position=C;G.visibility=B}return{w:A,h:D,wb:E,hb:H}},getSizeLite:function(A){return{wb:A.offsetWidth||0,hb:A.offsetHeight||0}},getClient:function(C){var B,A,D;if(C){A=C.clientWidth;B=C.clientHeight}else{D=document.documentElement;A=window.innerWidth||self.innerWidth||(D&&D.clientWidth)||document.body.clientWidth;B=window.innerHeight||self.innerHeight||(D&&D.clientHeight)||document.body.clientHeight}return{w:A,h:B}},getScroll:function(G){var D=0,B=0,A=0,E=0,C=0,F=0;if(G&&G.nodeName.toLowerCase()!="body"){D=G.scrollTop;B=G.scrollLeft;A=G.scrollWidth;E=G.scrollHeight;C=0;F=0}else{if(document.documentElement){D=document.documentElement.scrollTop;B=document.documentElement.scrollLeft;A=document.documentElement.scrollWidth;E=document.documentElement.scrollHeight}else{if(document.body){D=document.body.scrollTop;B=document.body.scrollLeft;A=document.body.scrollWidth;E=document.body.scrollHeight}}C=self.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0;F=self.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0}return{t:D,l:B,w:A,h:E,iw:C,ih:F}},getMargins:function(G,C){var E=jQuery(G);var D=E.css("marginTop")||"";var F=E.css("marginRight")||"";var A=E.css("marginBottom")||"";var B=E.css("marginLeft")||"";if(C){return{t:parseInt(D)||0,r:parseInt(F)||0,b:parseInt(A)||0,l:parseInt(B)}}else{return{t:D,r:F,b:A,l:B}}},getPadding:function(G,C){var E=jQuery(G);var D=E.css("paddingTop")||"";var F=E.css("paddingRight")||"";var A=E.css("paddingBottom")||"";var B=E.css("paddingLeft")||"";if(C){return{t:parseInt(D)||0,r:parseInt(F)||0,b:parseInt(A)||0,l:parseInt(B)}}else{return{t:D,r:F,b:A,l:B}}},getBorder:function(G,C){var E=jQuery(G);var D=E.css("borderTopWidth")||"";var F=E.css("borderRightWidth")||"";var A=E.css("borderBottomWidth")||"";var B=E.css("borderLeftWidth")||"";if(C){return{t:parseInt(D)||0,r:parseInt(F)||0,b:parseInt(A)||0,l:parseInt(B)||0}}else{return{t:D,r:F,b:A,l:B}}},getPointer:function(B){var A=B.pageX||(B.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft))||0;var C=B.pageY||(B.clientY+(document.documentElement.scrollTop||document.body.scrollTop))||0;return{x:A,y:C}},traverseDOM:function(A,B){B(A);A=A.firstChild;while(A){jQuery.iUtil.traverseDOM(A,B);A=A.nextSibling}},purgeEvents:function(A){jQuery.iUtil.traverseDOM(A,function(C){for(var B in C){if(typeof C[B]==="function"){C[B]=null}}})},centerEl:function(D,C){var A=jQuery.iUtil.getScroll();var B=jQuery.iUtil.getSize(D);if(!C||C=="vertically"){jQuery(D).css({top:A.t+((Math.max(A.h,A.ih)-A.t-B.hb)/2)+"px"})}if(!C||C=="horizontally"){jQuery(D).css({left:A.l+((Math.max(A.w,A.iw)-A.l-B.wb)/2)+"px"})}},fixPNG:function(B,D){var A=jQuery("img[@src*=\"png\"]",B||document),C;A.each(function(){C=this.src;this.src=D;this.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+C+"')"})}};[].indexOf||(Array.prototype.indexOf=function(B,D){D=(D==null)?0:D;var A=this.length;for(var C=D;C<A;C++){if(this[C]==B){return C}}return -1});jQuery.iAuto={helper:null,content:null,iframe:null,timer:null,lastValue:null,currentValue:null,subject:null,selectedItem:null,items:null,empty:function(){jQuery.iAuto.content.empty();if(jQuery.iAuto.iframe){jQuery.iAuto.iframe.hide()}},clear:function(){if(jQuery.iAuto.subject){jQuery.iAuto.items=null;jQuery.iAuto.selectedItem=null;jQuery.iAuto.lastValue=jQuery.iAuto.subject.value;if(jQuery.iAuto.helper.css("display")=="block"){if(jQuery.iAuto.subject.autoCFG.fx){switch(jQuery.iAuto.subject.autoCFG.fx.type){case"fade":jQuery.iAuto.helper.fadeOut(jQuery.iAuto.subject.autoCFG.fx.duration,jQuery.iAuto.empty);break;case"slide":jQuery.iAuto.helper.SlideOutUp(jQuery.iAuto.subject.autoCFG.fx.duration,jQuery.iAuto.empty);break;case"blind":jQuery.iAuto.helper.BlindUp(jQuery.iAuto.subject.autoCFG.fx.duration,jQuery.iAuto.empty);break}}else{jQuery.iAuto.helper.hide()}if(jQuery.iAuto.subject.autoCFG.onHide){jQuery.iAuto.subject.autoCFG.onHide.apply(jQuery.iAuto.subject,[jQuery.iAuto.helper,jQuery.iAuto.iframe])}}else{jQuery.iAuto.empty()}}window.clearTimeout(jQuery.iAuto.timer)},update:function(){var B=jQuery.iAuto.subject;var A=jQuery.iAuto.getFieldValues(B);var E=B.autoCFG.source;var D=B.autoCFG.dataSourceType;var F=B.autoCFG.isXML;if(B&&A.item!=jQuery.iAuto.lastValue&&A.item.length>=B.autoCFG.minchars){jQuery.iAuto.lastValue=A.item;jQuery.iAuto.currentValue=A.item;data={field:jQuery(B).attr("name")||"field",value:A.item};if(typeof E=="string"){jQuery.ajax({type:"POST",data:jQuery.param(data),dataType:(F)?"xml":"json",success:function(G){jQuery.iAuto.handleData(G,B,A,F)},url:E})}else{if(typeof E=="function"){var C=E(data);jQuery.iAuto.handleData(C,B,A,F)}}}},writeItems:function(D,F){jQuery.iAuto.content.html(F);jQuery.iAuto.items=jQuery("li",jQuery.iAuto.content.get(0));jQuery.iAuto.items.mouseover(jQuery.iAuto.hoverItem).bind("click",jQuery.iAuto.clickItem);var A=jQuery.iUtil.getPosition(D);var C=jQuery.iUtil.getSize(D);jQuery.iAuto.helper.css("top",A.y+C.hb+"px").css("left",A.x+"px").addClass(D.autoCFG.helperClass);if(jQuery.iAuto.iframe){jQuery.iAuto.iframe.css("display","block").css("top",A.y+C.hb+"px").css("left",A.x+"px").css("width",jQuery.iAuto.helper.css("width")).css("height",jQuery.iAuto.helper.css("height"))}jQuery.iAuto.selectedItem=0;jQuery.iAuto.items.get(0).className=D.autoCFG.selectClass;jQuery.iAuto.applyOn(D,D.autoCFG.lastSuggestion[0],"onHighlight");if(jQuery.iAuto.helper.css("display")=="none"){if(D.autoCFG.inputWidth){var E=jQuery.iUtil.getPadding(D,true);var B=jQuery.iUtil.getBorder(D,true);jQuery.iAuto.helper.css("width",D.offsetWidth-(jQuery.boxModel?(E.l+E.r+B.l+B.r):0)+"px")}if(D.autoCFG.fx){switch(D.autoCFG.fx.type){case"fade":jQuery.iAuto.helper.fadeIn(D.autoCFG.fx.duration);break;case"slide":jQuery.iAuto.helper.SlideInUp(D.autoCFG.fx.duration);break;case"blind":jQuery.iAuto.helper.BlindDown(D.autoCFG.fx.duration);break}}else{jQuery.iAuto.helper.show()}if(jQuery.iAuto.subject.autoCFG.onShow){jQuery.iAuto.subject.autoCFG.onShow.apply(jQuery.iAuto.subject,[jQuery.iAuto.helper,jQuery.iAuto.iframe])}}},checkCache:function(){var A=this;if(A.autoCFG.lastSuggestion){jQuery.iAuto.lastValue=A.value;jQuery.iAuto.currentValue=A.value;var D=A.autoCFG.isXML;var B=function(E){var F,H,G;if(D){F=jQuery("value",this).text();H=jQuery("text",this).text()}else{F=this.value;H=this.text}G=F.toLowerCase();inputValue=A.value.toLowerCase();if(G.indexOf(inputValue)==0){C+="<li rel=\""+F+"\" dir=\""+E+"\" style=\"cursor: default;\">"+H+"</li>"}};var C="";if(D){A.autoCFG.lastSuggestion.each(B)}else{jQuery.each(A.autoCFG.lastSuggestion,B)}if(C!=""){jQuery.iAuto.writeItems(A,C);this.autoCFG.inCache=true;return }}A.autoCFG.lastSuggestion=null;this.autoCFG.inCache=false},selection:function(C,D,B){if(C.createTextRange){var A=C.createTextRange();A.collapse(true);A.moveStart("character",D);A.moveEnd("character",-B+D);A.select()}else{if(C.setSelectionRange){C.setSelectionRange(D,B)}else{if(C.selectionStart){C.selectionStart=D;C.selectionEnd=B}}}C.focus()},getSelectionStart:function(B){if(B.selectionStart){return B.selectionStart}else{if(B.createTextRange){var A=document.selection.createRange();var C=A.duplicate();return 0-C.moveStart("character",-100000)}}},getFieldValues:function(E){var A={value:E.value,pre:"",post:"",item:""};if(E.autoCFG.multiple){var D=false;var C=jQuery.iAuto.getSelectionStart(E)||0;var F=A.value.split(E.autoCFG.multipleSeparator);for(var B=0;B<F.length;B++){if((A.pre.length+F[B].length>=C||C==0)&&!D){if(A.pre.length<=C){A.item=F[B]}else{A.post+=F[B]+(F[B]!=""?E.autoCFG.multipleSeparator:"")}D=true}else{if(D){A.post+=F[B]+(F[B]!=""?E.autoCFG.multipleSeparator:"")}}if(!D){A.pre+=F[B]+(F.length>1?E.autoCFG.multipleSeparator:"")}}}else{A.item=A.value}return A},autocomplete:function(D){window.clearTimeout(jQuery.iAuto.timer);var B=jQuery.iAuto.getFieldValues(this);var E=D.charCode||D.keyCode||-1;if(/13|27|35|36|38|40|9/.test(E)&&jQuery.iAuto.items){if(window.event){window.event.cancelBubble=true;window.event.returnValue=false}else{D.preventDefault();D.stopPropagation()}if(jQuery.iAuto.selectedItem!=null){jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).className=""}else{jQuery.iAuto.selectedItem=-1}switch(E){case 9:case 13:if(jQuery.iAuto.selectedItem==-1){jQuery.iAuto.selectedItem=0}var C=jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0);var F=C.getAttribute("rel");this.value=B.pre+F+this.autoCFG.multipleSeparator+B.post;jQuery.iAuto.lastValue=B.item;jQuery.iAuto.selection(this,B.pre.length+F.length+this.autoCFG.multipleSeparator.length,B.pre.length+F.length+this.autoCFG.multipleSeparator.length);jQuery.iAuto.clear();if(this.autoCFG.onSelect){iteration=parseInt(C.getAttribute("dir"))||0;jQuery.iAuto.applyOn(this,this.autoCFG.lastSuggestion[iteration],"onSelect")}if(this.scrollIntoView){this.scrollIntoView(false)}return E!=13;break;case 27:this.value=B.pre+jQuery.iAuto.lastValue+this.autoCFG.multipleSeparator+B.post;this.autoCFG.lastSuggestion=null;jQuery.iAuto.clear();if(this.scrollIntoView){this.scrollIntoView(false)}return false;break;case 35:jQuery.iAuto.selectedItem=jQuery.iAuto.items.size()-1;break;case 36:jQuery.iAuto.selectedItem=0;break;case 38:jQuery.iAuto.selectedItem--;if(jQuery.iAuto.selectedItem<0){jQuery.iAuto.selectedItem=jQuery.iAuto.items.size()-1}break;case 40:jQuery.iAuto.selectedItem++;if(jQuery.iAuto.selectedItem==jQuery.iAuto.items.size()){jQuery.iAuto.selectedItem=0}break}jQuery.iAuto.applyOn(this,this.autoCFG.lastSuggestion[jQuery.iAuto.selectedItem||0],"onHighlight");jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).className=this.autoCFG.selectClass;if(jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).scrollIntoView){jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).scrollIntoView(false)}if(this.autoCFG.autofill){var A=jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).getAttribute("rel");this.value=B.pre+A+this.autoCFG.multipleSeparator+B.post;if(jQuery.iAuto.lastValue.length!=A.length){jQuery.iAuto.selection(this,B.pre.length+jQuery.iAuto.lastValue.length,B.pre.length+A.length)}}return false}jQuery.iAuto.checkCache.apply(this);if(this.autoCFG.inCache==false){if(B.item!=jQuery.iAuto.lastValue&&B.item.length>=this.autoCFG.minchars){jQuery.iAuto.timer=window.setTimeout(jQuery.iAuto.update,this.autoCFG.delay)}if(jQuery.iAuto.items){jQuery.iAuto.clear()}}return true},applyOn:function(D,B,A){var E=D.autoCFG.source;if(D.autoCFG[A]){var C={};if(D.autoCFG.isXML){childs=B.getElementsByTagName("*");for(i=0;i<childs.length;i++){C[childs[i].tagName]=childs[i].firstChild.nodeValue}}else{C=B}D.autoCFG[A].apply(D,[C])}},hoverItem:function(A){if(jQuery.iAuto.items){if(jQuery.iAuto.selectedItem!=null){jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).className=""}jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).className="";jQuery.iAuto.selectedItem=parseInt(this.getAttribute("dir"))||0;jQuery.iAuto.items.get(jQuery.iAuto.selectedItem||0).className=jQuery.iAuto.subject.autoCFG.selectClass}},clickItem:function(B){window.clearTimeout(jQuery.iAuto.timer);B=B||jQuery.event.fix(window.event);B.preventDefault();B.stopPropagation();var A=jQuery.iAuto.getFieldValues(jQuery.iAuto.subject);var C=this.getAttribute("rel");jQuery.iAuto.subject.value=A.pre+C+jQuery.iAuto.subject.autoCFG.multipleSeparator+A.post;jQuery.iAuto.lastValue=this.getAttribute("rel");jQuery.iAuto.selection(jQuery.iAuto.subject,A.pre.length+C.length+jQuery.iAuto.subject.autoCFG.multipleSeparator.length,A.pre.length+C.length+jQuery.iAuto.subject.autoCFG.multipleSeparator.length);jQuery.iAuto.clear();if(jQuery.iAuto.subject.autoCFG.onSelect){iteration=parseInt(this.getAttribute("dir"))||0;jQuery.iAuto.applyOn(jQuery.iAuto.subject,jQuery.iAuto.subject.autoCFG.lastSuggestion[iteration],"onSelect")}return false},protect:function(A){pressedKey=A.charCode||A.keyCode||-1;if(/13|27|35|36|38|40/.test(pressedKey)&&jQuery.iAuto.items){if(window.event){window.event.cancelBubble=true;window.event.returnValue=false}else{A.preventDefault();A.stopPropagation()}return false}},build:function(A){if(!A.source||!jQuery.iUtil){return }if(!jQuery.iAuto.helper){if(jQuery.browser.msie){jQuery("body",document).append("<iframe style=\"display:none;position:absolute;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=0);\" id=\"autocompleteIframe\" src=\"javascript:false;\" frameborder=\"0\" scrolling=\"no\"></iframe>");jQuery.iAuto.iframe=jQuery("#autocompleteIframe")}jQuery("body",document).append("<div id=\"autocompleteHelper\" style=\"position: absolute; top: 0; left: 0; z-index: 30001; display: none;\"><ul style=\"margin: 0;padding: 0; list-style: none; z-index: 30002;\">&nbsp;</ul></div>");jQuery.iAuto.helper=jQuery("#autocompleteHelper");jQuery.iAuto.content=jQuery("ul",jQuery.iAuto.helper)}return this.each(function(){if(this.tagName!="INPUT"&&this.getAttribute("type")!="text"){return }this.autoCFG={};this.autoCFG.source=A.source;this.autoCFG.minchars=Math.abs(parseInt(A.minchars)||1);this.autoCFG.helperClass=A.helperClass?A.helperClass:"";this.autoCFG.selectClass=A.selectClass?A.selectClass:"";this.autoCFG.onSelect=A.onSelect&&A.onSelect.constructor==Function?A.onSelect:null;this.autoCFG.onShow=A.onShow&&A.onShow.constructor==Function?A.onShow:null;this.autoCFG.onHide=A.onHide&&A.onHide.constructor==Function?A.onHide:null;this.autoCFG.onHighlight=A.onHighlight&&A.onHighlight.constructor==Function?A.onHighlight:null;this.autoCFG.inputWidth=A.inputWidth||false;this.autoCFG.dataSourceType=A.dataSourceType||"xml";this.autoCFG.dataSourceType=this.autoCFG.dataSourceType.toLowerCase();this.autoCFG.isXML=(this.autoCFG.dataSourceType=="xml");this.autoCFG.multiple=A.multiple||false;this.autoCFG.multipleSeparator=this.autoCFG.multiple?(A.multipleSeparator||", "):"";this.autoCFG.autofill=A.autofill?true:false;this.autoCFG.delay=Math.abs(parseInt(A.delay)||1000);if(A.fx&&A.fx.constructor==Object){if(!A.fx.type||!/fade|slide|blind/.test(A.fx.type)){A.fx.type="slide"}if(A.fx.type=="slide"&&!jQuery.fx.slide){return }if(A.fx.type=="blind"&&!jQuery.fx.BlindDirection){return }A.fx.duration=Math.abs(parseInt(A.fx.duration)||400);if(A.fx.duration>this.autoCFG.delay){A.fx.duration=this.autoCFG.delay-100}this.autoCFG.fx=A.fx}this.autoCFG.lastSuggestion=null;this.autoCFG.inCache=false;jQuery(this).attr("autocomplete","off").focus(function(){jQuery.iAuto.subject=this;jQuery.iAuto.lastValue=this.value}).keypress(jQuery.iAuto.protect).keyup(jQuery.iAuto.autocomplete).blur(function(){jQuery.iAuto.timer=window.setTimeout(jQuery.iAuto.clear,200)})})}};jQuery.iAuto.handleData=function(B,C,A,G){if(B.length==0){return }if(G){C.autoCFG.lastSuggestion=jQuery("item",B)}else{C.autoCFG.lastSuggestion=B}size=C.autoCFG.lastSuggestion.length;if(size>0){var F="";var D=function(H){var J,I;if(G){J=jQuery("text",this).text();I=jQuery("value",this).text()}else{J=this.text;I=this.value}F+="<li rel=\""+I+"\" dir=\""+H+"\" style=\"cursor: default;\">"+J+"</li>"};if(G){C.autoCFG.lastSuggestion.each(D)}else{jQuery.each(B,D)}if(C.autoCFG.autofill){var E;if(G){E=jQuery("value",C.autoCFG.lastSuggestion[0]).text()}else{E=C.autoCFG.lastSuggestion[0].value}C.value=A.pre+E+C.autoCFG.multipleSeparator+A.post;jQuery.iAuto.selection(C,A.item.length!=E.length?(A.pre.length+A.item.length):E.length,A.item.length!=E.length?(A.pre.length+E.length):E.length)}if(size>0){jQuery.iAuto.writeItems(C,F)}else{jQuery.iAuto.clear()}}else{jQuery.iAuto.clear()}};jQuery.fn.Autocomplete=jQuery.iAuto.build;jQuery.iDrag.build=function(C){if(!jQuery.iDrag.helper){jQuery("body",document).append("<div id=\"dragHelper\"></div>");jQuery.iDrag.helper=jQuery("#dragHelper");var B=jQuery.iDrag.helper[0];var A=B.style;A.position="absolute";A.display="none";A.cursor="move";A.listStyle="none";A.overflow="hidden";if(window.ActiveXObject){B.unselectable="on"}else{A.mozUserSelect="none";A.userSelect="none";A.KhtmlUserSelect="none"}}if(!C){C={}}return this.each(function(){if(this.isDraggable||!jQuery.iUtil){return }if(window.ActiveXObject){this.onselectstart=function(){return false};this.ondragstart=function(){return false}}var E=this;var D=C.handle?jQuery(C.handle,this):jQuery(this);this.dragCfg={dhe:D,revert:C.revert?true:false,ghosting:C.ghosting?true:false,so:C.so?C.so:false,si:C.si?C.si:false,insideParent:C.insideParent?C.insideParent:false,zIndex:C.zIndex?parseInt(C.zIndex)||0:false,opacity:C.opacity?parseFloat(C.opacity):false,fx:parseInt(C.fx)||null,hpc:C.hpc?C.hpc:false,onDragModifier:{},pointer:{},onStart:C.onStart&&C.onStart.constructor==Function?C.onStart:false,onStop:C.onStop&&C.onStop.constructor==Function?C.onStop:false,onChange:C.onChange&&C.onChange.constructor==Function?C.onChange:false,axis:/vertically|horizontally/.test(C.axis)?C.axis:false,snapDistance:C.snapDistance?parseInt(C.snapDistance)||0:0,cursorAt:C.cursorAt?C.cursorAt:false,autoSize:C.autoSize?true:false,frameClass:C.frameClass||false};if(C.onDragModifier&&C.onDragModifier.constructor==Function){this.dragCfg.onDragModifier.user=C.onDragModifier}if(C.onDrag&&C.onDrag.constructor==Function){this.dragCfg.onDrag=C.onDrag}if(C.containment&&((C.containment.constructor==String&&(C.containment=="parent"||C.containment=="document"))||(C.containment.constructor==Array&&C.containment.length==4))){this.dragCfg.containment=C.containment}if(C.fractions){this.dragCfg.fractions=C.fractions}if(C.grid){if(typeof C.grid=="number"){this.dragCfg.gx=parseInt(C.grid)||1;this.dragCfg.gy=parseInt(C.grid)||1}else{if(C.grid.length==2){this.dragCfg.gx=parseInt(C.grid[0])||1;this.dragCfg.gy=parseInt(C.grid[1])||1}}}if(C.onSlide&&C.onSlide.constructor==Function){this.dragCfg.onSlide=C.onSlide}this.isDraggable=true;D.each(function(){this.dragElem=E;if(jQuery.browser.msie){this.unselectable="on"}else{this.style.MozUserSelect="none";this.style.userSelect="none";this.style.KhtmlUserSelect="none"}});D.bind("mousedown",jQuery.iDrag.draginit)})};jQuery.fn.Draggable=jQuery.iDrag.build;var jQBrowser2=function(){var A=true;var M={"browser":"Unknown","version":{"number":undefined,"string":"Unknown"},"OS":"Unknown","aol":false,"camino":false,"firefox":false,"flock":false,"icab":false,"konqueror":false,"mozilla":false,"msie":false,"netscape":false,"opera":false,"safari":false,"iphone":false,"linux":false,"mac":false,"win":false};for(var G=0,B=navigator.userAgent,I=navigator.vendor,F=[{"name":"Safari","browser":/Apple/.test(I)},{"name":"Opera","browser":window.opera!=undefined},{"name":"iCab","browser":/iCab/.test(I)},{"name":"Konqueror","browser":/KDE/.test(I)},{"identifier":"aol","name":"AOL Explorer","browser":/America Online Browser/.test(B),"version":B.match(/rev(\d+(?:\.\d+)+)/)},{"name":"Flock","browser":/Flock/.test(B)},{"name":"Camino","browser":/Camino/.test(I)},{"name":"Firefox","browser":/Firefox/.test(B)},{"name":"Netscape","browser":/Netscape/.test(B)},{"identifier":"msie","name":"Internet Explorer","browser":/MSIE/.test(B),"version":B.match(/MSIE (\d+(?:\.\d+)+(?:b\d*)?)/)},{"name":"Mozilla","browser":/Gecko|Mozilla/.test(B),"version":B.match(/rv:(\d+(?:\.\d+)+)/)}];G<F.length;G++){if(F[G].browser){var J=F[G].identifier?F[G].identifier:F[G].name.toLowerCase();M[J]=true;M.browser=F[G].name;var O;if(F[G].version!=undefined&&(O=F[G].version)){M.version.string=O[1];M.version.number=parseFloat(O[1])}else{var N=new RegExp(F[G].name+"(?:\\s|\\/)(\\d+(?:\\.\\d+)+(?:(?:a|b)\\d*)?)");O=B.match(N);if(O!=undefined){M.version.string=O[1];M.version.number=parseFloat(O[1])}}if(/firefox|camino|flock|netscape/i.test(M.browser)){M.mozilla=true}break}}for(var G=0,D=navigator.platform,F=[{"identifier":"win","name":"Windows","OS":/Win/.test(D)},{"name":"Mac","OS":/Mac/.test(D)},{"name":"Linux","OS":/Linux/.test(D)},{"name":"iPhone","OS":/iPhone/.test(D)}];G<F.length;G++){if(F[G].OS){var J=F[G].identifier?F[G].identifier:F[G].name.toLowerCase();M[J]=true;M.OS=F[G].name;break}}var H={"browser":M.browser,"version":{"number":function(){return !arguments.length?M.version.number:Math.floor(M.version.number)},"string":function(){return !arguments.length?M.version.string:this.number("round").toString()}},"OS":M.OS,"aol":M.aol,"camino":M.camino,"firefox":M.firefox,"flock":M.flock,"icab":M.icab,"konqueror":M.konqueror,"mozilla":M.mozilla,"msie":M.msie,"netscape":M.netscape,"opera":M.opera,"safari":M.safari,"iphone":M.iphone,"linux":M.linux,"mac":M.mac,"win":M.win};jQuery.browser=H;if(!A){return }var C=jQuery.browser.browser.toLowerCase();var L=jQuery.browser.version.string("round");var K=jQuery.browser.msie?"ie ie"+jQuery.browser.version.string("round"):(jQuery.browser.mozilla)?"gecko "+C+L+" "+C:(jQuery.browser.opera)?"opera "+C+L:(jQuery.browser.safari)?"safari "+C+L:jQuery.browser.konqueror?"konqueror "+C+L:jQuery.browser.icab?"icab "+C+L:jQuery.browser.aol?"aol "+C+L:"",E=jQuery.browser.linux?"linux":jQuery.browser.iphone?"iphone":jQuery.browser.mac?"mac":jQuery.browser.win?"win":"";jQuery("html").addClass(K).addClass(E).addClass("js")}();jQuery.fn.editable=function(target,options,callback){if(this.length==0){return(this)}var settings={target:target,name:"value",id:"id",type:"text",width:"auto",height:"auto",event:"click",onblur:"cancel",loadtype:"GET"};if(options){jQuery.extend(settings,options)}var callback=callback||function(){};jQuery(this).attr("title",settings.tooltip);jQuery(this)[settings.event](function(e){var self=this;if(self.editing){return }var width=("auto"==settings.width)?jQuery(self).width():settings.width;var height=("auto"==settings.height)?jQuery(self).height():settings.height;self.editing=true;self.revert=jQuery(self).html();self.innerHTML="";var f=document.createElement("form");if(settings.cssclass){if("inherit"==settings.cssclass){jQuery(f).attr("class",jQuery(self).attr("class"))}else{jQuery(f).attr("class",settings.cssclass)}}if(settings.style){if("inherit"==settings.style){jQuery(f).attr("style",jQuery(self).attr("style"));jQuery(f).css("display",jQuery(self).css("display"))}else{jQuery(f).attr("style",settings.style)}}var i;switch(settings.type){case"textarea":i=document.createElement("textarea");if(settings.rows){i.rows=settings.rows}else{jQuery(i).height(height)}if(settings.cols){i.cols=settings.cols}else{jQuery(i).width(width)}break;case"select":i=document.createElement("select");break;default:i=document.createElement("input");i.type=settings.type;jQuery(i).width(width);jQuery(i).height(height);i.setAttribute("autocomplete","off")}if(settings.getload){settings.loadurl=settings.getload;settings.loadtype="GET"}else{if(settings.postload){settings.loadurl=settings.postload;settings.loadtype="POST"}}if(settings.loadurl){var data={};data[settings.id]=self.id;jQuery.ajax({type:settings.loadtype,url:settings.loadurl,data:data,success:function(str){setInputContent(str)}})}else{if(settings.data){setInputContent(settings.data)}else{setInputContent(self.revert)}}i.name=settings.name;f.appendChild(i);if(settings.submit){var b=document.createElement("input");b.type="submit";b.value=settings.submit;f.appendChild(b)}if(settings.cancel){var b=document.createElement("input");b.type="button";b.value=settings.cancel;jQuery(b).click(function(){reset()});f.appendChild(b)}self.appendChild(f);i.focus();if(settings.select){i.select()}jQuery(i).keydown(function(e){if(e.keyCode==27){e.preventDefault();reset()}});var t;if("cancel"==settings.onblur){jQuery(i).blur(function(e){t=setTimeout(reset,500)})}else{if("submit"==settings.onblur){jQuery(i).blur(function(e){jQuery(f).submit()})}else{jQuery(i).blur(function(e){})}}jQuery(f).submit(function(e){if(t){clearTimeout(t)}e.preventDefault();if(jQuery.isFunction(settings.target)){var str=settings.target.apply(self,[jQuery(i).val(),settings]);self.innerHTML=str;self.editing=false;callback.apply(self,[self.innerHTML,settings])}else{var p={};p[i.name]=jQuery(i).val();p[settings.id]=self.id;jQuery(self).html(settings.indicator);jQuery.post(settings.target,p,function(str){self.innerHTML=str;self.editing=false;callback.apply(self,[self.innerHTML,settings])})}return false});function reset(){self.innerHTML=self.revert;self.editing=false}function setInputContent(str){if(jQuery.isFunction(str)){var str=str.apply(self,[self.revert,settings])}switch(settings.type){case"select":if(String==str.constructor){eval("var json = "+str);for(var key in json){if("selected"==key){continue}o=document.createElement("option");o.value=key;var text=document.createTextNode(json[key]);o.appendChild(text);if(key==json["selected"]){o.selected=true}i.appendChild(o)}}break;default:i.value=str;break}}});return(this)};(function($){var m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\"":"\\\"","\\":"\\\\"},s={"array":function(x){var a=["["],b,f,i,l=x.length,v;for(i=0;i<l;i+=1){v=x[i];f=s[typeof v];if(f){v=f(v);if(typeof v=="string"){if(b){a[a.length]=","}a[a.length]=v;b=true}}}a[a.length]="]";return a.join("")},"boolean":function(x){return String(x)},"null":function(x){return"null"},"number":function(x){return isFinite(x)?String(x):"null"},"object":function(x){if(x){if(x instanceof Array){return s.array(x)}var a=["{"],b,f,i,v;for(i in x){v=x[i];f=s[typeof v];if(f){v=f(v);if(typeof v=="string"){if(b){a[a.length]=","}a.push(s.string(i),":",v);b=true}}}a[a.length]="}";return a.join("")}return"null"},"string":function(x){if(/["\\\x00-\x1f]/.test(x)){x=x.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=m[b];if(c){return c}c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})}return"\""+x+"\""}};$.toJSON=function(v){var f=isNaN(v)?s[typeof v]:s["number"];if(f){return f(v)}};$.parseJSON=function(v,safe){if(safe===undefined){safe=$.parseJSON.safe}if(safe&&!/^("(\\.|[^"\\\n\r])*?"|[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t])+?$/.test(v)){return undefined}return eval("("+v+")")};$.parseJSON.safe=false})(jQuery);(function(C){C.fn.media=function(K,J,L){return this.each(function(){if(typeof K=="function"){L=J;J=K;K={}}var S=G(this,K);if(typeof J=="function"){J(this,S)}var R=I();var M=R.exec(S.src)||[""];S.type?M[0]=S.type:M.shift();for(var Q=0;Q<M.length;Q++){fn=M[Q].toLowerCase();if(E(fn[0])){fn="fn"+fn}if(!C.fn.media[fn]){continue}var P=C.fn.media[fn+"_player"];if(!S.params){S.params={}}if(P){var O=P.autoplayAttr=="autostart";S.params[P.autoplayAttr||"autoplay"]=O?(S.autoplay?1:0):S.autoplay?true:false}var N=C.fn.media[fn](this,S);N.css("backgroundColor",S.bgColor).width(S.width);if(typeof L=="function"){L(this,N[0],S)}break}})};C.fn.mediabox=function(J,K){return this.click(function(){if(typeof C.blockUI=="undefined"||typeof C.fn.displayBox=="undefined"){if(typeof C.fn.mediabox.warning!="undefined"){return this}C.fn.mediabox.warning=1;alert("The mediabox method requires blockUI v1.20 or later.");return false}var N,O=0,M=C(this).clone();M.appendTo("body").hide().css({margin:0});J=C.extend({},J,{autoplay:1});M.media(J,function(){},function(R,Q,P){O=Q;N=P});if(!O){return false}var L=C.browser.safari?C(O).hide():C(O).remove();if(N.loadingImage){L.css({backgroundImage:"url("+N.loadingImage+")",backgroundPosition:"center center",backgroundRepeat:"no-repeat"})}if(N.boxTitle){L.prepend("<div style=\"margin:0;padding:0\">"+N.boxTitle+"</div>")}if(K){L.css(K)}L.displayBox({width:N.width,height:N.height},function(P){C(P).find("object,embed").each(function(){try{this.Stop()}catch(Q){}try{this.DoStop()}catch(Q){}try{this.controls.stop()}catch(Q){}})});return false})};C.fn.media.mapFormat=function(K,J){if(!K||!J||!C.fn.media.defaults.players[J]){return }K=K.toLowerCase();if(E(K[0])){K="fn"+K}C.fn.media[K]=C.fn.media[J]};C.fn.media.defaults={width:400,height:400,preferMeta:1,autoplay:0,bgColor:"#ffffff",params:{},attrs:{},flashvars:{},flashVersion:"7",boxTitle:null,loadingImage:null,flvPlayer:"mediaplayer.swf",mp3Player:"mediaplayer.swf",silverlight:{inplaceInstallPrompt:"true",isWindowless:"true",framerate:"24",version:"0.9",onError:null,onLoad:null,initParams:null,userContext:null}};C.fn.media.defaults.players={flash:{types:"flv,mp3,swf",oAttrs:{classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",type:"application/x-oleobject",codebase:"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+C.fn.media.defaults.flashVersion},eAttrs:{type:"application/x-shockwave-flash",pluginspage:"http://www.adobe.com/go/getflashplayer"}},quicktime:{types:"aif,aiff,aac,au,bmp,gsm,mov,mid,midi,mpg,mpeg,mp4,m4a,psd,qt,qtif,qif,qti,snd,tif,tiff,wav,3g2,3gp",oAttrs:{classid:"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",codebase:"http://www.apple.com/qtactivex/qtplugin.cab"},eAttrs:{pluginspage:"http://www.apple.com/quicktime/download/"}},realplayer:{types:"ra,ram,rm,rpm,rv,smi,smil",autoplayAttr:"autostart",oAttrs:{classid:"clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA"},eAttrs:{type:"audio/x-pn-realaudio-plugin",pluginspage:"http://www.real.com/player/"}},winmedia:{types:"asf,avi,wma,wmv",autoplayAttr:"autostart",oUrl:"url",oAttrs:{classid:"clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6",type:"application/x-oleobject"},eAttrs:{type:"application/x-mplayer2",pluginspage:"http://www.microsoft.com/Windows/MediaPlayer/"}},iframe:{types:"html,pdf"},silverlight:{types:"xaml"}};var A=1;for(var H in C.fn.media.defaults.players){var D=C.fn.media.defaults.players[H].types;C.each(D.split(","),function(J,K){if(E(K[0])){K="fn"+K}C.fn.media[K]=C.fn.media[H]=B(H);C.fn.media[K+"_player"]=C.fn.media.defaults.players[H]})}function I(){var K="";for(var J in C.fn.media.defaults.players){if(K.length){K+=","}K+=C.fn.media.defaults.players[J].types}return new RegExp("\\.("+K.replace(/,/g,"|")+")\\b")}function B(J){return function(L,K){return F(L,K,J)}}function E(J){return"0123456789".indexOf(J)>-1}function G(L,U){U=U||{};var T=C(L);var S=L.className||"";var R=C.meta?T.data():{};var Q=R.width||parseInt(((S.match(/w:(\d+)/)||[])[1]||0));var M=R.height||parseInt(((S.match(/h:(\d+)/)||[])[1]||0));if(Q){R.width=Q}if(M){R.height=M}if(S){R.cls=S}var P=C.fn.media.defaults;var O=C.meta&&C.fn.media.defaults.preferMeta?U:R;var N=O==U?R:U;var K={params:{bgColor:U.bgColor||C.fn.media.defaults.bgColor}};var J=C.extend({},P,O,N);C.each(["attrs","params","flashvars","silverlight"],function(V,W){J[W]=C.extend({},K[W]||{},P[W]||{},O[W]||{},N[W]||{})});if(typeof J.caption=="undefined"){J.caption=T.text()}J.src=J.src||T.attr("href")||T.attr("src")||"unknown";return J}C.fn.media.swf=function(N,J){if(typeof SWFObject=="undefined"){if(J.flashvars){var Q=[];for(var O in J.flashvars){Q.push(O+"="+J.flashvars[O])}if(!J.params){J.params={}}J.params.flashvars=Q.join("&")}return F(N,J,"flash")}var L=N.id?(" id=\""+N.id+"\""):"";var R=J.cls?(" class=\""+J.cls+"\""):"";var P=C("<div"+L+R+">");C(N).after(P).remove();var M=new SWFObject(J.src,"movie_player_"+A++,J.width,J.height,J.flashVersion,J.bgColor);for(var K in J.params){if(K!="bgColor"){M.addParam(K,J.params[K])}}for(var O in J.flashvars){M.addVariable(O,J.flashvars[O])}M.write(P[0]);if(J.caption){C("<div>").appendTo(P).html(J.caption)}return P};C.fn.media.flv=C.fn.media.mp3=function(K,L){var M=L.src;var J=/\.mp3\b/i.test(M)?C.fn.media.defaults.mp3Player:C.fn.media.defaults.flvPlayer;L.src=J;L.src=L.src+"?file="+M;L.flashvars=C.extend({},{file:M},L.flashvars);return C.fn.media.swf(K,L)};C.fn.media.xaml=function(P,Q){if(!window.Sys||!window.Sys.Silverlight){if(C.fn.media.xaml.warning){return }C.fn.media.xaml.warning=1;alert("You must include the Silverlight.js script.");return }var O={width:Q.width,height:Q.height,background:Q.bgColor,inplaceInstallPrompt:Q.silverlight.inplaceInstallPrompt,isWindowless:Q.silverlight.isWindowless,framerate:Q.silverlight.framerate,version:Q.silverlight.version};var M={onError:Q.silverlight.onError,onLoad:Q.silverlight.onLoad};var N=P.id?(" id=\""+P.id+"\""):"";var L=Q.id||"AG"+A++;var K=Q.cls?(" class=\""+Q.cls+"\""):"";var J=C("<div"+N+K+">");C(P).after(J).remove();Sys.Silverlight.createObjectEx({source:Q.src,initParams:Q.silverlight.initParams,userContext:Q.silverlight.userContext,id:L,parentElement:J[0],properties:O,events:M});if(Q.caption){C("<div>").appendTo(J).html(Q.caption)}return J};function F(N,J,R){var U=C(N);var M=C.fn.media.defaults.players[R];if(R=="iframe"){var M=C("<iframe width=\""+J.width+"\" height=\""+J.height+"\" >");M.attr("src",J.src);M.css("backgroundColor",M.bgColor)}else{if(C.browser.msie){var Q=["<object width=\""+J.width+"\" height=\""+J.height+"\" "];for(var S in J.attrs){Q.push(S+"=\""+J.attrs[S]+"\" ")}for(var S in M.oAttrs||{}){Q.push(S+"=\""+M.oAttrs[S]+"\" ")}Q.push("></object>");var L=["<param name=\""+(M.oUrl||"src")+"\" value=\""+J.src+"\">"];for(var S in J.params){L.push("<param name=\""+S+"\" value=\""+J.params[S]+"\">")}var M=document.createElement(Q.join(""));for(var O=0;O<L.length;O++){M.appendChild(document.createElement(L[O]))}}else{var Q=["<embed width=\""+J.width+"\" height=\""+J.height+"\" style=\"display:block\""];if(J.src){Q.push(" src=\""+J.src+"\" ")}for(var S in J.attrs){Q.push(S+"=\""+J.attrs[S]+"\" ")}for(var S in M.eAttrs||{}){Q.push(S+"=\""+M.eAttrs[S]+"\" ")}for(var S in J.params){Q.push(S+"=\""+J.params[S]+"\" ")}Q.push("></embed>")}}var K=N.id?(" id=\""+N.id+"\""):"";var T=J.cls?(" class=\""+J.cls+"\""):"";var P=C("<div"+K+T+">");U.after(P).remove();(C.browser.msie||R=="iframe")?P.append(M):P.html(Q.join(""));if(J.caption){C("<div>").appendTo(P).html(J.caption)}return P}})(jQuery);(function(B){B.extend({tabs:{remoteCount:0}});B.fn.tabs=function(D,E){if(typeof D=="object"){E=D}E=B.extend({initial:(D&&typeof D=="number"&&D>0)?--D:0,disabled:null,bookmarkable:B.ajaxHistory?true:false,remote:false,spinner:"Loading&#8230;",hashPrefix:"remote-tab-",fxFade:null,fxSlide:null,fxShow:null,fxHide:null,fxSpeed:"normal",fxShowSpeed:null,fxHideSpeed:null,fxAutoHeight:false,onClick:null,onHide:null,onShow:null,navClass:"tabs-nav",selectedClass:"tabs-selected",disabledClass:"tabs-disabled",containerClass:"tabs-container",hideClass:"tabs-hide",loadingClass:"tabs-loading",tabStruct:"div"},E||{});B.browser.msie6=B.browser.msie6||B.browser.msie&&typeof XMLHttpRequest=="function";function F(){scrollTo(0,0)}return this.each(function(){var P=this;var N=B("ul."+E.navClass,P);N=N.size()&&N||B(">ul:eq(0)",P);var Y=B("a",N);if(E.remote){Y.each(function(){var d=E.hashPrefix+(++B.tabs.remoteCount),c="#"+d,Z=this.href;this.href=c;B("<div id=\""+d+"\" class=\""+E.containerClass+"\"></div>").appendTo(P);B(this).bind("loadRemoteTab",function(j,k){var f=B(this).addClass(E.loadingClass),g=B("span",this)[0],h=g.innerHTML;if(E.spinner){g.innerHTML="<em>"+E.spinner+"</em>"}setTimeout(function(){B(c).load(Z,function(){if(E.spinner){g.innerHTML=h}f.removeClass(E.loadingClass);k&&k()})},0)})})}var R=B("div."+E.containerClass,P);R=R.size()&&R||B(">"+E.tabStruct,P);N.is("."+E.navClass)||N.addClass(E.navClass);R.each(function(){var Z=B(this);Z.is("."+E.containerClass)||Z.addClass(E.containerClass)});var L=B("li",N).index(B("li."+E.selectedClass,N)[0]);if(L>=0){E.initial=L}if(location.hash){Y.each(function(c){if(this.hash==location.hash){E.initial=c;if((B.browser.msie||B.browser.opera)&&!E.remote){var Z=B(location.hash);var d=Z.attr("id");Z.attr("id","");setTimeout(function(){Z.attr("id",d)},500)}F();return false}})}if(B.browser.msie){F()}R.filter(":eq("+E.initial+")").show().end().not(":eq("+E.initial+")").addClass(E.hideClass);B("li",N).removeClass(E.selectedClass).eq(E.initial).addClass(E.selectedClass);Y.eq(E.initial).trigger("loadRemoteTab").end();if(E.fxAutoHeight){var X=function(Z){var c=B.map(R.get(),function(e){var d,f=B(e);if(Z){if(B.browser.msie6){e.style.removeExpression("behaviour");e.style.height="";e.minHeight=null}d=f.css({"min-height":""}).height()}else{d=f.height()}return d}).sort(function(e,d){return d-e});if(B.browser.msie6){R.each(function(){this.minHeight=c[0]+"px";this.style.setExpression("behaviour","this.style.height = this.minHeight ? this.minHeight : \"1px\"")})}else{R.css({"min-height":c[0]+"px"})}};X();var O=P.offsetWidth;var W=P.offsetHeight;var I=B("#tabs-watch-font-size").get(0)||B("<span id=\"tabs-watch-font-size\">M</span>").css({display:"block",position:"absolute",visibility:"hidden"}).appendTo(document.body).get(0);var Q=I.offsetHeight;setInterval(function(){var c=P.offsetWidth;var d=P.offsetHeight;var Z=I.offsetHeight;if(d>W||c!=O||Z!=Q){X((c>O||Z<Q));O=c;W=d;Q=Z}},50)}var J={},S={},H=E.fxShowSpeed||E.fxSpeed,M=E.fxHideSpeed||E.fxSpeed;if(E.fxSlide||E.fxFade){if(E.fxSlide){J["height"]="show";S["height"]="hide"}if(E.fxFade){J["opacity"]="show";S["opacity"]="hide"}}else{if(E.fxShow){J=E.fxShow}else{J["min-width"]=0;H=E.bookmarkable?50:1}if(E.fxHide){S=E.fxHide}else{S["min-width"]=0;M=E.bookmarkable?50:1}}var K=E.onClick,G=E.onHide,T=E.onShow;Y.bind("triggerTab",function(){var Z=B(this).parents("li:eq(0)");if(P.locked||Z.is("."+E.selectedClass)||Z.is("."+E.disabledClass)){return false}var d=this.hash;if(B.browser.msie){B(this).trigger("click");if(E.bookmarkable){B.ajaxHistory.update(d);location.hash=d.replace("#","")}}else{if(B.browser.safari){var c=B("<form action=\""+d+"\"><div><input type=\"submit\" value=\"h\" /></div></form>").get(0);c.submit();B(this).trigger("click");if(E.bookmarkable){B.ajaxHistory.update(d)}}else{if(E.bookmarkable){location.hash=d.replace("#","")}else{B(this).trigger("click")}}}});Y.bind("disableTab",function(){var Z=B(this).parents("li:eq(0)");if(B.browser.safari){Z.animate({opacity:0},1,function(){Z.css({opacity:""})})}Z.addClass(E.disabledClass)});if(E.disabled&&E.disabled.length){for(var V=0,U=E.disabled.length;V<U;V++){Y.eq(--E.disabled[V]).trigger("disableTab").end()}}Y.bind("enableTab",function(){var Z=B(this).parents("li:eq(0)");Z.removeClass(E.disabledClass);if(B.browser.safari){Z.animate({opacity:1},1,function(){Z.css({opacity:""})})}});Y.bind("click",function(f){var m=f.clientX;var g=this,n=B(this).parents("li:eq(0)"),c=B(this.hash),h=R.filter(":visible");if(P["locked"]||n.is("."+E.selectedClass)||n.is("."+E.disabledClass)||typeof K=="function"&&K(this,c[0],h[0])===false){this.blur();return false}P["locked"]=true;if(c.size()){if(B.browser.msie&&E.bookmarkable){var Z=this.hash.replace("#","");c.attr("id","");setTimeout(function(){c.attr("id",Z)},0)}function d(){if(E.bookmarkable&&m){B.ajaxHistory.update(g.hash)}h.animate(S,M,function(){B(g).parents("li:eq(0)").addClass(E.selectedClass).siblings().removeClass(E.selectedClass);if(typeof G=="function"){G(g,c[0],h[0])}var e={display:"",overflow:"",height:""};if(!B.browser.msie){e["opacity"]=""}h.addClass(E.hideClass).css(e);c.removeClass(E.hideClass).animate(J,H,function(){c.css(e);if(B.browser.msie){h[0].style.filter="";c[0].style.filter=""}if(typeof T=="function"){T(g,c[0],h[0])}P["locked"]=null})})}if(!E.remote){d()}else{B(g).trigger("loadRemoteTab",[d])}}else{alert("There is no such container.")}var k=window.pageXOffset||document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft||0;var j=window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop||0;setTimeout(function(){window.scrollTo(k,j)},0);this.blur();return E.bookmarkable&&!!m});if(E.bookmarkable){B.ajaxHistory.initialize(function(){Y.eq(E.initial).trigger("click").end()})}})};var C=["triggerTab","disableTab","enableTab"];for(var A=0;A<C.length;A++){B.fn[C[A]]=(function(D){return function(E){return this.each(function(){var G=B("ul.tabs-nav",this);G=G.size()&&G||B(">ul:eq(0)",this);var F;if(!E||typeof E=="number"){F=B("li a",G).eq((E&&E>0&&E-1||0))}else{if(typeof E=="string"){F=B("li a[@href$=\"#"+E+"\"]",G)}}F.trigger(D)})}})(C[A])}B.fn.activeTab=function(){var D=[];this.each(function(){var F=B("ul.tabs-nav",this);F=F.size()&&F||B(">ul:eq(0)",this);var E=B("li",F);D.push(E.index(E.filter(".tabs-selected")[0])+1)});return D[0]}})(jQuery);var Class=function(B){var A=function(){for(var C in this){if(this[C]){this[C]._proto_=this}}if(arguments[0]!="noinit"&&this.initialize){return this.initialize.apply(this,arguments)}};A.extend=this.extend;A.implement=this.implement;A.prototype=B;return A};Class.empty=function(){};Class.create=function(A){return new Class(A)};Class.prototype={extend:function(B){var A=new this("noinit");for(var D in B){var C=A[D];var E=B[D];if(C&&C!=E){E=C.parentize(E)||E}A[D]=E}return new Class(A)},implement:function(A){for(var B in A){this.prototype[B]=A[B]}}};Object.Native=function(){for(var A=0;A<arguments.length;A++){arguments[A].extend=Class.prototype.implement}};new Object.Native(Function,Array,String,Number);Function.extend({parentize:function(B){var A=this;return function(){this.parent=A;return B.apply(this,arguments)}}});if(typeof deconcept=="undefined"){var deconcept=new Object()}if(typeof deconcept.util=="undefined"){deconcept.util=new Object()}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil=new Object()}deconcept.SWFObject=function(K,B,L,D,H,I,F,E,C,J){if(!document.getElementById){return }this.DETECT_KEY=J?J:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params=new Object();this.variables=new Object();this.attributes=new Array();if(K){this.setAttribute("swf",K)}if(B){this.setAttribute("id",B)}if(L){this.setAttribute("width",L)}if(D){this.setAttribute("height",D)}if(H){this.setAttribute("version",new deconcept.PlayerVersion(H.toString().split(".")))}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){deconcept.SWFObject.doPrepUnload=true}if(I){this.addParam("bgcolor",I)}var A=F?F:"high";this.addParam("quality",A);this.setAttribute("useExpressInstall",false);this.setAttribute("doExpressInstall",false);var G=(E)?E:window.location;this.setAttribute("xiRedirectUrl",G);this.setAttribute("redirectUrl","");if(C){this.setAttribute("redirectUrl",C)}};deconcept.SWFObject.prototype={useExpressInstall:function(A){this.xiSWFPath=!A?"expressinstall.swf":A;this.setAttribute("useExpressInstall",true)},setAttribute:function(A,B){this.attributes[A]=B},getAttribute:function(A){return this.attributes[A]},addParam:function(B,A){this.params[B]=A},getParams:function(){return this.params},addVariable:function(B,A){this.variables[B]=A},getVariable:function(A){return this.variables[A]},getVariables:function(){return this.variables},getVariablePairs:function(){var C=new Array();var B;var A=this.getVariables();for(B in A){C[C.length]=B+"="+A[B]}return C},getSWFHTML:function(){var B="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute("swf",this.xiSWFPath)}B="<embed type=\"application/x-shockwave-flash\" src=\""+this.getAttribute("swf")+"\" width=\""+this.getAttribute("width")+"\" height=\""+this.getAttribute("height")+"\" style=\""+this.getAttribute("style")+"\"";B+=" id=\""+this.getAttribute("id")+"\" name=\""+this.getAttribute("id")+"\" ";var F=this.getParams();for(var E in F){B+=[E]+"=\""+F[E]+"\" "}var D=this.getVariablePairs().join("&");if(D.length>0){B+="flashvars=\""+D+"\""}B+="/>"}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute("swf",this.xiSWFPath)}B="<object id=\""+this.getAttribute("id")+"\" classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" width=\""+this.getAttribute("width")+"\" height=\""+this.getAttribute("height")+"\" style=\""+this.getAttribute("style")+"\">";B+="<param name=\"movie\" value=\""+this.getAttribute("swf")+"\" />";var C=this.getParams();for(var E in C){B+="<param name=\""+E+"\" value=\""+C[E]+"\" />"}var A=this.getVariablePairs().join("&");if(A.length>0){B+="<param name=\"flashvars\" value=\""+A+"\" />"}B+="</object>"}return B},write:function(B){if(this.getAttribute("useExpressInstall")){var A=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(A)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title)}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var C=(typeof B=="string")?document.getElementById(B):B;C.innerHTML=this.getSWFHTML();return true}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"))}}return false}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var E=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var A=navigator.plugins["Shockwave Flash"];if(A&&A.description){E=new deconcept.PlayerVersion(A.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."))}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var B=1;var C=3;while(B){try{C++;B=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+C);E=new deconcept.PlayerVersion([C,0,0])}catch(D){B=null}}}else{try{var B=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(D){try{var B=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");E=new deconcept.PlayerVersion([6,0,21]);B.AllowScriptAccess="always"}catch(D){if(E.major==6){return E}}try{B=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(D){}}if(B!=null){E=new deconcept.PlayerVersion(B.GetVariable("$version").split(" ")[1].split(","))}}}return E};deconcept.PlayerVersion=function(A){this.major=A[0]!=null?parseInt(A[0]):0;this.minor=A[1]!=null?parseInt(A[1]):0;this.rev=A[2]!=null?parseInt(A[2]):0};deconcept.PlayerVersion.prototype.versionIsValid=function(A){if(this.major<A.major){return false}if(this.major>A.major){return true}if(this.minor<A.minor){return false}if(this.minor>A.minor){return true}if(this.rev<A.rev){return false}return true};deconcept.util={getRequestParameter:function(C){var D=document.location.search||document.location.hash;if(C==null){return D}if(D){var B=D.substring(1).split("&");for(var A=0;A<B.length;A++){if(B[A].substring(0,B[A].indexOf("="))==C){return B[A].substring((B[A].indexOf("=")+1))}}}return""}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var B=document.getElementsByTagName("OBJECT");for(var C=B.length-1;C>=0;C--){B[C].style.display="none";for(var A in B[C]){if(typeof B[C][A]=="function"){B[C][A]=function(){}}}}};if(deconcept.SWFObject.doPrepUnload){if(!deconcept.unloadSet){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs)};window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload);deconcept.unloadSet=true}}if(!document.getElementById&&document.all){document.getElementById=function(A){return document.all[A]}}var getQueryParamValue=deconcept.util.getRequestParameter;var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;$=null;Function.prototype.extendNativeFunctionObject=jQuery.extend;jQuery.getOne=function(C,B){var A;if(typeof C=="object"){A=C}else{if(typeof C=="string"){if(C.search(/^[#.]/)==-1){C="#"+C}if(B==null){A=jQuery(C)}else{A=jQuery(C,B)}if(A.length>0){A=A.get(0)}else{A=null}}}return A};jQuery.fn.getOne=function(A){return jQuery.getOne(A,this)};jQuery.ajaxOld=jQuery.ajax;jQuery.ajax=function(A){A.url=Liferay.Util.getURLWithSessionId(A.url);return jQuery.ajaxOld(A)};Liferay=function(){var A=jQuery;return{}}();Liferay.Service={actionUrl:themeDisplay.getPathMain()+"/portal/json_service",tunnelUrl:themeDisplay.getPathContext()+"/tunnel-web/secure/json",classNameSuffix:"ServiceJSON",ajax:function(params,callback){var instance=this;var serviceUrl=instance.actionUrl;if(Liferay.ServiceAuth.header){serviceUrl=instance.tunnelUrl}params.serviceParameters=Liferay.Service.getParameters(params);if(callback){jQuery.ajax({type:"GET",url:serviceUrl,data:params,dataType:"json",beforeSend:function(xHR){if(Liferay.ServiceAuth.header){xHR.setRequestHeader("Authorization",Liferay.ServiceAuth.header)}},success:callback})}else{var xHR=jQuery.ajax({url:serviceUrl,data:params,dataType:"json",async:false});return eval("("+xHR.responseText+")")}},getParameters:function(C){var B="";for(var A in C){if((A!="serviceClassName")&&(A!="serviceMethodName")){B+=A+","}}if(Liferay.Util.endsWith(B,",")){B=B.substring(0,B.length-1)}return B}};Liferay.ServiceAuth={header:null,setHeader:function(C,B){var A=this;A.header="Basic "+Liferay.Base64.encode(C+":"+B)}};Liferay.Base64={encode:function(C){var E=this;var A="";var K,I,G,J,H,F,D;var B=0;C=E._utf8Encode(C);while(B<C.length){K=C.charCodeAt(B++);I=C.charCodeAt(B++);G=C.charCodeAt(B++);J=K>>2;H=((K&3)<<4)|(I>>4);F=((I&15)<<2)|(G>>6);D=G&63;if(isNaN(I)){F=D=64}else{if(isNaN(G)){D=64}}A=A+this._keyStr.charAt(J)+this._keyStr.charAt(H)+this._keyStr.charAt(F)+this._keyStr.charAt(D)}return A},decode:function(C){var E=this;var A="";var K,I,G;var J,H,F,D;var B=0;C=C.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(B<C.length){J=this._keyStr.indexOf(C.charAt(B++));H=this._keyStr.indexOf(C.charAt(B++));F=this._keyStr.indexOf(C.charAt(B++));D=this._keyStr.indexOf(C.charAt(B++));K=(J<<2)|(H>>4);I=((H&15)<<4)|(F>>2);G=((F&3)<<6)|D;A=A+String.fromCharCode(K);if(F!=64){A=A+String.fromCharCode(I)}if(D!=64){A=A+String.fromCharCode(G)}}A=E._utf8Decode(A);return A},_utf8Encode:function(B){B=B.replace(/\r\n/g,"\n");var A="";for(var D=0;D<B.length;D++){var C=B.charCodeAt(D);if(C<128){A+=String.fromCharCode(C)}else{if((C>127)&&(C<2048)){A+=String.fromCharCode((C>>6)|192);A+=String.fromCharCode((C&63)|128)}else{A+=String.fromCharCode((C>>12)|224);A+=String.fromCharCode(((C>>6)&63)|128);A+=String.fromCharCode((C&63)|128)}}}return A},_utf8Decode:function(A){var B="";var C=0;var D=c1=c2=0;while(C<A.length){D=A.charCodeAt(C);if(D<128){B+=String.fromCharCode(D);C++}else{if((D>191)&&(D<224)){c2=A.charCodeAt(C+1);B+=String.fromCharCode(((D&31)<<6)|(c2&63));C+=2}else{c2=A.charCodeAt(C+1);c3=A.charCodeAt(C+2);B+=String.fromCharCode(((D&15)<<12)|((c2&63)<<6)|(c3&63));C+=3}}}return B},_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};jQuery.fn.exactHeight=jQuery.fn.height;jQuery.fn.exactWidth=jQuery.fn.width;jQuery.each(["height","width"],function(A,B){jQuery.fn[B]=function(C){return C==undefined?(this.length?(B=="height"?this[0].offsetHeight:this[0].offsetWidth):null):this.css(B,C.constructor==String?C:C+"px")}});Liferay.Browser={init:function(){var B=this;var C=B.version();var A=B.version(true);B._browserVars={agent:"",is_ie:false,is_ie_4:false,is_ie_5:false,is_ie_5_5:false,is_ie_5_up:false,is_ie_6:false,is_ie_7:false,is_mozilla:false,is_mozilla_1_3_up:false,is_ns_4:false,is_rtf:false,is_safari:false,is_opera:false};B._browserVars.agent=B.browser().toLowerCase();B._browserVars.is_ie=jQuery.browser.msie;B._browserVars.is_ie_4=(B.is_ie&&C==4);B._browserVars.is_ie_5=(B.is_ie&&C==5);B._browserVars.is_ie_5_5=(B.is_ie&&A==5.5);B._browserVars.is_ie_5_up=(B.is_ie&&C>=5);B._browserVars.is_ie_6=(B.is_ie&&C==6);B._browserVars.is_ie_7=(B.is_ie&&C==7);B._browserVars.is_mozilla=(jQuery.browser.mozilla);B._browserVars.is_mozilla_1_3_up=(B.is_mozilla&&A>1.3);B._browserVars.is_ns_4=(jQuery.browser.netscape&&C==4);B._browserVars.is_rtf=(B.is_ie_5_5_up||B.is_mozilla_1_3_up);B._browserVars.is_safari=jQuery.browser.safari;B._browserVars.is_opera=jQuery.browser.opera;jQuery.extend(B,B._browserVars)},browser:function(){var A=this;return jQuery.browser.browser},compat:function(){var A=this;for(var B in A._browserVars){if(!window[B]){window[B]=A._browserVars[B]}}},version:function(B){var A=this;if(!B){return jQuery.browser.version.string(true)}else{return jQuery.browser.version.string()}},_browserVars:{}};jQuery(function(){Liferay.Browser.init()});Liferay.Util={submitCountdown:0,actsAsAspect:function(object){object.yield=null;object.rv={};object.before=function(method,f){var original=eval("this."+method);this[method]=function(){f.apply(this,arguments);return original.apply(this,arguments)}};object.after=function(method,f){var original=eval("this."+method);this[method]=function(){this.rv[method]=original.apply(this,arguments);return f.apply(this,arguments)}};object.around=function(method,f){var original=eval("this."+method);this[method]=function(){this.yield=original;return f.apply(this,arguments)}}},addInputFocus:function(B){var C=null;if(B){if(typeof B=="object"){C=jQuery(B)}else{C=jQuery("#"+B)}}else{C=document.body}var A=jQuery("input[@type=text], input[@type=password], textarea",C);A.focus(function(){jQuery(this).addClass("focus");if(this.createTextRange){var E=this.value;var D=this.createTextRange();D.moveStart("character",E.length);D.select()}});A.blur(function(){jQuery(this).removeClass("focus")})},addInputType:function(A){var B;if(jQuery.browser.msie&&jQuery.browser.version.number()<7){if(A){if(typeof A=="object"){B=jQuery(A)}else{B=jQuery("#"+A)}}else{B=document.body}jQuery("input",B).each(function(){var D=jQuery(this);var C=this.type||"text";D.addClass(C)})}},addParams:function(G,C){var B=this;if(typeof G=="object"){G=jQuery.param(G)}else{G=jQuery.trim(G)}if(G!=""){var F=C||location.href;var D,A;if(F.indexOf("#")>-1){var E=F.split("#");F=E[0];D=E[1]}if(F.indexOf("?")==-1){G="?"+G}else{G="&"+G}if(F.indexOf(G)==-1){A=F+G;if(D){A+="#"+D}if(!C){location.href=A}return A}}},check:function(C,A,B){jQuery("input[@name="+A+"]:checkbox",C).attr("checked",B)},checkAll:function(D,C,A){var B;if(Liferay.Util.isArray(C)){var E="input[@name="+C.join("]:checkbox,input[@name=")+"]:checkbox";B=jQuery(E,D)}else{B=jQuery("input[@name="+C+"]:checkbox",D)}B.attr("checked",A.checked)},checkAllBox:function(D,C,A){var G=0;var F=0;var B;if(Liferay.Util.isArray(C)){var E="input[@name="+C.join("]:checkbox,input[@name=")+"]:checkbox";B=jQuery(E,D)}else{B=jQuery("input[@name="+C+"]:checkbox",D)}B=B.not(A);G=B.length;F=B.filter(":checked").length;A.checked=(G==F)},checkMaxLength:function(B,A){if((B.value.length)>=A){B.value=B.value.substring(0,A-1)}},checkTab:function(A){if((document.all)&&(event.keyCode==9)){A.selection=document.selection.createRange();setTimeout("Liferay.Util.processTab(\""+A.id+"\")",0)}},disableEsc:function(){if((document.all)&&(event.keyCode==27)){event.returnValue=false}},endsWith:function(B,A){return(B.lastIndexOf(A)===(B.length-A.length))},evalScripts:function(B){var A=this;jQuery(B).find("script").each(function(){if(this.src){jQuery.getScript(this.src)}else{jQuery.globalEval(this.text||this.textContent||this.innerHTML||"")}})},focusFormField:function(A){var B=false;jQuery(document).one("click",function(){B=true});jQuery(function(){if(A&&(A.offsetHeight!=0)&&!B){var C=jQuery(A);jQuery("input").trigger("blur");C.trigger("focus")}})},getSelectedIndex:function(A){for(var B=0;B<A.length;B++){if(A[B].checked==true){return B}}return -1},getSelectedRadioValue:function(B){var C=Liferay.Util.getSelectedIndex(B);if(C==-1){var A=B.value;if(A==null){A=""}return A}else{return B[C].value}},getURLWithSessionId:function(B){if(propsUtil.SESSION_ENABLE_PERSISTENT_COOKIES){return B}var A=B.indexOf(";");if(A!=-1){return B}A=B.indexOf("?");if(A!=-1){return B.substring(0,A)+";jsessionid="+themeDisplay.getSessionId()+B.substring(A)}A=B.indexOf("//");if(A!=-1){var C=B.lastIndexOf("/");if(A+1==C){return B+"/;jsessionid="+themeDisplay.getSessionId()}}return B+";jsessionid="+themeDisplay.getSessionId()},inlineEditor:function(I){var G=this;if(I.url&&I.button){var A=I.url;var D=I.button;var C=I.width||680;var H=I.height||640;var F=I.textarea;var E=false;var B=jQuery(D);B.click(function(M){if(!E){var K=Liferay.Popup({height:640,width:680,noCenter:true,title:"",onClose:function(){jQuery(document).unbind("popupResize");E=false}});var L=jQuery(K);var J="<div class=\"portlet-resize-handle\"></div>";jQuery.ajax({url:A+"&rt="+Liferay.Util.randomInt(),success:function(P){L.find(".loading-animation").remove();L.append(P);L.after(J);var O=L.find("form");O.css({height:340,width:680});if(F){var N=L.find(".lfr-textarea").length;Liferay.Util.resizeTextarea(F,!N,true)}var R=jQuery(".portlet-resize-handle")[0];var Q=L.parents(".popup:first");Q.lResize({direction:"horizontal",handle:R,mode:"add",onMove:function(S){O.css({height:S.browserEvent.clientY-130,width:S.browserEvent.clientX-30});jQuery(document).trigger("popupResize")}});Q.lResize({handle:R,direction:"vertical",mode:"add"})}});E=true}})}},isArray:function(A){if(!window.Array){return false}else{return A.constructor==window.Array}},listChecked:function(C){var B=[];var A=jQuery("input[@value!=]:checked:checkbox",C);A.each(function(){B.push(this.value)});return B.join(",")},listCheckedExcept:function(D,C){var B=[];var A=jQuery("input[@value!=][@name!=\""+C+"\"]:checked:checkbox",D);A.each(function(){B.push(this.value)});return B.join(",")},listSelect:function(D,A){var B=[];A=A||",";if(D==null){return""}var C=jQuery(D).find("option[@value!=]");C.each(function(){B.push(this.value)});if(B[0]==".none"){return""}else{return B.join(",")}},listUncheckedExcept:function(D,C){var B=[];var A=jQuery("input[@value!=][@name!=\""+C+"\"]:checkbox:not(:checked)",D);A.each(function(){B.push(this.value)});return B.join(",")},moveItem:function(A,B,C){if(A.selectedIndex>=0){var E=jQuery(B);var D=jQuery(A).find("option:selected");E.append(D)}if(D.text()!=""&&C==true){Liferay.Util.sortBox(B)}},portletTitleEdit:function(E){var B=this;var G=E.obj;var C=E.plid;var A=E.doAsUserId;var F=E.portletId;var D=E.url;var H=G.find(".portlet-title");if(!H.is(".not-editable")){H.editable(function(K,J){var I=J._LFR_.cruft||[];I=I.join("");if(K!=J._LFR_.oldText){Liferay.Util.savePortletTitle({plid:C,doAsUserId:A,portletId:F,title:K})}G[0]._LFR_noDrag=null;return I+K},{cssclass:"text",data:function(M,L){var I=jQuery(this);var K=new RegExp("</?[^>]+>|\n|\r|\t","gim");var J=M.match(K);L._LFR_={};L._LFR_.oldText=M;L._LFR_.cruft=J;M=M.replace(K,"");L._LFR_.oldText=M;G[0]._LFR_noDrag=true;return M},height:"",width:"",onblur:"submit",type:"text",select:false,style:"",submit:""})}},processTab:function(A){document.all[A].selection.text=String.fromCharCode(9);document.all[A].focus()},randomInt:function(){return(Math.ceil(Math.random()*(new Date).getTime()))},randomMinMax:function(B,A){return(Math.round(Math.random()*(A-B)))+B},removeItem:function(A,B){var C=jQuery(A);if(!B){C.find("option:selected").remove()}else{C.find("option[@value="+B+"]:selected").remove()}},reorder:function(D,E){var B=D.selectedIndex;if(B==-1){D.selectedIndex=0}else{sText=D.options[B].text;sValue=D.options[B].value;if((D.options[B].value>"")&&(B>0)&&(E==0)){D.options[B].text=D.options[B-1].text;D.options[B].value=D.options[B-1].value;D.options[B-1].text=sText;D.options[B-1].value=sValue;D.selectedIndex--}else{if((B<D.length-1)&&(D.options[B+1].value>"")&&(E==1)){D.options[B].text=D.options[B+1].text;D.options[B].value=D.options[B+1].value;D.options[B+1].text=sText;D.options[B+1].value=sValue;D.selectedIndex++}else{if(B==0){for(var C=0;C<(D.length-1);C++){D.options[C].text=D.options[C+1].text;D.options[C].value=D.options[C+1].value}D.options[D.length-1].text=sText;D.options[D.length-1].value=sValue;D.selectedIndex=D.length-1}else{if(B==(D.length-1)){for(var A=(D.length-1);A>0;A--){D.options[A].text=D.options[A-1].text;D.options[A].value=D.options[A-1].value}D.options[0].text=sText;D.options[0].value=sValue;D.selectedIndex=0}}}}}},resizeTextarea:function(elString,usingRichEditor,resizeToInlinePopup){var init=function(){var el=jQuery("#"+elString);if(!el.length){el=jQuery("textarea[@name="+elString+"]")}if(el.length){var pageBody;if(resizeToInlinePopup){pageBody=el.parents(".popup:first")}else{pageBody=jQuery("body")}var resize=function(){var pageBodyHeight=pageBody.height();if(usingRichEditor){try{if(!el.is("iframe")){el=eval(elString);if(!el.jquery){el=jQuery(el)}}}catch(e){}}var diff=150;if(!resizeToInlinePopup){diff=100}el.css({height:(pageBodyHeight-diff)+"px",width:"98%"})};resize();if(resizeToInlinePopup){jQuery(document).bind("popupResize",resize)}else{jQuery(window).resize(resize)}}};jQuery(init)},resubmitCountdown:function(B){if(Liferay.Util.submitCountdown>0){Liferay.Util.submitCountdown--;setTimeout("Liferay.Util.resubmitCountdown('"+B+"')",1000)}else{Liferay.Util.submitCountdown=0;if(!Liferay.Browser.is_ns_4){document.body.style.cursor="auto"}var C=document.forms[B];for(var A=0;A<C.length;A++){var D=C.elements[A];if(D.type&&(D.type.toLowerCase()=="button"||D.type.toLowerCase()=="reset"||D.type.toLowerCase()=="submit")){D.disabled=false}}}},savePortletTitle:function(C){var B={plid:0,doAsUserId:0,portletId:0,title:"",url:themeDisplay.getPathMain()+"/portlet_configuration/update_title"};var A=jQuery.extend(B,C);jQuery.ajax({url:A.url,data:{p_l_id:A.plid,doAsUserId:A.doAsUserId,portletId:A.portletId,title:A.title}})},selectAndCopy:function(A){A.focus();A.select();if(document.all){var B=A.createTextRange();B.execCommand("copy")}},setBox:function(C,A){for(var B=C.length-1;B>-1;B--){C.options[B]=null}for(var B=0;B<A.length;B++){C.options[B]=new Option(A[B].value,B)}C.options[0].selected=true},setSelectedValue:function(A,B){jQuery("option[@value="+B+"]",A).attr("selected",true)},showCapsLock:function(C,B){var D=C.keyCode?C.keyCode:C.which;var A=C.shiftKey?C.shiftKey:((D==16)?true:false);if(((D>=65&&D<=90)&&!A)||((D>=97&&D<=122)&&A)){document.getElementById(B).style.display=""}else{document.getElementById(B).style.display="none"}},sortBox:function(D){var A=[];for(var B=0;B<D.length;B++){A[B]=[D[B].value,D[B].text]}A.sort(Liferay.Util.sortByAscending);var C=jQuery(D);C.find("option").remove();jQuery.each(A,function(E,F){C.append("<option value=\""+F[0]+"\">"+F[1]+"</option>")})},sortByAscending:function(B,A){if(B[1].toLowerCase()>A[1].toLowerCase()){return 1}else{if(B[1].toLowerCase()<A[1].toLowerCase()){return -1}else{return 0}}},startsWith:function(B,A){return(B.indexOf(A)===0)},switchEditor:function(F){var A=this;if(F.url&&F.popup){var E=F.url;var D=F.popup;var C=F.textarea;if(!D.jquery){D=jQuery(D)}var B=D.find(".popup-message");jQuery.ajax({url:E,beforeSend:function(){B.empty();B.append("<div class=\"loading-animation\"><div>")},success:function(H){B.empty();B.append(H);if(C){var G=D.find(".lfr-textarea").length;Liferay.Util.resizeTextarea(C,!G,true)}}})}},toggleByIdSpan:function(B,C){jQuery("#"+C).toggle();var A=jQuery(B).find("span");A.toggle()},toggle:function(E,C,A){if(typeof E=="string"){E="#"+E}var B=jQuery(E);var D=B.toggle().is(":visible");if(A){B.css("display",A);D=B.is(":visible")}if(C){return D}},toggleBoxes:function(C,B){var A=jQuery("#"+C);var D=jQuery("#"+B);if(!A.is(":checked")){D.hide()}A.click(function(){D.toggle()})},toJSONObject:function(A){return jQuery.parseJSON(A)},toJSONString:function(C){var B=C;var A={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\"":"\\\"","\\":"\\\\"};if(/["\\\x00-\x1f]/.test(C)){B=C.replace(/([\x00-\x1f\\"])/g,function(E,D){var F=A[D];if(F){return F}F=D.charCodeAt();return"\\u00"+Math.floor(F/16).toString(16)+(F%16).toString(16)})}return B}};Element={};Element.disable=function(C){C=jQuery.getOne(C);var A=C.getElementsByTagName("*");for(var B=0;B<A.length;B++){var D=A[B];var E=D.nodeName.toLowerCase();D.onclick=function(){};D.onmouseover=function(){};D.onmouseout=function(){};if(Liferay.Browser.is_ie){D.onmouseenter=function(){};D.onmouseleave=function(){}}if(E=="a"){D.href="javascript: void(0)"}else{if(E=="input"||E=="select"||E=="script"){D.disabled="true"}else{if(E=="form"){D.action="";D.onsubmit=function(){return false}}}}D.style.cursor="default"}};Element.remove=function(B){var A=jQuery.getOne(B);A.parentNode.removeChild(A)};function LinkedList(){this.head=null;this.tail=null}LinkedList.prototype.add=function(C){C.listInfo={};var A=this.tail;var B=this.head;if(this.head==null){this.head=C;this.tail=C}else{this.tail.listInfo.next=C;C.listInfo.prev=this.tail;this.tail=C}C.listInfo.listObj=this};LinkedList.prototype.remove=function(C){if(C.listInfo.listObj==this&&this.head){var A=C.listInfo.next;var B=C.listInfo.prev;if(A){A.listInfo.prev=B}if(B){B.listInfo.next=A}if(this.head==C){this.head=A}if(this.tail==C){this.tail=B}}};LinkedList.prototype.each=function(C){var D=this.head;var B=0;while(D){B++;var A=D.listInfo.next;if(C){C(D)}D=A}return B};LinkedList.prototype.size=function(){return this.each()};function submitForm(C,D,B){if(Liferay.Util.submitCountdown==0){Liferay.Util.submitCountdown=10;setTimeout("Liferay.Util.resubmitCountdown('"+C.name+"')",1000);if(B==null||B){Liferay.Util.submitCountdown++;var A=jQuery("input[@type=button], input[@type=reset], input[@type=submit]",C);A.each(function(F,G){var E=jQuery(this);E.attr("disabled",true);E.fadeTo(50,0.5)})}if(D!=null){C.action=D}if(!Liferay.Browser.is_ns_4){document.body.style.cursor="wait"}C.submit()}}var Viewport={frame:function(){var A,B;if(self.innerHeight){A=self.innerWidth;B=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){A=document.documentElement.clientWidth;B=document.documentElement.clientHeight}else{if(document.body){A=document.body.clientWidth;B=document.body.clientHeight}}}return(new Coordinate(A,B))},scroll:function(){var A,B;if(self.pageYOffset){A=self.pageXOffset;B=self.pageYOffset}else{if(document.documentElement&&document.documentElement.scrollTop){A=document.documentElement.scrollLeft;B=document.documentElement.scrollTop}else{if(document.body){A=document.body.scrollLeft;B=document.body.scrollTop}}}return(new Coordinate(A,B))},page:function(){var A,D;var C=document.body.scrollHeight;var B=document.body.offsetHeight;if(C>B){A=document.body.scrollWidth;D=document.body.scrollHeight}else{A=document.body.offsetWidth;D=document.body.offsetHeight}return(new Coordinate(A,D))}};String.prototype.trim=jQuery.trim;Liferay.zIndex={DOCK:10,DOCK_PARENT:20,ALERT:430,DROP_AREA:440,DROP_POSITION:450,DRAG_ITEM:460,TOOLTIP:470};Liferay.Language={get:function(C,F){var A=this;var B=themeDisplay.getPathContext()+"/language/"+themeDisplay.getLanguageId()+"/"+C+"/";if(F){if(typeof F=="string"){B+=F}else{if(Liferay.Util.isArray(F)){B+=F.join("/")}}}var D=A._cache[B];if(D!=null){return D}var E=jQuery.ajax({url:B,async:false});D=E.responseText;A._cache[B]=D;return D},_cache:{}};Liferay.Layout={getGroupId:function(B){var A=this;if((B!=null)&&(B.indexOf(A._private)==0||B.indexOf(A._public)==0)){return B.split(A._separator)[1]}return 0},getLayoutId:function(B){var A=this;if((B!=null)&&(B.indexOf(A._private)==0||B.indexOf(A._public)==0)){return B.split(A._separator)[2]}return 0},getOwnerId:function(B){var A=this;if((B!=null)&&(B.indexOf(A._private)==0||B.indexOf(A._public)==0)){var C=B.lastIndexOf(A._separator);if(C!=-1){return B.substring(0,C)}return null}},_private:"PRI.",_public:"PUB.",_separator:"."};function AjaxRequest(B,A){var E;var D=A;if(window.XMLHttpRequest){E=new XMLHttpRequest();if(E.overrideMimeType){E.overrideMimeType("text/html")}}else{if(window.ActiveXObject){try{E=new ActiveXObject("Msxml2.XMLHTTP")}catch(G){try{E=new ActiveXObject("Microsoft.XMLHTTP")}catch(G){try{E=new XMLHttpRequest()}catch(G){}}}}}var C=function(){if(E.readyState==4){try{if(E.status==200){if(D.update){var H=jQuery.getOne(D.update);H.innerHTML=E.responseText;executeLoadedScript(H)}if(D.onComplete){D.onComplete(E,D.returnArgs)}AjaxUtil.remove(D.ajaxId)}}catch(I){}}};var F=function(I){I=Liferay.Util.getURLWithSessionId(I);var H=I.split("?");var L=H[0];var J=H[1];try{if(D.method=="get"){E.open("GET",I,true);E.onreadystatechange=C;E.send("")}else{E.open("POST",L,true);E.setRequestHeader("Method","POST "+L+" HTTP/1.1");E.setRequestHeader("Content-Type","application/x-www-form-urlencoded");E.onreadystatechange=C;E.send(J)}}catch(K){}};F(B);this.resend=function(I,H){D=H;F(I)};this.getId=function(){return ajaxId};this.cleanUp=function(){E.onreadystatechange=function(){};C=null;returnArgs=null;E=null}}var AjaxUtil={counter:1,requests:[],request:function(C,B){var E=B||{};var A=(E.reverseAjax)?0:AjaxUtil.getNextId();E.ajaxId=A;var D;if(A==0&&AjaxUtil.requests[0]){D=AjaxUtil.requests[0];D.resend(C,E)}else{D=new AjaxRequest(C,E);AjaxUtil.requests[A]=D}if(!E.onComplete&&!E.update){AjaxUtil.remove(A)}},submit:function(E,C){var B=E.action;var A=jQuery("input, textarea, select",E);var D=C||{};var F=A.serialize();if(B.indexOf("?")==-1){B=B+"?"+F}if(B.lastIndexOf("?")==B.length-1){B=B+F}else{B=B+"&"+F}if(D.disable){A.attr("disabled",true)}AjaxUtil.request(B,D)},update:function(B,D,A){var C=A||{};C.update=D;AjaxUtil.request(B,C)},getNextId:function(){var A=AjaxUtil.counter++;if(AjaxUtil.counter>20){AjaxUtil.counter=1}return A},remove:function(B){if(B){var A=AjaxUtil.requests[B];if(A){A.cleanUp();A=null}}}};var ReverseAjax={initialize:function(){jQuery(window).bind("unload",ReverseAjax.release);ReverseAjax.request()},request:function(){AjaxUtil.request(themeDisplay.getPathMain()+"/portal/reverse_ajax",{onComplete:ReverseAjax.response,reverseAjax:true})},response:function(C){var B=Liferay.Util.toJSONObject(C.responseText);var A=B.status;if(A&&A!="failure"){if(A=="success"){if(B.chatMessages){Messaging.getChatsReturn(B.chatMessages)}if(B.chatRoster){MessagingRoster.getEntriesReturn(B.chatRoster)}}ReverseAjax.request()}},release:function(){AjaxUtil.request(themeDisplay.getPathMain()+"/portal/reverse_ajax?release=1",{reverseAjax:true})}};function executeLoadedScript(el){var scripts=el.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(scripts[i].src){var head=document.getElementsByTagName("head")[0];var scriptObj=document.createElement("script");scriptObj.setAttribute("type","text/javascript");scriptObj.setAttribute("src",scripts[i].src);head.appendChild(scriptObj)}else{try{if(Liferay.Browser.is_safari){eval(scripts[i].innerHTML)}else{if(Liferay.Browser.is_mozilla){eval(scripts[i].textContent)}else{eval(scripts[i].text)}}}catch(e){}}}}function loadPage(C,D,B,A){AjaxUtil.request(C+"?"+D,{onComplete:B,returnArgs:A})}function printJSON(A){if(A&&A.id){var B=document.getElementById(A.id);if(B){B.innerHTML=A.toString()}}}Liferay.Animate=function(D,A,B){var C=Liferay.Animate;if(!C.q[D]){C.q[D]={"id":D,"fn":A,"data":B}}if(!C.timer){C.start()}};Liferay.Animate.extendNativeFunctionObject({q:{},timer:0,process:function(){var D=false;for(var B in this.q){var C=this.q[B];if(C){var A=C.fn(C.data);if(A==false){this.q[B]=null}D=true}}if(!D){this.stop()}},start:function(){var A=Liferay.Animate;if(!A.timer){Liferay.Animate.process();Liferay.Animate.timer=setInterval("Liferay.Animate.process()",30)}},stop:function(){clearInterval(Liferay.Animate.timer);Liferay.Animate.timer=0}});var Coordinates={ORIGIN:new Coordinate(0,0),coordinatesData:function(A,B){var C={};C.recurse=B;C.size=new Coordinate(A.offsetWidth,A.offsetHeight);C.nwOffset=Coordinates.northwestOffset(A,B);C.seOffset=C.nwOffset.plus(C.size);C.midPoint=C.nwOffset.plus(new Coordinate(Math.round(C.size.x/2),Math.round(C.size.y/2)));return C},northwestPosition:function(B){var A=parseInt(B.style.left);var C=parseInt(B.style.top);return new Coordinate(isNaN(A)?0:A,isNaN(C)?0:C)},southeastPosition:function(A){return Coordinates.northwestPosition(A).plus(new Coordinate(A.offsetWidth,A.offsetHeight))},northwestOffset:function(A,C){var D=new Coordinate(A.offsetLeft,A.offsetTop);if(!C){return D}var B=A.offsetParent;while(B){D=D.plus(new Coordinate(B.offsetLeft,B.offsetTop));B=B.offsetParent}return D},southeastOffset:function(A,B){return Coordinates.northwestOffset(A,B).plus(new Coordinate(A.offsetWidth,A.offsetHeight))}};function Coordinate(A,B){this.x=A||0;this.y=B||0}Coordinate.prototype.toString=function(){return"("+this.x+","+this.y+")"};Coordinate.prototype.plus=function(A){return new Coordinate(this.x+A.x,this.y+A.y)};Coordinate.prototype.minus=function(A){return new Coordinate(this.x-A.x,this.y-A.y)};Coordinate.prototype.distance=function(C){var B=this.x-C.x;var A=this.y-C.y;return Math.sqrt(Math.pow(B,2)+Math.pow(A,2))};Coordinate.prototype.max=function(B){var A=Math.max(this.x,B.x);var C=Math.max(this.y,B.y);return new Coordinate(A,C)};Coordinate.prototype.constrain=function(C,B){if(C.x>B.x||C.y>B.y){return this}var A=this.x;var D=this.y;if(C.x!=null){A=Math.max(A,C.x)}if(B.x!=null){A=Math.min(A,B.x)}if(C.y!=null){D=Math.max(D,C.y)}if(B.y!=null){D=Math.min(D,B.y)}return new Coordinate(A,D)};Coordinate.prototype.reposition=function(A){A.style["top"]=this.y+"px";A.style["left"]=this.x+"px"};Coordinate.prototype.equals=function(A){if(this==A){return true}if(!A||A==null){return false}return this.x==A.x&&this.y==A.y};Coordinate.prototype.inside=function(B,A){if((this.x>=B.x)&&(this.x<=A.x)&&(this.y>=B.y)&&(this.y<=A.y)){return true}else{return false}};Coordinate.prototype.insideObject=function(C,A){var B=Coordinates.coordinatesData(C);B.recurse=A;B.quadrant=this.insideObjectData(B);return B.quadrant?B:null};Coordinate.prototype.insideObjectData=function(D){var C=D.nwOffset;var E=D.seOffset;var A=0;if(this.inside(C,E)){var B=D.midPoint;if(this.x<=B.x&&this.y<=B.y){A=1}else{if(this.x>=B.x&&this.y<=B.y){A=2}else{if(this.x>=B.x&&this.y>=B.y){A=3}else{if(this.x<=B.x&&this.y>=B.y){A=4}}}}}return A};function MousePos(){}MousePos.prototype=new Coordinate();MousePos.prototype.update=function(C){if(typeof C=="undefined"){C=window.event}var A=new Coordinate(C.clientX,C.clientY);var B=Viewport.scroll();this.x=A.x+B.x;this.y=A.y+B.y;if(this.x<0){this.x=0}if(this.y<0){this.y=0}return C};var mousePos=new MousePos(0,0);jQuery.each(["coordinatesData","northwestPosition","southeastPosition","northwestOffset","southeastOffset"],function(A,B){jQuery.fn[B]=function(C){return this.length>0?Coordinates[B](this[0],C):null}});jQuery.fn.xySize=function(){return new Coordinate(this.width(),this.height())};(function(A){A.fn.lDrag=function(B){this.each(function(){A.lDrag.create(this,B)})};A.fn.lDragBind=function(C,B){this.each(function(){A.lDrag.bind(this,C,B)})};A.fn.lDragUnbind=function(C,B){this.each(function(){A.lDrag.unbind(this,C,B)})};A.lDrag=function(B,C){A.lDrag.create(B,C)};A.lDrag.extendNativeFunctionObject({container:null,isDragging:false,scrollDirection:"",scrollTimer:0,bind:function(B,D,C){if(B.dragSettings&&D&&C){if(D=="start"){B.dragSettings.onDragStart.push(C)}else{if(D=="move"){B.dragSettings.onDrag.push(C)}else{if(D=="complete"){B.dragSettings.onDragEnd.push(C)}}}}},unbind:function(B,F,E){if(B.dragSettings&&F&&E){var D=B.dragSettings;var G="";if(F=="start"){G="onDragStart"}else{if(F=="move"){G="onDrag"}else{if(F=="complete"){G="onDragEnd"}}}for(var C=0;C<D[G].length;C++){if(D[G][C]==E){D[G].splice(C,1)}}}},create:function(B,C){C=C||{};C.container=B;if(C.handle==null){C.handle=B}else{if(typeof C.handle=="string"){C.handle=A(C.handle)[0]}C.handle.dragSettings=C}B.dragSettings=C;C.onDragStart=[];C.onDrag=[];C.onDragEnd=[];if(C.onStart){A.lDrag.bind(B,"start",C.onStart)}if(C.onMove){A.lDrag.bind(B,"move",C.onMove)}if(C.onComplete){A.lDrag.bind(B,"complete",C.onComplete)}jQuery(C.handle).mousedown(A.lDrag.onMouseDown)},scroll:function(){Liferay.Animate("layoutDragScroll",A.lDrag.scrollStart)},scrollStart:function(){var G;var D=A.lDrag.container;var C=A(A.lDrag.container);var B=false;var E=20;var F=Viewport.scroll().y;if(A.lDrag.scrollDirection=="down"){G=C.northwestPosition();G.y+=E;G.reposition(D);window.scrollTo(0,F+E);B=true}else{if(A.lDrag.scrollDirection=="up"&&F>0){G=C.northwestPosition();G.y-=E;G.reposition(D);window.scrollTo(0,F-E);B=true}else{B=false}}if(!B){A.lDrag.scrollDirection="";A.lDrag.scrollTimer=0;return false}},onMouseDown:function(F){mousePos.update(F);var E=this.dragSettings;var C=E.container;var B=A(E.container);if(!C._LFR_noDrag){A.lDrag.container=C;var D=B.northwestOffset(true);var G=D.plus(B.xySize());E.originalZIndex=C.style.zIndex;E.mouseNwOffset=mousePos.minus(D);E.mouseSeOffset=mousePos.minus(G);E.mouseStart=new Coordinate(mousePos.x,mousePos.y);E.browserEvent=F;A.lDrag._processListeners(E,"start");A.lDrag._setConstraint(E);jQuery(document).mousemove(A.lDrag.onMouseMove);jQuery(document).mouseup(A.lDrag.onMouseUp);return false}else{return }},onMouseMove:function(D){mousePos.update(D);var E=A.lDrag.container;var G=E.dragSettings;if(!A.lDrag._isAboveThreshold(G)){return false}else{A.lDrag.isDragging=true}E=G.clone?A.lDrag._createClone(G):G.container;var M=A(E);var H=M.northwestOffset(true);var K=M.northwestPosition();var L=M.xySize();var J=H.plus(L);var C=K.plus(L);A.lDrag._setScrolling(G);K=K.plus(mousePos.minus(H).minus(G.mouseNwOffset));var B=G.autoCorrect?M.northwestOffset(true):null;if(!G.noDrag){K.reposition(E)}G.browserEvent=D;A.lDrag._processListeners(G,"move");if(G.autoCorrect){var I=M.northwestOffset(true);if(!B.equals(I)){var F=B.minus(I);K=M.northwestPosition().plus(F);K.reposition(E)}}return false},onMouseUp:function(D){D=mousePos.update(D);var B=A.lDrag.container;var C=B.dragSettings;if(C.clone){A.lDrag._destroyClone(C)}jQuery(document).unbind("mousemove",A.lDrag.onMouseMove);jQuery(document).unbind("mouseup",A.lDrag.onMouseUp);C.browserEvent=D;A.lDrag._processListeners(C,"complete");A.lDrag.container=null;A.lDrag.isDragging=false},_createClone:function(D){if(!D.clonedNode){var B=A("<div></div>");var C=A(D.container);var E=C.northwestOffset(true);B.css({height:C.height()+"px",left:E.x+"px",position:"absolute",top:E.y+"px",width:C.width()+"px",zIndex:Liferay.zIndex.DRAG_ITEM});if(D.opacity){B.css("opacity",D.opacity)}if(D.dragClass){B.addClass(D.dragClass)}B[0].dragSettings=D;D.clonedNode=B[0];A("body").append(B)}return D.clonedNode},_destroyClone:function(E){if(E.clonedNode){var B=A(E.clonedNode);var C=A(E.container);var F=C.northwestPosition();var D=F.plus(mousePos.minus(E.mouseStart));D.reposition(E.container);B.remove();E.clonedNode=null}},_isAboveThreshold:function(C){var B=true;if(!A.lDrag.isDragging&&C.threshold){var D=C.mouseStart.distance(mousePos);if(D<C.threshold){B=false}}return B},_processListeners:function(D,C){var E="";if(C=="start"){E="onDragStart"}else{if(C=="move"){E="onDrag"}else{if(C=="complete"){E="onDragEnd"}}}for(var B=0;B<D[E].length;B++){D[E][B](D)}},_setConstraint:function(D){var C;var B;var F;var E;if(D.minX!=null){C=D.minX+D.mouseNwOffset.x}if(D.minY!=null){B=D.minY+D.mouseNwOffset.y}if(D.maxX!=null){F=D.maxX+D.mouseSeOffset.x}if(D.maxY!=null){E=D.maxY+D.mouseSeOffset.y}if(C&&F&&C>F){F=C}if(B&&E&&B>E){E=B}D.mouseMin=new Coordinate(C,B);D.mouseMax=new Coordinate(F,E)},_setScrolling:function(E){if(E.scroll){var C=30;var D=5;var G=Viewport.scroll().y;var F=Viewport.page().y;var B=Viewport.frame().y;if((G+B+2*C)<F&&mousePos.y>(G+B-C)){if(A.lDrag.scrollDirection!="down"){A.lDrag.scrollDirection="down";A.lDrag.scroll()}}else{if(G>0&&mousePos.y<(G+C)){if(A.lDrag.scrollDirection!="up"){A.lDrag.scrollDirection="up";A.lDrag.scroll()}}else{A.lDrag.scrollDirection=""}}}}})})(jQuery);(function(A){A.fn.lResize=function(B){this.each(function(){A.lResize(this,B)})};A.fn.lResizeBind=A.fn.lDragBind;A.fn.lResizeHandleRule=function(B){this.each(function(){B.handle=this;A.lResize.handleRule(B)})};A.lResize=function(B,C){A.lResize.create(B,C)};A.lResize.extendNativeFunctionObject({HORIZONTAL:"horizontal",VERTICAL:"vertical",ADD:"add",SUBTRACT:"subtract",resizeRule:function(B,C,D){this.container=B;this.direction=C;this.next=null;this.origWidth=null;this.origHeight=null;this.mode=D},handleRule:function(B){var D=B.handle;if(typeof D=="string"){D=A(D)}var C=D.resizeSettings;if(!C){A.lResize.create(C.container,C)}else{C.resizeRules.push(new A.lResize.resizeRule(C.container,C.direction,C.mode))}},bind:function(B,D,C){A.lDrag.bind(B,D,C)},create:function(B,C){if(C.handle&&C.direction&&C.mode){if(typeof C.handle=="string"){C.handle=A(C.handle)[0]}var F=C.handle;if(!F.resizeSettings){F.resizeSettings=C}var D=F.resizeSettings;if(!F.dragSettings||!F.dragSettings.isResizeHandle){A.lDrag.create(F,{onStart:A.lResize.onMouseDown,onMove:A.lResize.onResize,onComplete:A.lResize.onMouseUp,noDrag:!C.drag,isResizeHandle:true})}var E=A(F);E.lDragBind("start",C.onStart);E.lDragBind("move",C.onMove);E.lDragBind("complete",C.onComplete);if(!D.resizeRules){D.resizeRules=[]}D.resizeRules.push(new A.lResize.resizeRule(B,C.direction,C.mode))}},onMouseDown:function(){var F=A.lDrag.container;var E=F.resizeSettings;var C=mousePos;E.mouseStart=new Coordinate(mousePos.x,mousePos.y);for(var D=0;D<E.resizeRules.length;D++){var G=E.resizeRules[D];var B=A(G.container);G.origWidth=B.width();G.origHeight=B.height()}},onResize:function(){var H=A.lDrag.container;var D=H.resizeSettings;var I=mousePos;var J=mousePos.minus(D.mouseStart);var C;var B=0;var E=false;for(var F=0;F<D.resizeRules.length;F++){var G=D.resizeRules[F];var K=A(G.container);if(G.direction==A.lResize.HORIZONTAL){G.prevLength=K.width();if(G.mode==A.lResize.ADD){C=G.origWidth+J.x}else{C=G.origWidth-J.x}}else{if(G.direction==A.lResize.VERTICAL){G.prevLength=K.height();if(G.mode==A.lResize.ADD){C=G.origHeight+J.y}else{C=G.origHeight-J.y}}}G.newLength=C;if(C<1){B=Math.max(-C+1,B);C=1}if(C==G.prevLength){E=true}}for(var F=0;F<D.resizeRules.length;F++){var G=D.resizeRules[F];var K=A(G.container);if(!D.disableStop&&E){C=G.prevLength}else{if(G.newLength<1){C=G.newLength+B}else{C=G.newLength-B}}if(G.direction==A.lResize.HORIZONTAL){K.width(C)}else{if(G.direction==A.lResize.VERTICAL){K.height(C)}}}},onMouseUp:function(){var C=A.lDrag.container;var B=C.resizeSettings;B.mouseEnd=new Coordinate(mousePos.x,mousePos.y)}})})(jQuery);(function(A){A.Popup=function(B){return A.Popup.open(B)};A.Popup.extendNativeFunctionObject({close:function(D){var C=this;jQuery(D).parents(".popup:first").remove();var E=jQuery("#alert-messages .modal:last");if(E.length){E.before(jQuery("#alert-messages .alert-background"))}else{var B=jQuery("#alert-messages .alert-background");B.fadeTo("normal",0,function(){B.remove()});jQuery(window).unbind("resize",A.Popup.center);jQuery(window).unbind("resize",A.Popup.resize);jQuery(window).unbind("scroll",A.Popup.center)}if(jQuery.browser.msie&&jQuery.browser.version.number()<7&&A.Popup.count()==0){jQuery("select").css("visibility","visible")}if(C.options.onClose){C.options.onClose()}},count:function(){return jQuery("#alert-messages .popup").length},open:function(O){var M=this;O=O||{};M.options=O;var L=O.modal;var N=O.message;var K=O.messageId;var E=O.height;var C=O.width;var I=O.noCenter;var J=O.title;var H=O.onClose;var B=jQuery("#alert-messages");if(!B.length){jQuery("body").append("<div id='alert-messages' style='position:absolute; top:0; left:0; z-index:"+Liferay.zIndex.ALERT+"'></div>");B=jQuery("#alert-messages")}B.append("<div class='popup "+(L?"modal":"")+"' style='position:absolute; top:0; left:0;'><div class='popup-inner'><div class='popup-header'><span class='popup-title'>"+(J||"&nbsp;")+"</span><img class='popup-close' src='"+themeDisplay.getPathThemeImages()+"/portlet/close.png'/></div><div class='popup-message'></div></div></div>");var D=B.find(".popup:last");var G=D.find(".popup-message");if(K){G.attr("id",K)}D.find(".popup-close").click(function(){A.Popup.close(this)});if(H!=null){D.find(".popup-close").click(H)}D[0].alertOptions=O;G.append(N||"<div class=\"loading-animation\"></div>");if(E){G.css(jQuery.browser.msie?"height":"min-height",E+"px")}if(C){D.css("width",C+"px")}D.mousedown(function(){if(this!=jQuery("#alert-messages .popup:last")[0]){jQuery("#alert-messages").append(this)}});var F=B.find(".alert-background");if(L){if(F.length){D.before(F[0])}else{D.before("<div class='alert-background' style='position:absolute; top:0; left:0'></div>");F=B.find(".alert-background");F.css({display:"none",opacity:0})}}if(jQuery.browser.msie&&jQuery.browser.version.number("round")<7&&A.Popup.count()==1){jQuery("select").css("visibility","hidden");D.find("select").css("visibility","visible")}if(B.find(".popup").length==1){jQuery(window).resize(A.Popup.center);jQuery(window).resize(A.Popup.resize);jQuery(window).scroll(A.Popup.center)}A.Popup.resize();F.fadeTo("normal",0.5);if(false){D.Draggable({handle:D.find(".popup-header")[0],zIndex:Liferay.zIndex.ALERT+1})}else{D.lDrag({handle:D.find(".popup-header")[0],threshold:2,dragClass:"drag-indicator"})}if(I){A.Popup.center()}else{A.Popup.center(E,C)}Liferay.Util.addInputType(D[0]);Liferay.Util.addInputFocus(D[0]);window.focus();return G[0]},iframe:function(C,B){var G=B.height;var F=B.width;var E=A.Popup.open(B);var D=document.createElement("iframe");E.height="";D.src=C;D.frameBorder=0;if(F){D.style.width="100%"}E.appendChild(D);if(!B.noCenter){A.Popup.center(G,F)}return E},center:function(C,E){var D=jQuery("#alert-messages .popup:last");var B=jQuery(".alert-background");B.css({top:(Viewport.scroll().y)});if(!D[0].alertOptions.noCenter){D.css({top:(Viewport.scroll().y+(Viewport.frame().y/2-D.height()/2))+"px",left:(Viewport.scroll().x+(Viewport.frame().x/2-D.width()/2))+"px"})}},resize:function(){jQuery("#alert-messages .alert-background").css({height:Viewport.page().y+"px",width:Viewport.page().x+"px"})},resizeIframe:function(B){if(A.Popup.message&&B){var C=A.Popup.message.getElementsByTagName("iframe")[0];var D=jQuery.getOne(".loading-animation",A.Popup.message);if(D){D.parentNode.removeChild(D)}if(C){if(B.height){C.height=B.height}if(B.width){C.width=B.width}}}A.Popup.resize()},update:function(D,C){var B=jQuery(D);B.empty();B.append("<div class=\"loading-animation\"></div>");AjaxUtil.update(C,B[0])}})})(Liferay);var DragLink={create:function(B,A){B.dragId=jQuery.getOne(A);B.clickLink=B.href;B.href="javascript:void(0)";B.onclick=DragLink.onLinkClick},onLinkClick:function(){if(this.dragId.wasClicked){if(Liferay.Browser.is_ie){setTimeout("window.location = \""+this.clickLink+"\";",0)}else{window.location=this.clickLink}}}};var NavFlyout={zIndex:1,initialize:function(B){var B=jQuery.getOne(B);var A=jQuery("portlet-nav-map-list",B);A.not(".portlet-nav-map-level_1, .portlet-nav-map-level_2").css({position:"absolute",display:"none"});jQuery(".portlet-nav-map-list a",B).each(function(){var C=jQuery(this.parentNode.parentNode);if(C.is(".portlet-nav-map-level_1")){C.mouseover(function(){NavFlyout.hide(this.parentNode)})}else{C.mouseover(NavFlyout.onHoverOver)}})},initToggle:function(C,A){var C=jQuery.getOne(C);var B=jQuery(".portlet-nav-map-level_1 > li",C);B.click(NavFlyout.onToggle);B.css({backgroundImage:"url("+A+")"})},hide:function(A){NavFlyout.initialize(A.parentNode)},onHoverOver:function(){var A=this.parentNode;if(jQuery(A.parentNode).is(".portlet-nav-map-level_2")){NavFlyout.hide(A.parentNode.parentNode.parentNode)}else{NavFlyout.hide(A)}jQuery(A.childNodes).filter("ul").css({display:"block",top:"5px",left:"100px"});zItem=A;while(zItem.nodeName.toLowerCase()!="div"){if(zItem.nodeName.toLowerCase()=="li"){zItem.style.zIndex=NavFlyout.zIndex}zItem=zItem.parentNode}NavFlyout.zIndex++},onToggle:function(){var A=jQuery("ul:first",this).get(0);if(this.isShowing){A.style.display="none";this.style.backgroundImage=this.style.backgroundImage.replace(/02_minus/,"02_plus");this.isShowing=false}else{A.style.display="block";A.style.backgroundImage="none";this.style.backgroundImage=this.style.backgroundImage.replace(/02_plus/,"02_minus");this.isShowing=true}}};var PortletHeaderBar={mode:{},fade:function(C){var B=C.count;var E=C.id;var D=false;var A=jQuery("#portlet-header-bar_"+E+" .portlet-small-icon-bar");if(PortletHeaderBar.mode[E]=="in"){if(B<=10){if(B>=0){A.css({"opacity":(B/10),"display":""})}D=true;C.count++}}else{if(PortletHeaderBar.mode[E]=="out"){if(B>=0){if(B<=10){A.css("opacity",(B/10))}C.count--;D=true}else{A.css("display","none")}}}return D},hide:function(A){this.mode[A]="out";Liferay.Animate("header-icon-fade_"+A,PortletHeaderBar.fade,{count:15,id:A})},show:function(A){this.mode[A]="in";Liferay.Animate("header-icon-fade_"+A,PortletHeaderBar.fade,{count:-5,id:A})}};var PhotoSlider=Class.create();PhotoSlider.prototype={initialize:function(C,A,E,B,D){this.TOTAL_FRAMES=20;this.count=0;this.page=0;this.timer=0;this.start=0;this.photos=jQuery.getOne(E);this.photos.style.position="relative";this.photos.style.left="0px";this.slidingWindow=_J$.getOne(C);this.windowWidth=A;this.totalPages=B;this.varName=D},animate:function(){if(this.count<=this.TOTAL_FRAMES){var B=this.count/this.TOTAL_FRAMES;var A=Math.sin(B*(Math.PI/2));var C=-(this.page*this.windowWidth)-this.start;this.photos.style.left=this.start+(C*A);this.count++;this.timer=setTimeout(this.varName+".animate()",30)}else{this.timer=0}},left:function(){this.start=parseInt(this.photos.style.left);if(this.page>0){this.page--;this.count=0;if(!this.timer){this.timer=setTimeout(this.varName+".animate()",30)}}},right:function(){this.start=parseInt(this.photos.style.left);if(this.page<(this.totalPages-1)){this.page++;this.count=0;if(!this.timer){this.timer=setTimeout(this.varName+".animate()",30)}}}};var Tabs={show:function(C,D,E){var B=document.getElementById(C+E+"TabsId");if(B){B.className="current"}B=document.getElementById(C+E+"TabsSection");if(B){B.style.display="block"}for(var A=0;(D.length>1)&&(A<D.length);A++){if(E!=D[A]){B=document.getElementById(C+D[A]+"TabsId");if(B){B.className="none"}B=document.getElementById(C+D[A]+"TabsSection");if(B){B.style.display="none"}}}}};var StarRating=new Class({initialize:function(D,B){this.options=B||{};this.rating=this.options.rating||0;var C=jQuery("#"+D);this.stars=C.find("img");var A=this;if(!this.options.displayOnly){C.bind("mouseout",{self:this},this.onHoverOut);this.stars.each(function(E){this.index=E+1;jQuery(this).bind("click",{self:A},A.onClick).bind("mouseover",{self:A},A.onHoverOver)})}this.display(this.rating,"rating")}});StarRating.implement({display:function(C,E){var A=this;C=C==null?this.rating:C;var D=Math.floor(C);var B=C-D;this.stars.each(function(F){image=this;if(F<D){if(E=="hover"){image.src=image.src.replace(/\bstar_.*\./,"star_hover.")}else{image.src=image.src.replace(/\bstar_.*\./,"star_on.")}}else{if(B<0.25){image.src=image.src.replace(/\bstar_.*\./,"star_off.")}else{if(B<0.5){image.src=image.src.replace(/\bstar_.*\./,"star_on_quarter.")}else{if(B<0.75){image.src=image.src.replace(/\bstar_.*\./,"star_on_half.")}else{if(B<1){image.src=image.src.replace(/\bstar_.*\./,"star_on_threequarters.")}}}}B=0}})},onHoverOver:function(A){A.data.self.display(this.index,"hover")},onHoverOut:function(A){A.data.self.display()},onClick:function(C){var D=this;var B=D.index;var A=C.data.self;A.rating=B;if(A.options.onComplete){A.options.onComplete(B)}A.display(B)}});var ToolTip={container:null,show:function(B,F,N){var L=this;var C=L.container;var K=jQuery(F);var H=K.offset();var A=L._windowCalculation();if(!C){C=jQuery("<div class=\"portal-tool-tip\"></div>").appendTo("body");L.container=C}C.html(N);C.show();var G=C.width();var D=K.width();var M=K.height();var I=C.height();var E=H.left-(G/2);var J=H.top+M+5;if(E<0){E=5}else{E+=5}if(E+G>A.right){E=(E-(G/2))+D}if(J+I>A.bottom){J=J-(M+I+5)}C.css({cursor:"default",left:E+"px",position:"absolute",top:J+"px",zIndex:Liferay.zIndex.TOOLTIP});K.one("mouseout",function(){L.hide()})},hide:function(B){var A=this;A.container.hide()},_windowCalculation:function(){var B=this;if(B._window.right==null){var C={};var A=B._body;if(!A){A=jQuery("body");B._body=A}B._window={bottom:A.height(),left:0,right:A.width(),top:0};jQuery(window).resize(function(){B._window.bottom=A.height();B._window.right=A.width()})}return B._window},_body:null,_window:{}};Liferay.Portlet={fn:{},fnAll:[],fnLast:[],ajaxList:{},list:{},isAjax:function(A){return(this.ajaxList[A]==1)},flagAjax:function(A){this.ajaxList[A]=1},process:function(D){var A=this.list[D];var C=0;this.list[D]=0;if(A==1){this.processPortlet(D);this.processAll(D)}else{if(A==0){}else{this.processPortlet(D)}}for(var B in this.list){C+=this.list[B]}if(C==0){this.processLast(D)}},processAll:function(B){for(var A=0;A<this.fnAll.length;A++){this.fnAll[A](B,jQuery("#p_p_id_"+B+"_"))}},processPortlet:function(B){if(this.fn[B]){for(var A=0;A<this.fn[B].length;A++){this.fn[B][A](B,jQuery("#p_p_id_"+B+"_"))}this.fn[B]=[]}},processLast:function(B){for(var A=0;A<this.fnLast.length;A++){this.fnLast[A](B)}this.fnLast=[]},ready:function(B,A){if(typeof B=="function"){this.fnAll.push(B)}else{if(typeof B=="string"&&typeof A=="function"){if(!this.fn[B]){this.fn[B]=[]}this.fn[B].push(A)}}},remove:function(A){this.ajaxList[A]=0;this.list[A]=1;this.fn[A]=[]},last:function(A){this.fnLast.push(A)},findIndex:function(B){var A=-1;jQuery("> .portlet-boundary",B.parentNode).each(function(C){if(this==B){A=C}});return A},move:function(D){var G=D.portlet;var F=D.neighbor;var B=D.quadrant;var A=D.container;if(F&&B){if(B==1||B==2){jQuery(F).before(G)}else{jQuery(F).after(G)}if(G&&G.originalColumn){var E=jQuery(G.originalColumn);var C=E.find(".portlet-boundary:first");if(C.length==0){E.addClass("empty")}E=G.originalColumn=null}}else{if(A){jQuery(A).append(G).removeClass("empty")}}this.savePosition(G)},savePosition:function(D){var B=D.parentNode.id.replace(/^layout-column_/,"");var A=this.findIndex(D);var C=D.id.replace(/^(p_p_id_)/,"");C=C.substring(0,C.length-1);AjaxUtil.request(themeDisplay.getPathMain()+"/portal/update_layout?p_l_id="+themeDisplay.getPlid()+"&p_p_id="+C+"&p_p_col_id="+B+"&p_p_col_pos="+A+"&doAsUserId="+themeDisplay.getDoAsUserIdEncoded()+"&cmd=move")}};jQuery.fn.last=function(A){Liferay.Portlet.last(A)};Liferay.Publisher={publishers:{},deliver:function(C){var A=this;var B=window;var D;if(arguments.length==2){D=[arguments[1]]}else{D=jQuery.map(arguments,function(F,E){return(E>0)?F:null})}jQuery.each(A.publishers[C],function(E,F){var G=F.obj||B;F.func.apply(G,D)})},register:function(B){var A=this;if(!A.publishers[B]){A.publishers[B]=[]}},subscribe:function(C,B,E){var A=this;if(A.publishers[C]==null){A.register(C)}var F=false;jQuery.each(A.publishers[C],function(G,H){if(H===B){F=true;return false}});if(!F){var D={func:B,obj:E||null};A.publishers[C].push(D)}},unsubscribe:function(C,B){var A=this;if(!A.publishers[C]){return }jQuery.each(A.publishers[C],function(D,E){if(E.func===B){A.publishers[C].pop(E);return false}})}};Liferay.autoFields=new Class({initialize:function(B){var A=this;B=jQuery.extend(B,{});A._html=jQuery(B.html||"");A._container=jQuery(B.container||"");A._addText=B.addText||"";A._removeText=B.removeText||"";A._clearText=B.clearText||"";A._confirmText=B.confirmText||"";A._rowType=B.rowType||"";A._onAdd=B.onAdd;A._onRemove=B.onRemove;A._onClear=B.onClear;A._init=B.init||false;A._numField=1;A._run();if(A._init){A._init()}},_run:function(){var A=this;var B=A._container;if(B.length){var D=A._html;var F,E,G;var C=jQuery("<span class=\"lfr-control-links\"></span>");if(A._addText){F=jQuery("<a href=\"javascript:;\">"+A._addText+"</a>");F.click(function(){var H=A._addFields();if(A._onAdd){A._onAdd(H)}});C.append(F)}if(A._removeText){E=jQuery("<a href=\"javascript:;\">"+A._removeText+"</a>");E.hide();E.click(function(){A._removeFields();if(A._onRemove){A._onRemove()}});C.append(E)}if(A._clearText){G=jQuery("<a href=\"javascript:;\">"+A._clearText+"</a>");G.click(function(){A._clearFields();if(A._onClear){A._onClear()}});C.append(G)}B.after(C);A._controlLinks=C}},_addFields:function(){var A=this;var B=A._container;var C=A._html.clone();B.append(C);A._numField++;var D=A._controlLinks.find("a:eq(1)");if(D.is(":hidden")){D.show()}return C},_clearFields:function(){var A=this;var B=A._container;var D=B.find(A._rowType).not(":first");var C=true;if(A._confirmText){C=confirm(A._confirmText)}if(C){D.remove();A._numField=1}},_removeFields:function(){var A=this;var B=A._container;var C=B.find(A._rowType+":last");if(A._numField>1){C.remove();--A._numField}if(A._numField<=1){var D=A._controlLinks.find("a:eq(1)");if(D.is(":visible")){D.hide()}}}});Liferay.ColorPicker=new Class({initialize:function(B){var A=this;B=B||{};A._onClose=B.onClose||null;A._onChange=B.onChange||null;A._context=B.context||document.body;A._hasImage=B.hasImage||false;A._item=jQuery(B.item||".use-color-picker",A._context);A._baseColor={r:255,g:0,b:0};A._currentColor={r:255,g:255,b:255};A._lastValues=[0,0];A._insertImages();A._buildHTML();A._activatePicker()},_activatePicker:function(){var B=this;var A=B._currentColor;var C=function(){var G=B._currentColor.r;var F=B._currentColor.g;var D=B._currentColor.b;var E="rgb("+G+", "+F+", "+D+")";B._baseDiv.find(".lfr-old-color").css("background-color",E);if(B._onChange){B._onChange(B._currentColor)}};B._baseDiv.find(".lfr-color").Slider({accept:".lfr-color-indic",onSlide:function(F,E,D,G){B._lastValues=[parseInt(F*255/100),parseInt(E*255/100)];B._setGradientColor()},onChange:C});B._baseDiv.find(".lfr-hue").Slider({accept:".lfr-hue-indic",onSlide:function(F,E,D,G){B._setVertColor(parseInt(E*255/100));B._setGradientColor()},onChange:C})},_buildHTML:function(){var B=this;var F=jQuery("<div class=\"lfr-color-picker\"></div>");var E=jQuery("<div class=\"lfr-color\"><div class=\"lfr-color-indic\"></div></div>");var D=jQuery("<div class=\"lfr-hue\"><div class=\"lfr-hue-indic\"></div></div>");var A=jQuery("<div class=\"lfr-current-color\"><div class=\"lfr-old-color\"></div></div>");var C=jQuery("<div class=\"lfr-color-picker-close\">X</div>");C.click(function(G){B._toggle(G,this)});F.append(E).append(D).append(A).append(C);F.appendTo("body");F.hide();F.css({position:"absolute",zIndex:Liferay.zIndex.ALERT+1});B._baseDiv=F},_insertImages:function(){var A=this;var D=A._context;var C=A._item;var E="<img class=\"lfr-color-picker-img\" src=\""+themeDisplay.getPathThemeImages()+"/color_picker/color_picker.png\" />";if(C.length==1){var B;if(A._hasImage){B=C}else{B=jQuery(E);C.after(B)}B.click(function(F){A._toggle(F,this)})}else{C.each(function(){var G=jQuery(this);var F;if(!A._hasImage){F=jQuery(E)}else{F=G}F.click(function(H){A._toggle(H,this)});G.after(F)})}},_setVertColor:function(A){var H=this;var E=256/6;var F=256/E;var D=A;var I=D%E;var B=255;var C=255-I*F;var G=0;if(D<(E*5)){B=I*F;C=255;if(D<(E*4)){B=0;G=255-I*F;if(D<(E*3)){C=I*F;G=255;if(D<(E*2)){B=255-I*F;C=0;if(D<E){B=255;G=I*F}}}}}H._baseColor={r:parseInt(B),g:parseInt(C),b:parseInt(G)};H._baseDiv.find(".lfr-color").css("background-color","rgb("+H._baseColor.r+", "+H._baseColor.g+", "+H._baseColor.b+")")},_setGradientColor:function(){var I=this;var F=I._baseColor;var G=I._lastValues;var A=I._toBase(F.r);var E=I._toBase(F.g);var H=I._toBase(F.b);var D=I._toHex(A);var C=I._toHex(E);var B=I._toHex(H);I._baseDiv.find(".lfr-current-color").css("background-color","rgb("+A+", "+E+", "+H+")");I._hexColor="#"+(D+C+B).toUpperCase();I._currentInput.val(I._hexColor);I._currentColor={r:A,g:E,b:H}},_toggle:function(E,F){var A=this;var D=jQuery(F);var C=D.offset();A._currentInput=D.prev();var B=A._baseDiv;if(B.is(":visible")){B.hide();if(A._item.is("input")){A._item.trigger("blur")}if(A._onClose){A._onClose()}}else{B.show();if(A._item.is("input")){A._item.trigger("focus")}B.css({top:C.top+"px",left:C.left+25+"px"})}},_toBase:function(B){var A=this;var C=A._lastValues;return Math.round((1-(1-(B/255))*(C[0]/255))*(255-C[1]))},_toHex:function(B){var A=this;B=parseInt(B).toString(16);if(B.length<2){return"0"+B}else{return B}},_toRGB:function(C){var B=this;C=C.replace("#","");if(C.length==6||C.length==3){var E,D,A;if(C.length==6){E=C.substring(0,2);D=C.substring(2,4);A=C.substring(4,6)}else{if(C.length==3){E=C.substring(0,1);D=C.substring(1,2);A=C.substring(2,3);E=E+E;D=D+D;A=A+A}}E=parseInt(E,16);D=parseInt(D,16);A=parseInt(A,16);return{r:E,g:D,b:A}}return null}});(function(A){A.Columns=function(B){A.Columns.init(B)};A.Columns.extendNativeFunctionObject({init:function(C){var B=this;B._columns=C.columnSelector;B._dropPosition=C.positionClass;B._dropArea=C.areaClass;B._grid=jQuery(C.grid);B._handle=C.handleSelector;B._onDrop=C.onComplete;B._portlets=C.boxSelector;B._cache={};jQuery(B._columns).find(B._portlets).each(function(){var D=this;if(!D.isStatic){B.add(D)}})},add:function(G,E){if(E||!themeDisplay.isFreeformLayout()){var C=this;var B=jQuery(G);var F=B.find(C._handle);F.css({cursor:"move"});B.css({position:"relative"});var D={clone:true,dragClass:"drag-indicator",handle:B.find(C._handle)[0],onMove:function(H){C._onMove(H)},onComplete:function(H){C._onComplete(H)},onStart:function(H){C._onStart(H)},threshold:2,scroll:true};if(E){D=jQuery.extend(D,E)}B.lDrag(D)}},_clearCache:function(){if(this._cache.dropArea){jQuery(this._cache.dropArea).remove()}if(this._cache.dropPosition){jQuery(this._cache.dropPosition).remove()}this._cache={}},_findContainer:function(G){var B=this;var E=B._cache.columns;if(!E){B._grid.addClass("dragging");E=B._cache.columns=jQuery(B._columns);B._cache.columnData=[];E.each(function(I){var H=this.parentNode;B._cache.columnData[I]=jQuery(H).coordinatesData(true)})}var F,D,C=null;E.each(function(H){D=G.insideObjectData(B._cache.columnData[H]);if(D){if(F){if(B._cache.columnData[H].nwOffset.insideObjectData(F)&&B._cache.columnData[H].seOffset.insideObjectData(F)){F=B._cache.columnData[H];F.quadrant=D;C=this}}else{F=B._cache.columnData[H];F.quadrant=D;C=this}}});return C?{area:C,data:F}:null},_findPortlet:function(I,E,H){var B=this;if(!B._cache.portlets){B._cache.portlets=[];B._cache.portletData=[];B._cache.portletList=[]}var G=B._cache.portlets[E.id];if(!G){G=jQuery("> "+B._portlets,E);B._cache.portlets[E.id]=G;B._cache.portletData[E.id]=[];B._cache.portletList[E.id]=new LinkedList();G.each(function(J){B._cache.portletData[E.id][J]=jQuery(this).coordinatesData(true);B._cache.portletList[E.id].add(this)})}var F,D,C=null;G.each(function(J){F=B._cache.portletData[E.id][J];D=I.insideObjectData(F);if(D){F.quadrant=D;C=this;return false}else{if(I.y<F.midPoint.y){F.quadrant=1;C=this;return false}else{if(J==G.length-1){F.quadrant=4;C=this;return false}}}});return C?{position:C,data:F}:null},_showArea:function(B,E){instance=this;var C=instance._cache.dropArea;if(!C){jQuery("body:first").append("<div class='"+instance._dropArea+"'></div>");instance._cache.dropArea=C=jQuery("."+instance._dropArea+":first");C.css({position:"absolute",zIndex:Liferay.zIndex.DROP_AREA})}var D=jQuery(B.parentNode.nodeName.toLowerCase()=="td"?B.parentNode:B.parentNode);C.css({display:"",height:D.height(),left:E.x,top:E.y,width:D.width()})},_showPosition:function(I,F,D){instance=this;var C=instance._cache.dropPosition;if(!C){jQuery("body:first").append("<div class='"+instance._dropPosition+"'></div>");C=jQuery("."+instance._dropPosition+":first");C[0].style.position="absolute";C[0].style.zIndex=Liferay.zIndex.DROP_POSITION;instance._cache.dropPosition=C}var E=jQuery(instance._cache.dropPosition);var B=jQuery(I);var H=B.width();var G=B.height();C.css({display:"",height:G/2,left:F.x+"px",width:H+"px"});if(D==1||D==2){C.css({top:F.y+"px"});if(C[0].className!="drop-position-top"){C[0].className="drop-position-top"}}else{C.css({top:(F.y+G/2)+"px"});if(C[0].className!="drop-position-bottom"){C[0].className="drop-position-bottom"}}},_hideArea:function(){if(this._cache.dropArea){this._cache.dropArea.css({display:"none"})}},_hidePosition:function(){if(this._cache.dropPosition){this._cache.dropPosition.css({display:"none"})}},_hasMoved:function(G,C,E){var B=this;var D=true;if(G==C){D=false}else{var F=B._cache.portletList[G.parentNode.id];if(F){F.each(function(H){if(H==C){if((E==1||E==2)&&H.listInfo.prev==G){D=false}else{if((E==3||E==4)&&H.listInfo.next==G){D=false}}}})}}return D},_onMove:function(E){E.container.style.top=0;E.container.style.left=0;var B=this;var D=B._findContainer(mousePos);var G=null;if(D){G=B._findPortlet(mousePos,D.area,E.container);B._showArea(D.area,D.data.nwOffset);if(G&&G.position.isStatic){G=null}}else{B._hideArea()}if(G&&E.container!=G.position){var C=G.position;var F=G.data;B._showPosition(C,F.nwOffset,F.quadrant)}else{B._hidePosition()}},_onComplete:function(E){jQuery(E.container).css({top:0,left:0});var B=this;var C=B._findContainer(mousePos);var D=true;B._hidePosition();B._hideArea();if(B._onDrop&&C){var F=B._findPortlet(mousePos,C.area,E.container);if(F){if(B._hasMoved(E.container,F.position,F.data.quadrant)&&!F.position.isStatic){B._onDrop({portlet:E.container,neighbor:F.position,quadrant:F.data.quadrant})}}else{B._onDrop({portlet:E.container,container:C.area})}}else{D=false}B._grid.removeClass("dragging");B._clearCache();return D},_onStart:function(C){var B=this;C.container.originalColumn=C.container.parentNode}})})(Liferay);Liferay.Dock={init:function(){var H=this;var I=jQuery(".lfr-dock");if(!I.is(".interactive-mode")){return }I.addClass("lfr-component");var F=I.find(".lfr-dock-list");if(F.length>0){var D=jQuery(".my-places",I);H._dock=I;H._dockList=F;H._myPlaces=D;H._hideCommunities(D);F.hide();F.wrap("<div class=\"lfr-dock-list-container\"></div>");var B={dock:I,dockList:F};I.css({cursor:"pointer",position:"absolute",zIndex:Liferay.zIndex.DOCK});var E=function(J){J.data=B;jQuery(document).one("click",function(L){var M=jQuery(L.target);var K=M.parents(".lfr-dock");if((K.length==0)&&!M.is(".lfr-dock")){H._toggle(J,"hide")}});H._toggle(J,"show")};var A=function(J){J.data=B;H._toggle(J,"hide")};var C=function(J){J.data=D;H._togglePlaces(J)};I.hoverIntent({interval:0,out:A,over:E,timeout:500});D.hoverIntent({interval:0,out:C,over:C,timeout:250});D.find(".my-places-toggle, a[@href=javascript: ;]").click(function(){return false});if(Liferay.Browser.is_ie&&Liferay.Browser.version()<=6){D.find(">ul").css("zoom",1)}var G=I.parent();G.css({position:"relative",zIndex:Liferay.zIndex.DOCK_PARENT});H._handleDebug()}},_handleDebug:function(){var B=this;var C=B._dock;var A=B._dockList;var D=B._myPlaces.find("> ul");if(C.is(".debug")){C.show();A.show();A.addClass("expanded");D.addClass("show-my-places")}},_hideCommunities:function(C){var D=C;var B=D.find("> ul > li");var A=B.find("ul");var G=A.find("li.current");var F=B.find("h3");F.wrap("<div class=\"my-places-toggle\"></div>");F=F.parent();A.hide();G.parent().show();var E=G.parent().prev();E.addClass("hide");F.click(function(){var H=jQuery(this);H.next("ul").BlindToggleVertically("fast");H.toggleClass("hide")})},_toggle:function(C,D){var E=C.data;var B=E.dock;var A=E.dockList;if(D=="hide"){A.hide();B.removeClass("expanded")}else{if(D=="show"){A.show();B.addClass("expanded")}else{A.toggle();B.toggleClass("expanded")}}},_togglePlaces:function(B){var A=B.data;var C=A.find("> ul");C.toggleClass("show-my-places");if(Liferay.Browser.is_ie&&Liferay.Browser.version()<=6){C.find("li ul li").css("position","relative")}}};Liferay.DynamicSelect=new Class({initialize:function(B){var A=this;A.array=B;jQuery.each(B,function(E,G){var C=jQuery("#"+G.select);var D=G.selectData;var F=null;if(E>0){F=B[E-1].selectVal}D(function(H){A._updateSelect(A,E,H)},F);C.attr("name",C.attr("id"));C.bind("change",function(){A._callSelectData(A,E)})})},_callSelectData:function(B,C){var E=B.array;if((C+1)<E.length){var D=jQuery("#"+E[C].select);var A=E[C+1].selectData;A(function(F){B._updateSelect(B,C+1,F)},D.val())}},_updateSelect:function(instance,i,list){var params=instance.array[i];var select=jQuery("#"+params.select);var selectId=params.selectId;var selectDesc=params.selectDesc;var selectVal=params.selectVal;var selectNullable=params.selectNullable||true;var options="";if(selectNullable){options+="<option value=\"0\"></option>"}jQuery.each(list,function(i,obj){eval("var key = obj."+selectId+";");eval("var value = obj."+selectDesc+";");options+="<option value=\""+key+"\">"+value+"</option>"});select.html(options);select.find("option[@value="+selectVal+"]").attr("selected","selected");if(jQuery.browser.msie&&jQuery.browser.version.number()<=7){select.css("width","auto")}}});(function(A){A.Freeform=function(B){A.Freeform.init(B)};A.Freeform.extendNativeFunctionObject({_current:null,init:function(C){var B=this;B._columns=C.columnSelector;B._portlets=C.boxSelector;jQuery(B._columns).find(B._portlets).each(function(){B.add(this)})},add:function(F){var B=this;F=jQuery.getOne(F);var D=jQuery(".portlet-header-bar, .portlet-title-default, .portlet-topper",F).get(0);D.style.cursor="move";F.style.position="absolute";jQuery(F).lDrag({handle:D,portlet:F,onStart:function(G){G.wasClicked=true;G.container.style.zIndex=99},onMove:function(G){G.wasClicked=false},onComplete:function(G){var J=G.portlet;if(!G.wasClicked){var I=parseInt(J.style.left);var H=parseInt(J.style.top);I=Math.round(I/10)*10;H=Math.round(H/10)*10;J.style.left=I+"px";J.style.top=H+"px";B.moveToTop(J);B.savePosition(J)}J.style.zIndex=""}});jQuery(F).click(function(){if(B._current!=this){B.moveToTop(this);B.savePosition(this,true);B._current=this}});var E=jQuery(".portlet-content-container, .portlet-borderless-container",F);var C=jQuery(".portlet-resize-handle",F);if(!C.length){E.append("<div style='position:relative'><div class='portlet-resize-handle'></div></div>");C=jQuery(".portlet-resize-handle",F)}if(E.length&&C.length){jQuery(F).lResize({handle:C[0],direction:"horizontal",mode:"add",portlet:F,onStart:function(G){B.moveToTop(G.container.resizeSettings.portlet)},onComplete:function(I){var K=I.container.resizeSettings.portlet;var J=jQuery(K).getOne(".portlet-content-container, .portlet-borderless-container");var G=parseInt(J.style.height);var H=parseInt(K.style.width);G=Math.round(G/10)*10;H=Math.round(H/10)*10;J.style.height=G+"px";K.style.width=H+"px";B.savePosition(K)}});E.lResize({handle:C[0],direction:"vertical",mode:"add"})}if((parseInt(F.style.top)+parseInt(F.style.left))==0){F.style.top=(20*F.columnPos)+"px";F.style.left=(20*F.columnPos)+"px"}},findPosition:function(C){var B=-1;jQuery(".portlet-boundary",C.parentNode).each(function(D){if(this==C){B=D}});return B},moveToTop:function(C){var B=C.parentNode;C.oldPosition=this.findPosition(C);B.removeChild(C);B.appendChild(C)},savePosition:function(F,G){var B=this;var E=jQuery(F).find(".portlet-content-container, .portlet-borderless-container")[0];var C=Liferay.Portlet.findIndex(F);var D;if(C!=F.oldPosition){Liferay.Portlet.savePosition(F)}if(E&&!G){AjaxUtil.request(themeDisplay.getPathMain()+"/portal/update_layout?p_l_id="+themeDisplay.getPlid()+"&height="+E.style.height+"&width="+F.style.width+"&top="+F.style.top+"&left="+F.style.left+"&p_p_id="+F.portletId+"&doAsUserId="+themeDisplay.getDoAsUserIdEncoded()+"&cmd=drag")}}})})(Liferay);var LayoutConfiguration={categories:[],initialized:false,loadingImage:null,menu:null,menuDiv:null,menuIframe:null,portlets:[],showTimer:0,offsetMenu:true,init:function(){var A=this;var C=jQuery("#portal_add_content");A.menu=C;A._isFreeform=themeDisplay.isFreeformLayout();if(C.length){var B=C.childNodes;A.menuDiv=C.find(".portal-add-content");A.menuIframe=C.find("iframe");A.portlets=C.find(".lfr-portlet-item");A.categories=C.find(".lfr-content-category");A.categoryContainers=C.find(".lfr-add-content");A.initialized=true;jQuery("#layout_configuration_content").trigger("focus").addClass("focus");jQuery("#layout_configuration_content").keyup(function(D){A.startShowTimer(D,this)})}if(A._isFreeform){A._grid=jQuery("body .freeform #column-1:first");A._offsetL=A._grid[0].offsetLeft;A._offsetT=A._grid[0].offsetTop}},toggle:function(E,C,F){var I=this;if(!I.menu){var B=themeDisplay.getPathMain()+"/portal/render_portlet?p_l_id="+E+"&p_p_id="+C+"&doAsUserId="+F+"&p_p_state=exclusive";var H=250;if(I.offsetMenu){var G=jQuery("body");var D=G.css("padding-left");G.css("padding-left",H+10)}var A=Liferay.Popup({width:H,noCenter:true,title:Liferay.Language.get("add-application"),onClose:function(){I.menu=null;if(I.offsetMenu){G.css("padding-left",D)}}});AjaxUtil.update(B,A,{onComplete:function(){I._loadContent()}})}},searchField:function(D,G){var A=this;var F=jQuery.trim(G.value).toLowerCase();var C=A.portlets;var B=A.categories;var E=A.categoryContainers;if(F!="*"&&F.length){F=F.match(/[a-zA-Z0-9]*/g).join("");C.hide();B.hide();E.hide();C.each(function(I){var H=this.id.toLowerCase();if(H.indexOf(F)>-1){var J=jQuery(this);J.show();J.parents(".lfr-content-category").addClass("visible").removeClass("hidden").show();J.parents(".lfr-add-content").addClass("expanded").removeClass("collapsed").show()}})}else{if(!F.length){B.addClass("hidden").removeClass("visible").css("display","");E.addClass("collapsed").removeClass("expanded").css("display","");C.css("display","")}else{if(F=="*"){B.addClass("visible").removeClass("hidden");E.addClass("expanded").removeClass("collapsed");C.show()}}}},startShowTimer:function(B,C){var A=this;if(A.showTimer){clearTimeout(A.showTimer);A.showTimer=0}A.showTimer=setTimeout(function(){A.searchField(B,C)},250)},_loadContent:function(){var A=this;A.init();Liferay.Util.addInputType();Liferay.Util.addInputFocus();Liferay.Publisher.subscribe("closePortlet",A._onPortletClose,A);var D=false;var B=jQuery(".lfr-portlet-item");var C={threshold:10,onStart:function(I){var J=I.browserEvent;var G=jQuery(J.originalTarget||J.srcElement);if(!G.is("a")){Liferay.Columns._onStart(I)}else{D=true;var K=G.parents(".lfr-portlet-item:first");if(!K.is(".lfr-portlet-used")){var E=K.attr("plid");var H=K.attr("portletId");var F=(K.attr("instanceable")=="true");addPortlet(E,H,themeDisplay.getDoAsUserIdEncoded());if(!F){K.addClass("lfr-portlet-used");K.unbind("mousedown")}}}},onMove:function(E){if(!A._isFreeform){Liferay.Columns._onMove(E)}},onComplete:function(N){if(!D){var E=N.container;var G=E.getAttribute("plid");var K=E.getAttribute("portletId");if(G&&K){var M=jQuery(N.container);var L=(E.getAttribute("instanceable")=="true");var I=themeDisplay.getDoAsUserIdEncoded();var F=addPortlet(G,K,I,true);if(!L){if(F){M.addClass("lfr-portlet-used");M.unbind("mousedown")}}else{Liferay.Columns.add(M,C)}M.css({top:0,left:0});N.container=F;var H=Liferay.Columns._onComplete(N);if(!A._isFreeform){if(!H){if(L){K=F.id;K=K.replace(/^p_p_id_(.*)_$/,"$1")}closePortlet(G,K,I,true)}}if(H||A._isFreeform){M.Highlight(750,"#ffe98f")}if(A._isFreeform){var J=jQuery(F);J.css({left:(mousePos.x-A._offsetL)+"px",top:(mousePos.y-A._offsetT)+"px"})}}}D=false}};A._layoutOptions=C;B.each(function(){if(this.className.indexOf("lfr-portlet-used")==-1){Liferay.Columns.add(this,C)}});if(Liferay.Browser.is_ie){B.hover(function(){this.className+=" over"},function(){this.className=this.className.replace("over","")})}jQuery(".lfr-add-content > h2").click(function(){var F=jQuery(this).parent();var E=F.find("> .lfr-content-category");E.toggleClass("hidden").toggleClass("visible");F.toggleClass("collapsed").toggleClass("expanded")})},_onPortletClose:function(C){var A=this;var B=jQuery("#portal_add_content");var D=B.find(".lfr-portlet-item[@plid="+C.plid+"][@portletId="+C.portletId+"][@instanceable=false]");if(D.is(".lfr-portlet-used")){D.removeClass("lfr-portlet-used");Liferay.Columns.add(D[0],A._layoutOptions)}}};Liferay.LayoutExporter={all:function(A){A=A||{};var D=A.pane;var C=A.obj;var B=A.publish;if(C.checked){jQuery(D).hide();if(!B){jQuery("#publishBtn").show();jQuery("#selectBtn").hide()}else{jQuery("#changeBtn").hide()}}},details:function(C){C=C||{};var A=C.toggle;var D=C.detail;var B=jQuery(A)[0];if(jQuery(D).css("display")=="none"){jQuery(D).slideDown("normal");B.src=Liferay.LayoutExporter.icons.minus}else{jQuery(D).slideUp("normal");B.src=Liferay.LayoutExporter.icons.plus}},icons:{minus:themeDisplay.getPathThemeImages()+"/arrows/01_minus.png",plus:themeDisplay.getPathThemeImages()+"/arrows/01_plus.png"},publishToLive:function(C){C=C||{};var B=C.messageId;var A=C.url;var E=C.title;if(!E){E=Liferay.Language.get(B)}var D=Liferay.Popup({"title":E,modal:true,width:600,height:550,overflow:"auto","messageId":B});AjaxUtil.update(A,D)},selected:function(A){A=A||{};var D=A.pane;var C=A.obj;var B=A.publish;if(C.checked){jQuery(D).show();if(!B){jQuery("#publishBtn").hide();jQuery("#selectBtn").show()}else{jQuery("#changeBtn").show()}}}};Liferay.Menu=new Class({initialize:function(B){var A=this;A._button=jQuery(B.button,B.context||document);A._menu=A._button.find("ul:first");A._trigger=A._button.find(B.trigger);if(A._menu.length){A._run()}},_run:function(){var A=this;var D=A._trigger.find("ul:first li:last-child");D.addClass("last");var C=function(E){A._button.removeClass("visible")};var B=function(H){var E=jQuery(this);var G=E.parent();if(G.is(".visible")){G.removeClass("visible")}else{A._button.removeClass("visible");G.addClass("visible")}jQuery(document).unbind().one("click",C);var F=jQuery(H.originalTarget||H.srcElement);if(!F.is("a")&&!F.is("img")){return false}};A._trigger.unbind().click(B)}});var Messaging={checkRoster:false,currentChatBox:null,initialized:false,inputCount:1,mainDiv:null,msgQueue:[],userId:null,windowCount:0,zIndex:1,chat:function(A){if(!A&&Messaging.msgQueue.length==0){return }var F=A||Messaging.msgQueue.shift();var D=F.toId.replace(/\./g,"_");var E=jQuery("#msg-chat-box_"+D)[0];if(!E){var C="<div class='chat-box' id='msg-chat-box_"+D+"'><input class='to-input-id' type=hidden value='"+F.toId+"' /><div class='chat-area textarea' style='overflow: auto; height: 100px'>"+(F.messages||"")+"</div><input class='type-area' style='width: 90%; margin-top: 5px' tabIndex=1 type='text' onKeyPress='Messaging.sendChat(this, event)' /></div>";E=Liferay.Popup({title:F.toName,message:C,noCenter:true,width:300,onClose:function(){Messaging.saveCookie()}});if(F.status&&F.status=="unavailable"){jQuery(E).append("<img src='"+themeDisplay.getPathThemeImages()+"/chat/add_user.png' style='cursor: pointer; margin-top: 2px' onclick=\"MessagingRoster.addEntry('"+F.toId+"'); jQuery(this).remove()\"/>")}Messaging.populateChatBox(E,F);if(F.top!=null&&F.left!=null){jQuery(E).parents(".popup:first").css({top:F.top+"px",left:F.left+"px"})}else{var B=Liferay.Popup.count();jQuery(E).parents(".popup:first").css({top:(B*10)+"px",left:(B*10)+"px"})}}else{this.populateChatBox(E,F)}},populateChatBox:function(E,G){var D=jQuery.getOne(".type-area",E);var A=jQuery.getOne(".chat-area",E);if(G.body!=null){var B=G.toName.split(/[ ,.-]/);var F="";for(var C=0;C<B.length;C++){F+=B[C].charAt(0)}A.innerHTML+="<span style='color: #FF0000'>"+F+": </span>"+G.body+"<br/>";this.saveCookie()}A.scrollTop=A.scrollHeight;D.focus();if(Liferay.Browser.is_ie){D.focus()}Messaging.chat()},getChats:function(){var url=themeDisplay.getPathMain()+"/messaging/action?cmd=getChats";AjaxUtil.request(url,{onComplete:function(xmlHttpReq){var msg=eval("("+xmlHttpReq.responseText+")");Messaging.getChatsReturn(msg)}})},getChatsReturn:function(D){var A=D.status;if(A=="success"){var F=D.chat;if(F&&F.length>0){for(var C=0;C<F.length;C++){var B=F[C].fromName;var E=F[C].fromId;F[C].fromName=F[C].toName;F[C].fromId=F[C].toId;F[C].toName=B;F[C].toId=E;Messaging.msgQueue.push(F[C])}Messaging.chat();window.focus()}}},error:function(){alert("User does not exist")},init:function(userId){var body=document.getElementsByTagName("body")[0];this.userId=userId;var msgJSON=jQuery.cookie(this.userId+"_chats");if(msgJSON){var chatArray=eval("("+msgJSON+")");for(var i=0;i<chatArray.length;i++){Messaging.msgQueue.push(chatArray[i])}Messaging.chat()}this.initialized=true;Messaging.getChats()},maximizeChat:function(D){var C=jQuery.getOne(D);var B=jQuery.getOne(".chat-box-width");var A=jQuery.getOne(".chat-area");C.style.left=Viewport.scroll().x+"px";C.style.top=Viewport.scroll().y+"px";B.style.width=(Viewport.frame().x-30)+"px";A.style.height=(Viewport.frame().y-100)+"px"},minimizeChat:function(D){var C=jQuery.getOne(D);var B=jQuery.getOne(".chat-box-width");var A=jQuery.getOne(".chat-area");B.style.width=250+"px";A.style.height=100+"px"},removeChat:function(B){var A=jQuery.getOne(B);Element.remove(A);this.saveCookie()},saveCookie:function(){var A=jQuery(".chat-box");var B="[";A.each(function(D){var E=this;var C=jQuery(E).parents(".popup:first");B+="{toName:\""+C.find(".popup-title")[0].innerHTML+"\",toId:\""+jQuery(".to-input-id",E)[0].value+"\",top:"+parseInt(C.css("top"))+",left:"+parseInt(C.css("left"))+",messages:\""+Liferay.Util.toJSONString(jQuery(".chat-area",E)[0].innerHTML)+"\"}";if(D<A.length-1){B+=","}});B+="]";jQuery.cookie(this.userId+"_chats",B)},sendChat:function(D,G){var H;var E=D.parentNode;var F;var L;var K;var J;var I="cmd=sendChat";if(window.event){H=window.event.keyCode}else{if(G){H=G.which}else{return }}if(H==13){var B=E.getElementsByTagName("input");for(var C=0;C<B.length;C++){if(B[C].className){if(B[C].className.match("msg-to-input-id")){F=B[C]}if(B[C].className.match("msg-to-input-addr")){L=B[C]}if(B[C].className.match("msg-type-area")){K=B[C]}}}if(K.value==""){return }var A=E.getElementsByTagName("div");for(var C=0;C<A.length;C++){if(A[C].className&&A[C].className.match("msg-chat-area")){J=A[C]}}I+="&text="+encodeURIComponent(K.value);if(L!=null){I+="&tempId="+F.value+"&toAddr="+L.value}else{I+="&toId="+F.value}loadPage(themeDisplay.getPathMain()+"/messaging/action",I,Messaging.sendChatReturn);J.innerHTML+="<span style='color: #0000FF'>Me: </span>"+K.value+"<br/>";J.scrollTop=J.scrollHeight;K.value="";Messaging.saveCookie()}},sendChatReturn:function(xmlHttpReq){var msg=eval("("+xmlHttpReq.responseText+")");if(msg.status=="success"){Messaging.populateChatBox(msg)}else{Messaging.error()}}};var MessagingRoster={highlightColor:"",lastSelected:null,addEntry:function(C){var B;if(C){B=themeDisplay.getPathMain()+"/chat/roster?cmd=addEntry&userId="+C}else{var A=jQuery.getOne("#portlet-chat-roster-email").value;B=themeDisplay.getPathMain()+"/chat/roster?cmd=addEntry&email="+A}AjaxUtil.request(B,{onComplete:MessagingRoster.addEntryReturn})},addEntryReturn:function(xmlHttpReq){try{var msg=eval("("+xmlHttpReq.responseText+")");if(msg.status=="failure"){alert("No such user exists")}else{var rosterDiv=jQuery.getOne("#portlet-chat-roster-list");if(rosterDiv){var entries=jQuery(".portlet-chat-roster-entry",rosterDiv);var userId=msg.user;var userExists=entries.filter(function(i){return(this.userId==userId)});if(userExists.length!=0){var entryRow=MessagingRoster.createEntryRow(msg.user,msg.name);rosterDiv.appendChild(entryRow)}MessagingRoster.toggleEmail()}}}catch(err){}},createEntryRow:function(C,F,A){var B=document.createElement("div");var D=document.createElement("img");var E=document.createElement("a");D.align="absmiddle";D.style.marginRight="5px";if(A){D.src=themeDisplay.getPathThemeImages()+"/chat/user_online.png"}else{D.src=themeDisplay.getPathThemeImages()+"/chat/user_offline.png"}E.innerHTML=F;E.href="javascript: void(0)";E.onclick=MessagingRoster.onEntryLinkClick;B.appendChild(D);B.appendChild(E);B.onclick=MessagingRoster.onEntryClick;B.userId=C;B.userName=F;B.style.cursor="pointer";B.className="portlet-chat-roster-entry";return B},deleteEntries:function(){if(MessagingRoster.lastSelected){var A=MessagingRoster.lastSelected.userId;var B=MessagingRoster.lastSelected;B.parentNode.removeChild(B);MessagingRoster.lastSelected=null;loadPage(themeDisplay.getPathMain()+"/chat/roster","cmd=deleteEntries&entries="+A,MessagingRoster.deleteEntriesReturn)}},deleteEntriesReturn:function(xmlHttpReq){try{var msg=eval("("+xmlHttpReq.responseText+")")}catch(err){}},getEntries:function(){var url=themeDisplay.getPathMain()+"/chat/roster?cmd=getEntries";AjaxUtil.request(url,{onComplete:function(xmlHttpReq){var msg=eval("("+xmlHttpReq.responseText+")");MessagingRoster.getEntriesReturn(msg)}})},getEntriesReturn:function(A){MessagingRoster.updateEntries(A.roster)},updateEntries:function(D){var E=jQuery.getOne("#portlet-chat-roster-list");if(E!=null){E.innerHTML=""}else{Messaging.checkRoster=false;return }for(var B=0;B<D.length;B++){var C=D[B];var A=MessagingRoster.createEntryRow(C.user,C.name,C.status=="available");E.appendChild(A)}},onEmailKeypress:function(C,A){var B;if(window.event){B=window.event.keyCode}else{if(A){B=A.which}else{return }}if(B==13){MessagingRoster.addEntry()}},onEntryClick:function(){if(MessagingRoster.lastSelected!=null){MessagingRoster.lastSelected.style.backgroundColor="transparent"}this.style.backgroundColor=MessagingRoster.highlightColor;MessagingRoster.lastSelected=this},onEntryLinkClick:function(){var A=this.parentNode;Messaging.chat({toId:A.userId,toName:A.userName})},toggleEmail:function(){var A=jQuery.getOne("#portlet-chat-roster-email-div");if(A.style.display=="none"){A.style.display="block";emailInput=jQuery.getOne("#portlet-chat-roster-email");emailInput.value="";emailInput.focus()}else{A.style.display="none"}}};Liferay.Notice=new Class({initialize:function(B){var A=this;B=B||{};A._noticeType=B.type||"notice";A._noticeClass="popup-alert-notice";A._useCloseButton=true;A._onClose=B.onClose;A._closeText=B.closeText;A._useToggleButton=false;A._hideText="";A._showText="";if(B.toggleText!==false){A.toggleText=jQuery.extend({hide:null,show:null},B.toggleText);A._useToggleButton=true}if(A._noticeType=="warning"){A._noticeClass="popup-alert-warning"}if(B.noticeClass){A._noticeClass+=" "+B.noticeClass}A._content=B.content||"";A._createHTML();return A._notice},setClosing:function(){var A=this;var B=jQuery(".popup-alert-notice, .popup-alert-warning").not("[@dynamic=true]");A._useCloseButton=true;A._addCloseButton(B)},_createHTML:function(){var A=this;var B=jQuery("<div class=\""+A._noticeClass+"\" dynamic=\"true\"><div class=\"popup-alert-content\"></div></div>");B.html(A._content);A._addCloseButton(B);A._addToggleButton(B);B.appendTo("body");A._notice=B},_addCloseButton:function(D){var A=this;if(A._closeText!==false){A._closeText=A._closeText||Liferay.Language.get("close")}else{A._useCloseButton=false;A._closeText=""}if(A._useCloseButton){var C="<input class=\"submit popup-alert-close\" type=\"submit\" value=\""+A._closeText+"\" />";D.append(C);var B=D.find(".popup-alert-close");B.click(function(){D.slideUp("normal",function(){D.remove()});if(A._onClose){A._onClose()}})}},_addToggleButton:function(D){var B=this;if(B._useToggleButton){B._hideText=B._toggleText.hide||Liferay.Language.get("hide");B._showText=B._toggleText.show||Liferay.Language.get("show");var E=jQuery("<a class=\"toggle-button\" href=\"javascript:;\"><span>"+B._hideText+"</span></a>");var C=E.find("span");var A=0;E.toggle(function(){D.slideUp();C.text(B._showText)},function(){D.slideDown();C.text(B._hideText)});D.append(E)}}});Liferay.Navigation=new Class({initialize:function(C){var A=this;A.params=C;A._navBlock=jQuery(A.params.navBlock);A._hasPermission=A.params.hasPermission;A._isModifiable=A._navBlock.is(".modify-pages");A._isSortable=A._navBlock.is(".sort-pages")&&A._hasPermission;A._isUseHandle=A._navBlock.is(".use-handle");A._updateURL=themeDisplay.getPathMain()+"/layout_management/update_page";var B=A._navBlock.find("> ul > li");B.each(function(D){this._LFR_layoutId=A.params.layoutIds[D]});A._makeAddable();A._makeDeletable();A._makeSortable();A._makeEditable();Liferay.Publisher.register("navigation");Liferay.Publisher.subscribe("tree",A._treeCallback,A)},_addPage:function(A,E){var J=this;var D=J._navBlock;var H=jQuery("<li>"+J._enterPage+"</li>");var C=H.find("input");D.find("ul:first").append(H);var G=H.find(".save-page");var B=H.find(".cancel-page");var I=H.find(".enter-page input");var F=jQuery(document);var K=function(L){var M=jQuery(L.target);var N=M.parents("ul:eq(0)");if((N.length==0)&&!M.is("li")&&!M.parents("#add-page").length){B.trigger("click")}};F.click(K);B.click(function(L){J._cancelAddingPage(L,H);F.unbind("click",K)});G.click(function(L){J._savePage(L,this,J);F.unbind("click",K)});I.keyup(function(L){if(L.keyCode==13){G.trigger("click")}else{if(L.keyCode==27){B.trigger("click")}else{return }}F.unbind("click",K)});C[0].focus()},_cancelAddingPage:function(B,C){var A=this;C.remove()},_cancelPage:function(D,E,C){var A=null;if(C){A=jQuery(E).parents("li");var B=A.find(".enter-page");B.prev().show();B.remove()}else{A=jQuery(this).parents("li");A.remove()}},_deleteButton:function(B){var A=this;B.append("<span class=\"delete-tab\">X</span>");var C=B.find(".delete-tab");C.click(function(D){A._removePage(this,A)});C.hide();B.hover(function(){jQuery(this).find(".delete-tab").fadeIn("fast")},function(){jQuery(this).find(".delete-tab").fadeOut("fast")})},_makeAddable:function(){var A=this;if(A._isModifiable){var B=A._navBlock.find("ul:first");A._enterPage="<div class=\"enter-page\"><input type=\"text\" name=\"new_page\" value=\"\" class=\"text\" /><a class=\"cancel-page\" href=\"javascript: ;\"></a><a class=\"save-page\" href=\"javascript: ;\">"+Liferay.Language.get("save")+"</a></div>";if(A._hasPermission){B.after("<div id=\"add-page\"><a href=\"javascript:;\"><span>"+Liferay.Language.get("add-page")+"</span></a></div>");var C=B.parent().find("#add-page a");C.click(function(D){A._addPage(D,this)})}}},_makeDeletable:function(){var A=this;if(A._isModifiable&&A._hasPermission){var B=A._navBlock.find("li").not(".selected");A._deleteButton(B)}},_makeEditable:function(){var A=this;if(A._isModifiable){var D=A._navBlock.find("li.selected");var C=D.find("a");var B=C.find("span");C.click(function(F){if(F.shiftKey){return false}});var E=function(){B.css("cursor","pointer")};C.hover(function(F){if(!themeDisplay.isStateMaximized()||F.shiftKey){B.css("cursor","text")}},E);B.click(function(G){if(themeDisplay.isStateMaximized()&&!G.shiftKey){return }var K=jQuery(this);var L=K.text();K.parent().hide();K.parent().after(A._enterPage);var M=K.parent().next();var I=M.parents();var H=M.find("input");var N=function(O){O.stopPropagation();if(!jQuery(this).is("li")){F.trigger("click")}return false};H.val(L);H.trigger("select");var J=M.find(".save-page");J.click(function(O){A._savePage(O,this,A,L);I.unbind("blur",N);I.unbind("click",N)});var F=M.find(".cancel-page");F.hide();F.click(function(O){A._cancelPage(O,this,L);I.unbind("blur",N);I.unbind("click",N)});H.keyup(function(O){if(O.keyCode==13){J.trigger("click");I.unbind("blur",N);I.unbind("click",N)}else{if(O.keyCode==27){F.trigger("click");I.unbind("blur",N);I.unbind("click",N)}}});I.click(N);E();return false})}},_makeSortable:function(){var A=this;var F=A._navBlock;var C=F.find("ul:first");if(A._isSortable){var E=C.find("> li").css("float");var B=C.find("li");var D=B.find("a");if(A._isUseHandle){B.append("<span class=\"sort-handle\">+</span>")}else{D.css("cursor","move");D.find("span").css("cursor","pointer")}B.addClass("sortable-item");A.sortable=C.Sortable({accept:"sortable-item",helperclass:"sort-helper",activeclass:"sortableactive",hoverclass:"sortablehover",handle:(A._isUseHandle?".sort-handle":"a"),opacity:0.8,revert:true,floats:(E=="left"||E=="right"),tolerance:"pointer",snapDistance:10,onStop:function(){A._saveSortables(this);Liferay.Publisher.deliver("navigation",this)}})}},_removePage:function(E,A){var C=jQuery(E).parents("li");var B=C.find("a span").html();if(confirm(Liferay.Language.get("are-you-sure-you-want-to-delete-this-page"))){var D={doAsUserId:themeDisplay.getDoAsUserIdEncoded(),cmd:"delete",groupId:themeDisplay.getGroupId(),privateLayout:themeDisplay.isPrivateLayout(),layoutId:C[0]._LFR_layoutId};jQuery.ajax({data:D,success:function(){Liferay.Publisher.deliver("navigation",C,"delete");C.remove()},url:A._updateURL})}},_savePage:function(B,E,I,D){if((B.type=="keyup")&&(B.keyCode!==13)){return }var F=null;var G=null;var H=jQuery(E).parents("li");var C=H.find("input").val();var J=H.find(".enter-page");if(D){if(C!=D){F={doAsUserId:themeDisplay.getDoAsUserIdEncoded(),cmd:"name",groupId:themeDisplay.getGroupId(),privateLayout:themeDisplay.isPrivateLayout(),layoutId:themeDisplay.getLayoutId(),name:C,languageId:themeDisplay.getLanguageId()};G=function(N){N=Liferay.Util.toJSONObject(N);var O=J.prev();var K=O.find("span");K.text(C);O.show();J.remove();var L=jQuery(document).attr("title");var M=new RegExp(D,"g");newTitle=L.replace(M,C);jQuery(document).attr("title",newTitle)}}else{var A=J.prev();A.show();J.remove();return false}}else{F={mainPath:themeDisplay.getPathMain(),doAsUserId:themeDisplay.getDoAsUserIdEncoded(),cmd:"add",groupId:themeDisplay.getGroupId(),privateLayout:themeDisplay.isPrivateLayout(),parentLayoutId:themeDisplay.getParentLayoutId(),name:C};G=function(K){K=Liferay.Util.toJSONObject(K);var L=jQuery("<a href=\""+K.url+"\"><span>"+C+"</span></a>");if(I._isUseHandle){J.before("<span class=\"sort-handle\">+</span>")}else{L.css("cursor","move")}H[0]._LFR_layoutId=K.layoutId;J.before(L);J.remove();I.sortable.SortableAddItem(H[0]);I._deleteButton(H);Liferay.Publisher.deliver("navigation",H)}}jQuery.ajax({data:F,success:G,url:I._updateURL})},_saveSortables:function(C){var A=this;tabs=jQuery("li",A._navBlock);var B={doAsUserId:themeDisplay.getDoAsUserIdEncoded(),cmd:"priority",groupId:themeDisplay.getGroupId(),privateLayout:themeDisplay.isPrivateLayout(),layoutId:C._LFR_layoutId,priority:tabs.index(C)};jQuery.ajax({data:B,url:A._updateURL})},_treeCallback:function(O,J){var M=this;var E=M._navBlock.find("> ul");if(M._isSortable){var H=E.find("> li");var B=jQuery(O);var P=B.parent();var D=B.find("span:first").text();var N=jQuery(J).parents("li:first");var L=H.find("span").not(".delete-tab");L=L.filter(function(){var Q=jQuery(this);if(Q.text()==D){return true}else{return false}});var A=P.find("> li");var K=A.index(O);if(L.length>0){var G=H.eq(K);var F=L.parents("li:first");if(!N.is(".tree-item")){G.after(F);if(F.is(":hidden")){F.show()}}else{F.hide()}}else{if(!N.is(".tree-item")){var C=H.lt(1).clone();C.removeClass("selected");C.find(".child-menu").remove();var I=C.find("a span");I.text(D);I.css("cursor","pointer");H.parent().append(C)}}}},_isSortable:false,_isModifiable:false,_isUseHandle:false,_hasPermission:false,_enterPage:"",_updateURL:""});Liferay.Session={autoExtend:false,sessionTimeout:0,sessionTimeoutWarning:0,redirectOnExpire:false,init:function(D){var A=this;D=D||{};A.autoExtend=D.autoExtend||A.autoExtend;A._timeout=D.timeout||A.sessionTimeout;A._warning=D.timeoutWarning||A.sessionTimeoutWarning;A.sessionTimeout=A._timeout*60000;A.sessionTimeoutWarning=A._warning*60000;A._timeoutDiff=A.sessionTimeout-A.sessionTimeoutWarning;A._currentTime=A.sessionTimeoutWarning;A.redirectOnExpire=D.redirectOnExpire||A.redirectOnExpire;A._cookieKey="LFR_SESSION_STATE_"+themeDisplay.getUserId();A.banner=new jQuery;var B=themeDisplay.getPathMain()+"/portal/";A._sessionUrls={expire:B+"expire_session",extend:B+"extend_session"};A._stateCheck=setTimeout(function(){A.checkState()},A._timeoutDiff);var C=A._timeout;var E=A._warning;A._warningText=Liferay.Language.get("warning-your-session-will-expire",["[$SPAN$]",C]);A._warningText=A._warningText.replace(/\[\$SPAN\$\]/,"<span class=\"countdown-timer\"></span>");A._toggleText={hide:Liferay.Language.get("hide"),show:Liferay.Language.get("show")};A._expiredText=Liferay.Language.get("warning-your-session-has-expired");A._extendText=Liferay.Language.get("extend");A.setCookie()},checkState:function(){var A=this;var C=new Date().getTime();var B=A.getCookie();var D=A.sessionTimeoutWarning;var E=0;clearTimeout(A._stateCheck);if(B=="expired"){A.expire()}else{E=C-B;if(!A.autoExtend){if((E+100)>=A.sessionTimeoutWarning){A.warn()}else{D=(A.sessionTimeoutWarning-E)+10000;A._stateCheck=setTimeout(function(){A.checkState()},D)}}else{A.extend()}}},getCookie:function(){var A=this;return jQuery.cookie(A._cookieKey)||0},expire:function(){var A=this;var B=A.banner;var C=B.find("#sessionWarningText");document.title=A._originalTitle;if(C.length){var E=A._expiredText;C.html(E);clearTimeout(A._sessionExpired);var D=B.find("#okBtn");D.click(function(){A.notice.close();window.location=themeDisplay.getURLHome()});var F=B.find("#cancelBtn");F.hide();jQuery.ajax({url:A._sessionUrls.expire})}A.setCookie("expired");if(A.redirectOnExpire){location.href=themeDisplay.getURLHome()}},extend:function(){var A=this;if(A._countdownTimer){clearInterval(A._countdownTimer)}jQuery.ajax({url:A._sessionUrls.extend});document.title=A._originalTitle;if(A._sessionWarning){clearTimeout(A._sessionWarning)}A._sessionWarning=setTimeout(function(){if(!A.autoExtend){A.warn()}else{A.extend()}},A.sessionTimeoutWarning);A.setCookie()},setCookie:function(B){var A=this;var C=new Date().getTime();jQuery.cookie(A._cookieKey,B||C)},warn:function(){var A=this;A.banner=new Liferay.Notice({content:A._warningText,closeText:A._extendText,onClose:function(){A.extend()},toggleText:false});A._counter();A._sessionExpired=setTimeout(function(){A.expire()},A.sessionTimeoutWarning)},_counter:function(){var A=this;var B=A.banner;if(B.length){A._counterText=B.find(".countdown-timer");A._originalTitle=document.title;var C=1000;A._counterText.text(A._setTime());document.title=A.banner.text();A._countdownTimer=setInterval(function(){var D=A._setTime();A._currentTime=A._currentTime-C;if(A._currentTime>0){A._counterText.text(D);document.title=A.banner.text()}else{A.banner.html(A._expiredText);A.banner.toggleClass("popup-alert-notice").toggleClass("popup-alert-warning");if(A._countdownTimer){clearInterval(A._countdownTimer)}}},C)}},_formatNumber:function(B){var A=this;if(!Liferay.Util.isArray(B)){if(B<=9){B="0"+B}}else{B=jQuery.map(B,A._formatNumber)}return B},_setTime:function(){var A=this;var E=A._currentTime;if(E<=0){}else{var G=0,B=0,D=0,F=0,C="";E=Math.floor(E/1000);B=Math.floor(E/3600);E=E%3600;D=Math.floor(E/60);E=E%60;F=Math.floor(E);return A._formatNumber([B,D,F]).join(":")}},_banner:[],_countdownTimer:null,_currentTime:0,_originalTitle:"",_sessionUrls:{},_sessionWarning:null,_sessionExpired:null,_timeout:0,_timeoutDiff:0,_warning:0};Liferay.TagsSelector=new Class({initialize:function(E){var A=this;A._curTags=[];A.params=E;var C=jQuery("#"+E.hiddenInput);C.attr("name",C.attr("id"));var D=jQuery("#"+E.textInput);D.Autocomplete({source:A._getTags,delay:0,fx:{type:"slide",duration:400},autofill:false,dataSourceType:"json",helperClass:"autocomplete-box",selectClass:"autocomplete-selected",multiple:true,mutipleSeparator:",",minchars:1,onSelect:function(F){if(this.createTextRange){var H=this.value;var G=this.createTextRange();G.moveStart("character",H.length);G.select()}},onShow:function(){jQuery(this).addClass("showing-list")},onHide:function(){jQuery(this).removeClass("showing-list")}});A._popupVisible=false;A._setupSelectTags();var B=jQuery("#"+E.addTagButton);B.click(function(){var G=A._curTags;var F=D.val().split(",");jQuery.each(F,function(H,I){I=jQuery.trim(I);if(G.indexOf(I)==-1){if(I!=""){G.push(I);if(A._popupVisible){jQuery("input[@type=checkbox][@value$="+I+"]",A.selectTagPopup).attr("checked",true)}}}});G=G.sort();D.val("");A._update()});D.keypress(function(F){if((F.keyCode==13)&&!jQuery(this).is(".showing-list")){B.trigger("click");return false}});if(E.focus){D.focus()}if(E.curTags!=""){A._curTags=E.curTags.split(",");A._update()}Liferay.Util.actsAsAspect(window);window.before("submitForm",function(){var F=jQuery.trim(D.val());if(F.length){B.trigger("click")}})},deleteTag:function(E){var A=this;var D=A.params;var B=A._curTags;jQuery("#"+D.instanceVar+"CurTags"+E).remove();var C=B.splice(E,1);if(A._popupVisible){jQuery("input[@type=checkbox][@value$="+C+"]",A.selectTagPopup).attr("checked",false)}A._update()},_getTags:function(B){var C=B.start||0;var A=B.end||20;B.value=B.value||"";return Liferay.Service.Tags.TagsEntry.searchAutocomplete({companyId:themeDisplay.getCompanyId(),name:"%"+B.value+"%",properties:"",begin:C,end:A})},_setupSelectTags:function(){var A=this;var D=A.params;var C=D.instanceVar;var B=jQuery("#"+C+"selectTag");B.click(function(){A._showSelectPopup()})},_showSelectPopup:function(){var B=this;var H=B.params;var F=H.instanceVar;var A=jQuery("<div class=\"lfr-tag-select-container\"></div>");var D=jQuery("<div class=\"lfr-tag-container\"></div>");var E=Liferay.Service.Tags.TagsProperty.getPropertyValues({companyId:themeDisplay.getCompanyId(),key:"category"});jQuery.each(E,function(K,L){var J=Liferay.Service.Tags.TagsEntry.search({companyId:themeDisplay.getCompanyId(),name:"%",properties:"category:"+L.value});var I="";jQuery.each(J,function(N,M){if(N==0){if(K>0){I+="</fieldset>"}I+="<fieldset><legend>"+L.value+"</legend>"}var O=(B._curTags.indexOf(M.name)>-1)?" checked=\"checked\"":"";I+="<label title=\""+M.name+"\"><input"+O+" type=\"checkbox\" name=\""+F+"input"+N+"\" id=\""+F+"input"+N+"\" value=\""+M.name+"\" /><a class=\"lfr-label-text\" href=\"javascript: ;\">"+M.name+"</a></label>"});D.append(I)});var G=jQuery("<input class=\"submit lfr-save-button\" id=\""+F+"saveButton\" type=\"submit\" value=\""+Liferay.Language.get("save")+"\" />");G.click(function(){B._curTags=[];D.find("input:checked").each(function(){B._curTags.push(this.value)});B._update();Liferay.Popup.close(B.selectTagPopup);B._popupVisible=false});A.append(D).append(G);var C=Liferay.Popup({modal:false,height:300,width:400,message:A[0],onClose:function(){B._popupVisible=false}});B.selectTagPopup=C;B._popupVisible=true;if(Liferay.Browser.is_ie){jQuery(".lfr-label-text",C).click(function(){var I=jQuery(this.previousSibling);var J=!I.is(":checked");I.attr("checked",J)})}},_update:function(){var A=this;A._updateHiddenInput();A._updateSummarySpan()},_updateHiddenInput:function(){var A=this;var D=A.params;var B=A._curTags;var C=jQuery("#"+D.hiddenInput);C.val(B.join(","))},_updateSummarySpan:function(){var A=this;var D=A.params;var B=A._curTags;var C="";jQuery(B).each(function(F,G){C+="<span id=\""+D.instanceVar+"CurTags"+F+"\">";C+=G+" ";C+="[<a href=\"javascript: "+D.instanceVar+".deleteTag("+F+");\">x</a>]";if((F+1)<B.length){C+=", "}C+="</span>"});var E=jQuery("#"+D.summarySpan);E.html(C)}});Liferay.Upload=new Class({initialize:function(C){var A=this;C=C||{};A._container=jQuery(C.container);A._fallbackContainer=jQuery(C.fallbackContainer||[]);A._namespaceId=C.namespace||"_liferay_pns_"+Liferay.Util.randomInt()+"_";A._maxFileSize=C.maxFileSize||0;A._allowedFileTypes=C.allowedFileTypes;A._uploadFile=C.uploadFile;A._classicUploaderParam="uploader=classic";A._newUploaderParam="uploader=new";var B=location.href;if(B.indexOf(A._classicUploaderParam)>-1&&A._fallbackContainer.length){A._fallbackContainer.show();if(!A._fallbackIframe){A._fallbackIframe=A._fallbackContainer.find("iframe[@id$=-iframe]");A._fallbackIframe.height(300)}return }A._browseText=Liferay.Language.get("browse-you-can-select-multiple-files");A._cancelUploadsText=Liferay.Language.get("cancel-all-uploads");A._cancelFileText=Liferay.Language.get("cancel-upload");A._clearRecentUploadsText=Liferay.Language.get("clear-recent-uploads");A._fileListPendingText=Liferay.Language.get("x-files-ready-to-be-uploaded","0");A._fileListText=Liferay.Language.get("file-list");A._fileTypesDescriptionText=C.fileDescription||A._allowedFileTypes;A._uploadsCompleteText=Liferay.Language.get("all-uploads-complete");A._uploadStatusText=Liferay.Language.get("uploading-file-x-of-x",["[$POS$]","[$TOTAL$]"]);A._uploadFilesText=Liferay.Language.get("upload-files");if(A._fallbackContainer.length){A._useFallbackText=Liferay.Language.get("use-the-classic-uploader");A._useNewUploaderText=Liferay.Language.get("use-the-new-uploader")}A._setupCallbacks();A._setupUploader()},fileAdded:function(C,F){var H=this;var G=H._fileList;var A=G.find("ul");if(!A.length){H._listInfo.append("<h4>"+H._fileListText+"</h4>");G.append("<ul></ul>");H._uploadTarget.append(H._clearUploadsButton);H._clearUploadsButton.hide();H._cancelButton.click(function(){H.cancelUploads();H._clearUploadsButton.hide()})}H._cancelButton.show();H._uploadButton.show();G=G.find("ul");var B=H._namespace(C.id);var D=C.name;var I=jQuery("<li class=\"upload-file\" id=\""+B+"\"><span class=\"file-title\">"+D+"</span><span class=\"progress-bar\"><span class=\"progress\" id=\""+B+"progress\"></span></span><a class=\"lfr-button cancel-button\" href=\"javascript: ;\" id=\""+B+"cancelButton\">"+H._cancelFileText+"</a></li>");I.find(".cancel-button").click(function(){H._uploader.cancelFile(C.id)});var E=G.find(".upload-complete");E=E.filter(":first");if(E.length){E.before(I)}else{G.append(I)}H._updateList(F)},fileCancelled:function(D,E){var B=this;var C=B._namespace(D.id);var F=D.name;var A=jQuery("#"+C);B._updateList(E);A.fadeOut("slow")},flashLoaded:function(){var A=this;A._setupControls()},uploadStart:function(E,C,G){var B=this;var F=B._uploadStatusText.replace("[$POS$]",C).replace("[$TOTAL$]",G);var D=B._namespace(E.id);B._updateList(G,F);var A=jQuery("#"+D);A.addClass("file-uploading");return true},uploadProgress:function(D,F){var A=this;var B=A._namespace(D.id);var C=document.getElementById(B+"progress");var E=Math.ceil((F/D.size)*100);C.style.width=E+"%"},uploadError:function(A){},fileUploadComplete:function(D){var B=this;var C=B._namespace(D.id);var A=jQuery("#"+C);A.removeClass("file-uploading").addClass("upload-complete")},cancelUploads:function(){var A=this;A._uploader.cancelQueue();A._uploadButton.hide();A._cancelButton.hide()},uploadsComplete:function(B){var A=this;A._cancelButton.hide();A._updateList(0,A._uploadsCompleteText);A._uploadButton.hide();if(A._clearUploadsButton.is(":hidden")){A._clearUploadsButton.show()}},_clearUploads:function(){var A=this;var B=A._fileList.find(".upload-complete");B.fadeOut("slow",function(){jQuery(this).remove()});A._clearUploadsButton.hide()},_namespace:function(B){var A=this;B=B||"";return A._namespaceId+B},_setupCallbacks:function(){var A=this;A._cancelUploads=A._namespace("cancelUploads");A._fileAdded=A._namespace("fileAdded");A._fileCancelled=A._namespace("fileCancelled");A._flashLoaded=A._namespace("flashLoaded");A._uploadStart=A._namespace("uploadStart");A._uploadProgress=A._namespace("uploadProgress");A._uploadError=A._namespace("uploadError");A._fileUploadComplete=A._namespace("fileUploadComplete");A._uploadsComplete=A._namespace("uploadsComplete");A._uploadsCancelled=A._namespace("uploadsCancelled");A._swfUpload=A._namespace("cancelUploads");window[A._cancelUploads]=function(){A.cancelUploads.apply(A,arguments)};window[A._fileAdded]=function(){A.fileAdded.apply(A,arguments)};window[A._fileCancelled]=function(){A.fileCancelled.apply(A,arguments)};window[A._uploadStart]=function(){A.uploadStart.apply(A,arguments)};window[A._uploadProgress]=function(){A.uploadProgress.apply(A,arguments)};window[A._uploadError]=function(){A.uploadError.apply(A,arguments)};window[A._fileUploadComplete]=function(){A.fileUploadComplete.apply(A,arguments)};window[A._uploadsComplete]=function(){A.uploadsComplete.apply(A,arguments)};window[A._flashLoaded]=function(){A.flashLoaded.apply(A,arguments)}},_setupControls:function(){var A=this;A._uploadTargetId=A._namespace("uploadTarget");A._listInfoId=A._namespace("listInfo");A._fileListId=A._namespace("fileList");A._uploadTarget=jQuery("<div id=\""+A._uploadTargetId+"\" class=\"float-container upload-target\"></div>");A._listInfo=jQuery("<div id=\""+A._listInfoId+"\" class=\"upload-list-info\"></div>");A._fileList=jQuery("<div id=\""+A._fileListId+"\" class=\"upload-list\"></div>");A._cancelButton=jQuery("<a class=\"lfr-button cancel-uploads\" href=\"javascript: ;\">"+A._cancelUploadsText+"</a>");A._clearUploadsButton=jQuery("<a class=\"lfr-button clear-uploads\" href=\"javascript: ;\">"+A._clearRecentUploadsText+"</a>");A._browseButton=jQuery("<a class=\"lfr-button browse-button\" href=\"javascript: ;\">"+A._browseText+"</a>");A._uploadButton=jQuery("<a class=\"lfr-button upload-button\" href=\"javascript: ;\">"+A._uploadFilesText+"</a>");A._container.prepend([A._uploadTarget[0],A._listInfo[0],A._fileList[0]]);A._uploadTarget.append([A._browseButton[0],A._uploadButton[0],A._cancelButton[0]]);A._clearUploadsButton.click(function(){A._clearUploads()});A._browseButton.click(function(){A._uploader.browse()});A._uploadButton.click(function(){A._uploader.upload()});A._uploadButton.hide();A._cancelButton.hide();if(A._fallbackContainer.length){A._useFallbackButton=jQuery("<a class=\"use-fallback using-new-uploader\" href=\"javascript: ;\">"+A._useFallbackText+"</a>");A._fallbackContainer.after(A._useFallbackButton);A._useFallbackButton.click(function(){var E=jQuery(this);var C="using-new-uploader";var B="using-classic-uploader";if(E.is("."+C)){A._container.hide();A._fallbackContainer.show();E.text(A._useNewUploaderText);E.removeClass(C).addClass(B);if(!A._fallbackIframe){A._fallbackIframe=A._fallbackContainer.find("iframe[@id$=-iframe]");A._fallbackIframe.height(300)}var D="";if(location.hash.length){D="&"}location.hash+=D+A._classicUploaderParam}else{A._container.show();A._fallbackContainer.hide();E.text(A._useFallbackText);E.removeClass(B).addClass(C);location.hash=location.hash.replace(A._classicUploaderParam,A._newUploaderParam)}})}},_setupUploader:function(){var A=this;if(A._allowedFileTypes.indexOf("*")==-1){var B=A._allowedFileTypes.split(",");B=jQuery.map(B,function(E,D){var C=E;if(E.indexOf("*")==-1){C="*"+E}return C});A._allowedFileTypes=B.join(";")}A._uploader=new SWFUpload({upload_script:A._uploadFile,target:A._uploadTargetId,flash_path:"/html/js/misc/swfupload/SWFUpload.swf",allowed_filesize:A._maxFileSize,allowed_filetypes:A._allowedFileTypes,allowed_filetypes_description:A._fileTypesDescriptionText,browse_link_innerhtml:A._browseText,upload_link_innerhtml:A._uploadFilesText,browse_link_class:"browse-button liferay-button",upload_link_class:"upload-button liferay-button",flash_loaded_callback:A._flashLoaded,upload_file_queued_callback:A._fileAdded,upload_file_start_callback:A._uploadStart,upload_progress_callback:A._uploadProgress,upload_file_complete_callback:A._fileUploadComplete,upload_file_cancel_callback:A._fileCancelled,upload_queue_complete_callback:A._uploadsComplete,upload_error_callback:A._uploadError,upload_cancel_callback:A._cancelUploads,auto_upload:false,upload_field_name:"file",create_ui:true,debug:false});window[A._swfUpload]=A._uploader},_updateList:function(E,C){var A=this;var B=A._listInfo.find("h4");var D="";if(!C){D=A._fileListPendingText;D=D.replace(/\d+/g,E)}else{D=C}B.html(D)}})