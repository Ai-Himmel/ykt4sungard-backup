<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>
	<bean id="monitorTimedeventqueueDAO" class="org.king.support.dao.hibernate.MonitorTimedeventqueueDAOHibernate">
		<property name="baseDAO">
			<ref bean="baseDAO" />
		</property>
	</bean>

    <bean id="monitorRuntimevariablesDAO" class="org.king.support.dao.hibernate.MonitorRuntimevariablesDAOHibernate">
        <property name="baseDAO">
            <ref bean="baseDAO"/>
        </property>
	</bean>

    <bean id="monitorContactDAO" class="org.king.support.dao.hibernate.MonitorContactDAOHibernate">
        <property name="baseDAO">
            <ref bean="baseDAO"/>
        </property>
	</bean>

    <bean id="monitorCommandsDAO" class="org.king.support.dao.hibernate.MonitorCommandsDAOHibernate">
        <property name="baseDAO">
            <ref bean="baseDAO"/>
        </property>
	</bean>

    <bean id="monitorContactgroupsDAO" class="org.king.support.dao.hibernate.MonitorContactgroupsDAOHibernate">
        <property name="baseDAO">
            <ref bean="baseDAO"/>
        </property>
	</bean>
	
	<bean id="monitorNotificationsDAO" class="org.king.support.dao.hibernate.MonitorNotificationsDAOHibernate">
		<property name="baseDAO">
			<ref bean="baseDAO"/>
		</property>
	</bean>
	
	<bean id="monitorSupportService" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager">
			<ref bean="transactionManager"/>
		</property>
		<property name="target">
			<bean class="org.king.support.service.impl.MonitorSupportServiceImpl">
				<property name="monitorTimedeventqueueDAO">
					<ref local="monitorTimedeventqueueDAO"/>
				</property>
				<property name="monitorHostDAO">
					<ref bean="monitorHostDAO"/>
				</property>
				<property name="monitorServiceDAO">
					<ref bean="monitorServiceDAO"/>
				</property>
                <property name="monitorCommandsDAO">
                    <ref local="monitorCommandsDAO"/>
                </property>
                <property name="monitorContactDAO">
                    <ref local="monitorContactDAO"/>
                </property>
                <property name="monitorRuntimevariablesDAO">
                    <ref local="monitorRuntimevariablesDAO"/>
                </property>
                <property name="monitorContactgroupsDAO">
                    <ref local="monitorContactgroupsDAO"/>
                </property>
                <property name="monitorTermdevTemplateDAO">
                	<ref bean="monitorTermdevTemplateDAO"/>
                </property>
                <property name="monitorNotificationsDAO">
                	<ref bean="monitorNotificationsDAO"/>
                </property>
                <property name="monitorHostscheduleddowntimeDAO">
                	<ref bean="monitorHostscheduleddowntimeDAO"/>
                </property>
                <property name="monitorSrvScheduleddowntimeDAO">
                	<ref bean="monitorSrvScheduleddowntimeDAO"/>
                </property>                
                <property name="monitorDevscheduleddowntimeDAO">
                	<ref bean="monitorDevscheduleddowntimeDAO"/>
                </property>
                <property name="monitorTermdevchecksDAO">
                	<ref bean="monitorTermdevchecksDAO"/>
                </property>
                <property name="monitorTermdeviceStatusDAO">
                	<ref bean="monitorTermdeviceStatusDAO"/>
                </property>
			</bean>
		</property>
		<property name="transactionAttributes">
			<props>
				<prop key="init*">PROPAGATION_REQUIRED</prop>
				<prop key="save*">PROPAGATION_REQUIRED</prop>
				<prop key="update*">PROPAGATION_REQUIRED</prop>
				<prop key="delete*">PROPAGATION_REQUIRED</prop>
				<prop key="*">PROPAGATION_REQUIRED,readOnly</prop>
			</props>
		</property>
	</bean>
	
	<bean id="monitorTaskDelegate" class="org.king.task.MonitorTaskDelegate">
		<property name="monitorSupportService">
			<ref local="monitorSupportService"/>
		</property>
		<property name="monitorHostService">
			<ref bean="monitorHostService" />
		</property>
		<property name="monitorHostserviceService">
			<ref bean="monitorHostserviceService"/>
		</property>
		<property name="termdevService">
			<ref bean="termdevService"/>
		</property>
		<property name="templateService">
			<ref bean="templateService"/>
		</property>
	</bean>
	<bean id="monitorInfoJob" class="org.king.monitor.MonitorInfoJob">
		<property name="monitorSupportService">
			<ref bean="monitorSupportService"/>
		</property>
	</bean>
	
</beans>