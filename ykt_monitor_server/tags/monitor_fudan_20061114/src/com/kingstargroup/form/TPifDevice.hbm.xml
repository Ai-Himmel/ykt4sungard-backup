<?xml version="1.0" encoding='UTF-8'?>
<!DOCTYPE hibernate-mapping PUBLIC
                            "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
                            "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" >

<!-- DO NOT EDIT: This is a generated file that is synchronized -->
<!-- by MyEclipse Hibernate tool integration.                   -->
<!-- Created Sun Oct 09 14:45:01 CST 2005                         -->
<hibernate-mapping package="com.kingstargroup.form" schema="ykt_cur">

    <class name="TPifDevice" table="T_PIF_DEVICE">
        <id name="deviceId" column="DEVICE_ID" type="integer">
            <generator class="increment"/>
        </id>
 
        <property name="deviceName" column="DEVICE_NAME" type="string" />
        <property name="dev999Id" column="DEV999_ID" type="string" />
        <property name="devphy999Id" column="DEVPHY999_ID" type="string" />
        <property name="dev999No" column="DEV999_NO" type="integer" />
        <property name="devtype" column="DEVTYPE" type="string" />
        <property name="devversion" column="DEVVERSION" type="string" />
        <property name="cardstr" column="CARDSTR" type="string" />
        <property name="cardtype" column="CARDTYPE" type="string" />
        <property name="portcount" column="PORTCOUNT" type="integer" />
        <property name="fdevphyId" column="FDEVPHY_ID" type="string" />
        <property name="portno" column="PORTNO" type="integer" />
        <property name="stateId" column="STATE_ID" type="integer" />
        <property name="joinmode" column="JOINMODE" type="integer" />
        <property name="comadd" column="COMADD" type="string" />
        <property name="port" column="PORT" type="string" />
        <property name="baudrate" column="BAUDRATE" type="integer" />
        <property name="comtype" column="COMTYPE" type="integer" />
        <property name="bsheetvdate" column="BSHEETVDATE" type="string" />
        <property name="bsheetver" column="BSHEETVER" type="string" />
        <property name="lasttraserno" column="LASTTRASERNO" type="integer" />
        <property name="lasttradate" column="LASTTRADATE" type="string" />
        <property name="lastshutserno" column="LASTSHUTSERNO" type="integer" />
        <property name="lastshutdate" column="LASTSHUTDATE" type="string" />
        <property name="syspwd" column="SYSPWD" type="string" />
        <property name="admpwd" column="ADMPWD" type="string" />
        <property name="pwdonoff" column="PWDONOFF" type="integer" />
        <property name="puserno" column="PUSERNO" type="string" />
        <property name="cardset" column="CARDSET" type="string" />
        <property name="funonoff" column="FUNONOFF" type="string" />
        <property name="cardusenum" column="CARDUSENUM" type="integer" />
        <property name="maxdeposit" column="MAXDEPOSIT" type="integer" />
        <property name="mindeposit" column="MINDEPOSIT" type="integer" />
        <property name="ration" column="RATION" type="integer" />
        <property name="maxtrade" column="MAXTRADE" type="integer" />
        <property name="shuttimes" column="SHUTTIMES" type="string" />
        <property name="card65pwd" column="CARD65PWD" type="string" />
        <property name="authpwd" column="AUTHPWD" type="string" />
        <property name="ftflag" column="FTFLAG" type="integer" />
        <property name="feetype" column="FEETYPE" type="integer" />
        <property name="phytype" column="PHYTYPE" type="integer" />
        <property name="webLevel" column="WEB_LEVEL" type="integer" />
        <property name="subsystemId" column="SUBSYSTEM_ID" type="integer" />
        <property name="area" column="AREA" type="integer" />
        <property name="initKey" column="INIT_KEY" type="string" />
        <property name="manager" column="MANAGER" type="string" />
        <property name="tel" column="TEL" type="string" />
        <property name="address" column="ADDRESS" type="string" />
        <property name="operateTime" column="OPERATE_TIME" type="string" />
        <property name="comments" column="COMMENTS" type="string" />
        <property name="isFeeCode" column="IS_FEE_CODE" type="integer"  not-null="true" />
        <property name="modeCode" column="MODE_CODE" type="integer" />
        <property name="openTime1" column="OPEN_TIME1" type="integer" />
        <property name="openTime2" column="OPEN_TIME2" type="integer" />
        <property name="isAlleyway" column="IS_ALLEYWAY" type="string" />
        <property name="isSaveData" column="IS_SAVE_DATA" type="string" />
        <property name="isLcdDisplay" column="IS_LCD_DISPLAY" type="string" />
    </class>
    
        
    <sql-query name="BsverError"> 
    <return alias="a" class="TPifDevice"/>   
    select {a.*} from YKT_CUR.T_PIF_DEVICE as a, YKT_CUR.T_MIF_DEVMONITOR as b 
	where (not b.bsversion>:blackSheet) and a.device_id=b.device_id 
	and not a.state_id=5 and a.devtype='0226' and not b.bsversion=''
	</sql-query>
	
	<sql-query name="BsverError1"> 
    <return alias="a" class="TPifDevice"/>   
    select {a.*} from YKT_CUR.T_PIF_DEVICE as a
	where (not a.bsheetver>:blackSheet) and not a.state_id=5 
	and (a.devtype='0226' or a.devtype='0201' or a.devtype='0232')
	and not a.bsheetver='' and not a.bsheetver='000000000000'
	</sql-query>
	
	<sql-query name="BsverErrorFor0121"> 
    <return-scalar type="integer" column="deviceId"/>  
	select distinct d.device_id as deviceId 
	from ykt_cur.t_door_device_cardlist c,ykt_cur.v_blklst a,ykt_cur.t_pif_device d
	where c.card_no=a.card_id and c.device_id=d.dev999_id 
	and ((c.status='1' and a.is_ad=0) or ( c.status='0'))
	and not a.volume>:blackSheet and a.volume>d.bsheetver 
	and not d.state_id=5
	and d.devtype='0121' and not d.BSHEETVER>:blackSheet and not d.BSHEETVER='000000000000'
	</sql-query>
	    
    <sql-query name="AbDeviceResult">
		<return alias="dev" class="TPifDevice" />
		select {dev.*} from YKT_CUR.T_PIF_DEVICE dev,YKT_CUR.T_MIF_DEVMONITOR a 
		where a.device_id=dev.device_id and not dev.state_id=5 and not dev.fdevphy_id='FFFFFFFF'
		and not dev.fdevphy_id='' and a.beatstate=1
	</sql-query>
    
</hibernate-mapping>
