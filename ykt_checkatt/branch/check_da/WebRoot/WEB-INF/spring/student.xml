<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>
<bean id="reportService" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager">
			<ref bean="transactionManager" />
		</property>
		<property name="target">
			<bean class="org.king.check.service.impl.CheckReoprtServiceImpl">
				<property name="courseplanDAO">
					<ref local="courseplanDAO" />
				</property>
				<property name="jdbcTemplate">
                    <ref bean="jdbcTemplate" />
                </property>
                <property name="unplanstudentDAO">
                    <ref bean="unplanstudentDAO" />
                </property>
                <property name="checkrecordDAO">
                    <ref bean="checkrecordDAO"/>
                </property>
                <property name="roomElecDAO">
                    <ref bean="roomElecDAO"/>
                </property>
			</bean>
		</property>
		<property name="transactionAttributes">
			<props>
			     <prop key="dealWith*">PROPAGATION_REQUIRED,-Exception</prop>
				<prop key="*">PROPAGATION_REQUIRED</prop>
			</props>
		</property>
</bean>

<bean id="termService" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
		<property name="transactionManager">
			<ref bean="transactionManager" />
		</property>
		<property name="target">
			<bean class="org.king.check.service.impl.TermServiceImpl">
				<property name="termDAO">
					<ref local="termDAO" />
				</property>
			</bean>
		</property>
		<property name="transactionAttributes">
			<props>
			     <prop key="dealWith*">PROPAGATION_REQUIRED,-Exception</prop>
				<prop key="*">PROPAGATION_REQUIRED</prop>
			</props>
		</property>
</bean>

<bean id="roomService" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
        <property name="transactionManager">
            <ref bean="transactionManager" />
        </property>
        <property name="target">
            <bean class="org.king.check.service.impl.RoomServiceImpl">
                <property name="roomDAO">
                    <ref local="roomDAO" />
                </property>
                <property name="areaService">
                    <ref local="areaService" />
                </property>
                <property name="jdbcTemplate">
                    <ref bean="jdbcTemplate" />
                </property>
            </bean>
        </property>
        <property name="transactionAttributes">
            <props>
                <prop key="*">PROPAGATION_REQUIRED,-Exception</prop>
            </props>
        </property>
</bean>

<bean id="courseplanService" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
        <property name="transactionManager">
            <ref bean="transactionManager" />
        </property>
        <property name="target">
            <bean class="org.king.check.service.impl.CourseplanServiceImpl">
                
                <property name="courseplanDAO">
                    <ref local="courseplanDAO" />
                </property>
                
                <property name="roomService">
                    <ref local="roomService" />
                </property>
                
                <property name="customerService">
                    <ref local="customerService" />
                </property>
                
                <property name="courseService">
                    <ref local="courseService" />
                </property>
             
                <property name="termService">
                    <ref local="termService" />
                </property>
                
                <property name="departmentService">
                    <ref bean="departmentService" />
                </property>
                
                 <property name="timeService">
                    <ref local="timeService" />
                </property>
                
                <property name="areaService">
                    <ref local="areaService" />
                </property>
                
                
            </bean>
        </property>
        <property name="transactionAttributes">
            <props>
                <prop key="*">PROPAGATION_REQUIRED,-Exception</prop>
            </props>
        </property>
</bean>


<bean id="areaService" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
        <property name="transactionManager">
            <ref bean="transactionManager" />
        </property>
        <property name="target">
            <bean class="org.king.check.service.impl.AreaServiceImpl">
                
                <property name="areaDAO">
                    <ref local="areaDAO" />
                </property>
            </bean>
        </property>
        <property name="transactionAttributes">
            <props>
                <prop key="*">PROPAGATION_REQUIRED,-Exception</prop>
            </props>
        </property>
</bean>
<bean id="timeService" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
        <property name="transactionManager">
            <ref bean="transactionManager" />
        </property>
        <property name="target">
            <bean class="org.king.check.service.impl.TimeSereviceImpl">
                
                <property name="timeDAO">
                    <ref local="timeDAO" />
                </property>
            </bean>
        </property>
        <property name="transactionAttributes">
            <props>
                <prop key="*">PROPAGATION_REQUIRED,-Exception</prop>
            </props>
        </property>
</bean>

<bean id="customerService" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
        <property name="transactionManager">
            <ref bean="transactionManager" />
        </property>
        <property name="target">
            <bean class="org.king.check.service.impl.CustomerServiceImpl">
                <property name="customerDAO">
                    <ref local="customerDAO" />
                </property>
                
                 <property name="jdbcTemplate">
					<ref bean="jdbcTemplate" />
				</property>
            </bean>
        </property>
        <property name="transactionAttributes">
            <props>
                <prop key="*">PROPAGATION_REQUIRED,-Exception</prop>
            </props>
        </property>
</bean>

<bean id="courseService" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
        <property name="transactionManager">
            <ref bean="transactionManager" />
        </property>
        <property name="target">
            <bean class="org.king.check.service.impl.CourseServiceImpl">
                <property name="courseDAO">
                    <ref local="courseDAO" />
                </property>
                
                 <property name="jdbcTemplate">
					<ref bean="jdbcTemplate" />
				</property>
				
            </bean>
        </property>
        <property name="transactionAttributes">
            <props>
                <prop key="*">PROPAGATION_REQUIRED,-Exception</prop>
            </props>
        </property>
</bean>

<bean id="dwrService" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
        <property name="transactionManager">
            <ref bean="transactionManager" />
        </property>
        <property name="target">
            <bean class="org.king.check.service.impl.DwrServiceImpl">
                <property name="roomDAO">
                    <ref local="roomDAO" />
                </property>
                <property name="departmentService">
                    <ref bean="departmentService"/>
                </property>
            </bean>
        </property>
        <property name="transactionAttributes">
            <props>
                <prop key="*">PROPAGATION_REQUIRED,-Exception</prop>
            </props>
        </property>
</bean>
<bean id="deptService" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
        <property name="transactionManager">
            <ref bean="transactionManager" />
        </property>
        <property name="target">
            <bean class="org.king.check.service.impl.DeptServiceImpl">

                <property name="deptDAO">
                    <ref local="deptDAO" />
                </property>
            </bean>
        </property>
        <property name="transactionAttributes">
            <props>
                <prop key="*">PROPAGATION_REQUIRED,-Exception</prop>
            </props>
        </property>
</bean>
<bean id="teacherClassService" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
        <property name="transactionManager">
            <ref bean="transactionManager" />
        </property>
        <property name="target">
            <bean class="org.king.check.service.impl.TeacherClassServiceImpl">
                <property name="teacherClassTempDAO">
                    <ref local="teacherClassTempDAO" />
                </property>
                <property name="jdbcTemplate">
                    <ref bean="jdbcTemplate" />
                </property>
                <property name="departmentDAO">
                    <ref bean="departmentDAO" />
                </property>
                <property name="teacherClassDAO">
                    <ref bean="teacherClassDAO" />
                </property>
                <property name="customerDAO">
                    <ref bean="customerDAO" />
                </property>
            </bean>
        </property>
        <property name="transactionAttributes">
            <props>
                <prop key="*">PROPAGATION_REQUIRED,-Exception</prop>
            </props>
        </property>
</bean>
<bean id="syncService" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
        <property name="transactionManager">
            <ref bean="transactionManager" />
        </property>
        <property name="target">
            <bean class="org.king.check.service.impl.SyncServiceImpl">
                <property name="courseplanTempDAO">
                    <ref local="courseplanTempDAO" />
                </property>
                <property name="syncLogDAO">
                    <ref bean="syncLogDAO" />
                </property>
                <property name="jdbcTemplate">
                    <ref bean="jdbcTemplate"/>
                </property>
                <property name="courseplanDAO">
                    <ref bean="courseplanDAO"/>
                </property>
                <property name="courseService">
                    <ref bean="courseService" />
                </property>
                <property name="customerService">
                    <ref bean="customerService" />
                </property>
                <property name="departmentService">
                    <ref bean="departmentService"/>
                </property>
                <property name="roomService">
                    <ref bean="roomService"/>
                </property>
                <property name="timeService">
                    <ref bean="timeService"/>
                </property>
            </bean>
        </property>
        <property name="transactionAttributes">
            <props>
                <prop key="*">PROPAGATION_REQUIRED,-Exception</prop>
            </props>
        </property>
</bean>
<bean id="syncUtil" class="org.king.check.util.SyncUtil">
    <property name="syncService">
        <ref bean="syncService"></ref>
    </property>
</bean>

	<!-- ************************** SERVICE SETTING *****************************-->
	<!-- ***** security SERVICE *****-->

	<!-- ************************** DAO SETTING *********************************-->
	<!-- DAO object: Hibernate implementation -->
	
	   <bean id="customerDAO" class="org.king.check.dao.hibernate.CustomerDAOHibernate">
			<property name="baseDAO">
			<ref bean="baseDAO" />
		</property>
		</bean>

		<bean id="termDAO" class="org.king.check.dao.hibernate.TermDAOHibernate">
			<property name="baseDAO">
			<ref bean="baseDAO" />
		</property>
		</bean>
		
		<bean id="roomDAO" class="org.king.check.dao.hibernate.RoomDAOHibernate">
            <property name="baseDAO">
            <ref bean="baseDAO" />
        </property>
        </bean>
        
        <bean id="courseplanDAO" class="org.king.check.dao.hibernate.CourseplanDAOHibernate">
            <property name="baseDAO">
            <ref bean="baseDAO" />
        </property>
        </bean>
        
        <bean id="deptDAO" class="org.king.check.dao.hibernate.DeptDAOHibernate">
           <property name="baseDAO">
            <ref bean="baseDAO" />
           </property>
        </bean>
        
        <bean id="areaDAO" class="org.king.check.dao.hibernate.AreaDAOHibernate">
           <property name="baseDAO">
            <ref bean="baseDAO" />
           </property>
        </bean> 
        <bean id="timeDAO" class="org.king.check.dao.hibernate.TimeDAOHibernate">
           <property name="baseDAO">
            <ref bean="baseDAO" />
           </property>
        </bean> 
        <bean id="courseDAO" class="org.king.check.dao.hibernate.CourseDAOHibernate">
           <property name="baseDAO">
            <ref bean="baseDAO" />
           </property>
        </bean> 
        <bean id="departmentDAO" class="org.king.check.dao.hibernate.DepartmentDAOHibernate">
           <property name="baseDAO">
            <ref bean="baseDAO" />
           </property>
        </bean>

         <bean id="unplanstudentDAO" class="org.king.check.dao.hibernate.UnplanStuDAOHibernate">
           <property name="baseDAO">
            <ref bean="baseDAO" />
           </property>
        </bean>

        <bean id="checkrecordDAO" class="org.king.check.dao.hibernate.CheckrecordDAOHibernate">
            <property name="baseDAO">
            <ref bean="baseDAO" />
           </property>
        </bean>

        <bean id="roomElecDAO" class="org.king.check.dao.hibernate.RoomElecDAOHibernate">
            <property name="baseDAO">
                <ref bean="baseDAO" />
           </property>
        </bean>
        <bean id="teacherClassTempDAO" class="org.king.check.dao.hibernate.TeacherClassTempDAOHibernate">
            <property name="baseDAO">
                <ref bean="baseDAO" />
           </property>
        </bean>
        <bean id="teacherClassDAO" class="org.king.check.dao.hibernate.TeacherClassDAOHibernate">
            <property name="baseDAO">
                <ref bean="baseDAO" />
           </property>
        </bean>
        <bean id="departmentTempDAO" class="org.king.check.dao.hibernate.DepartmentTempDAOHibernate">
            <property name="baseDAO">
                <ref bean="baseDAO" />
           </property>
        </bean>
        <bean id="courseplanTempDAO" class="org.king.check.dao.hibernate.CourseplanTempDAOHibernate">
            <property name="baseDAO">
                <ref bean="baseDAO" />
           </property>
        </bean>
        <bean id="syncLogDAO" class="org.king.check.dao.hibernate.SyncLogDAOHibernate">
            <property name="baseDAO">
                <ref bean="baseDAO" />
           </property>
        </bean>
 </beans>
