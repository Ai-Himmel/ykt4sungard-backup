/*************************************************************************
*	System		: POPLAR/ANZU_L
*	File Name	: LST_TCR.C
*	Author		: åKå¥ î¸ãI
*	Date		: 1997/03/11
*	RealTimeOS	: ÇqÇhÇrÇbÅiÇrÇgÇVÇOÇSÇRÅjÉÇÉjÉ^Å[
*	Description	: ëóêMèÿ
*	Maintenance	:
*
*	Copyright (C) 1996 Murata Machinery,Ltd. All rights reserved.
*************************************************************************/
#include	"\src\atlanta\define\product.h"
#include	"\src\atlanta\define\apl_msg.h"
#include	"\src\atlanta\define\std.h"

#include	"\src\atlanta\define\cmn_def.h"
#include	"\src\atlanta\define\fcm_def.h"
#include	"\src\atlanta\define\lst_def.h"

#include	"\src\atlanta\define\cmn_pro.h"
#include	"\src\atlanta\define\lst_pro.h"
#include	"\src\atlanta\define\mlt_pro.h"	/* í«â¡ By O.Kimoto 1997/06/27 */
#include	"\src\atlanta\define\stng_pro.h"
#include	"\src\atlanta\define\uni_pro.h"	/* Add By M.Kuwahara 97/09/08 */
#include	"\src\atlanta\define\sysprint.h"/* í«â¡	1998/10/28 Y.Matsukuma */

#include	"\src\atlanta\ext_v\bkupram.h"
#include	"\src\atlanta\ext_v\fcm_data.h"
#include	"\src\atlanta\ext_v\lst_data.h"
#include	"\src\atlanta\ext_v\lst_wrd.h"
#include	"\src\atlanta\ext_v\sys_data.h"

#include	"\src\memsw\define\mems_pro.h"

#if (PRO_PANEL == ANK)
#include	"\src\atlanta\opr\ank\define\opr_def.h"
#endif

#if (PRO_PANEL == KANJI)
#include	"\src\atlanta\opr\kanji\define\opr_def.h"
#endif

#if (PRO_OKI == ENABLE)	/* by K.Watanabe 1999/02/09 */
#include	"\src\atlanta\opr\ank\ext_v\opr_wrd0.h"
#endif
/* à⁄êA by SMuratec L.Z.W 2003/07/24 */
#if (PRO_KEYPANEL == PANEL_HINOKI) || (PRO_KEYPANEL == PANEL_SATSUKI2)  || (PRO_KEYPANEL == PANEL_STOCKHM2)	/* íÜçëóXê≠ã«ì¡ROM By O.Kimoto 2001/01/22 */
#include	"\src\atlanta\ext_v\ini_tbl.h"
#endif

#if (PRO_PRINT_TYPE == THERMAL_TRANS)	/* 2003/03/10 H.Yoshikawa */
#include "\src\atlanta\sakaki\define\gaio_pro.h"
#endif

UBYTE		TxConfYearPrint;		/* êºóÔÇSåÖëŒâû bythonda1999/11/16	*/
									/* ICHOUÇ©ÇÁà⁄êAÇµÇƒÇ´Ç‹ÇµÇΩ		*/

/*************************************************************************
	module		:[ëóêMèÿàÛç¸]
	function	:[ëóêMèÿÇàÛç¸Ç∑ÇÈ]
	common		:[
		List				:
		SYB_JournalFile		:
		SYB_TxJournalFile	:
]
	condition	:[]
	commment	:[]
	return		:[àÛç¸åãâ ]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[LST]
	date		:[93/11/25]
	author		:[ëùìcéüòY]
*************************************************************************/
#if ( PRO_TCR_PRINT == ENABLE )	/* MILANÇÕDISABLE */
WORD					Print_TxConf_List(
						 void )				/*Ç»Çµ*/
{
	UBYTE	i;						/*loop*/
	register WORD	ret;					/*é¿çsåãâ */

	for ( i = 0; i < SYS_JOURNAL_MAX; i++ ) {
#if ( PRO_JOURNAL == SEPARATE )
		if ( (SYB_TxJournalFile[i].Option & SYS_TCR_REQUEST) == SYS_TCR_REQUEST ) {
			if ( (ret = Print_TxConf_One_List( i )) != OK ) {/*1ï≈àÛç¸*/
				return ( ret );
			}
			/*SYB_TxJournalFile[i].Option &= !SYS_TCR_REQUEST;*/
			SYB_TxJournalFile[i].Option &= ~SYS_TCR_REQUEST;	/* By M.Tachibana 1997/01/29 */
		}
#else
		if ( (SYB_JournalFile[i].Option & SYS_TCR_REQUEST) == SYS_TCR_REQUEST ) {
			if ( (ret = Print_TxConf_One_List( i )) != OK ) {/*1ï≈àÛç¸*/
				return ( ret );
			}
			/*SYB_JournalFile[i].Option &= !SYS_TCR_REQUEST;*/
			SYB_JournalFile[i].Option &= ~SYS_TCR_REQUEST;	/* By M.Tachibana 19967/01/29 */
		}
#endif
	}
	return ( OK );
}

/*************************************************************************
	module		:[ëóêMèÿÇPï≈àÛç¸]
	function	:[ëóêMèÿÇÃÇPï≈ï™ÇàÛç¸Ç∑ÇÈ]
	common		:[
		List	:
		SYB_TTI_Buffer	:
		SYB_ID_Buffer	:
		SYB_JournalFile	:
	]
	condition	:[]
	commment	:[]
	return		:[àÛç¸åãâ ]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[LST]
	date		:[93/11/25]
	author		:[ëùìcéüòY]
*************************************************************************/
WORD					Print_TxConf_One_List(
						 UBYTE TxJnNb )		/*ëóêMÉtÉ@ÉCÉãî‘çÜ*/
{
	register WORD	ret;					/*é¿çsåãâ */
	
	if ( (ret = CharacterPrint( LST_OPEN )) != OK ) {
		return ( ret );
	}

	/*ÇPâ¸çsÅ{î≠êMå≥ñºÅAî‘çÜàÛç¸Å{ÇQâ¸çs*/
	if ( (ret = TTI_ID_Print_Feed()) != OK ) {
		return ( ret );
	}

	/*ÅñÅñÅ@É\ÉEÉVÉìÉVÉáÉEÅ@ÅñÅñ*/
	Prn_Att_Str_Clear( List.S.Print, List.S.Attribute );
#if ( PRO_PANEL == KANJI ) || ( PRO_JIS_CODE == ENABLE )
		AttributeSet( &List.S.Print[15-1], &List.S.Attribute[15-1],
		  PWRD_TransConfReport_K, LST_NOT );
#else
	AttributeSet( &List.S.Print[15-1], &List.S.Attribute[15-1],
	  PWRD_TransConfReport, LST_XXX_TWI_XXX );
#endif
	if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
		return ( ret );
	}

	/*ÇPçsàÛéöÅiâ¸çsÅj*/
	if ( (ret = CharacterPrint( LST_LINE_FEED )) != OK ) {
		return ( ret );
	}

	/*åªç›éûä‘*/
	if ( (ret = CurrentTimePrint( 47-1 )) != OK ) {
		return ( ret );
	}

	/*ÜÆÜ¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü≤*/
	Print_Conf_List_Line( 0, List.S.Print, List.S.Attribute );
	if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
		return ( ret );
	}

	/*Ü§ î≠êMå≥ñº ---> î≠êMêÊñºÜ§*/
	Print_Conf_List_Line( 1, List.S.Print, List.S.Attribute );

/* ÇoÇnÇoÇkÇ`ÇqÅQÇg ïWèÄÇQâÒê¸é˚óeëŒâûÇÃà◊ By O.Kimoto 1997/11/01 */
#if (PRO_LINENUMBER == TWICE_LINE)
	if ( SYB_TTI_Buffer[0][0] != NULL ) {
		CMN_StringCopy( &List.S.Print[16-1], &SYB_TTI_Buffer[0][0]);
	}
#else
	if ( SYB_TTI_Buffer[0] != NULL ) {
		CMN_StringCopy( &List.S.Print[16-1], SYB_TTI_Buffer);
	}
#endif

	else {

/* ÇoÇnÇoÇkÇ`ÇqÅQÇg ïWèÄÇQâÒê¸é˚óeëŒâûÇÃà◊ By O.Kimoto 1997/11/01 */
#if (PRO_LINENUMBER == TWICE_LINE)
		CMN_StringCopy( &List.S.Print[16-1], &SYB_ID_Buffer[0][0]);
#else
		CMN_StringCopy( &List.S.Print[16-1], SYB_ID_Buffer);
#endif

	}
	AttributeSet( &List.S.Print[38-1], &List.S.Attribute[38-1], PWRD_FromTo,
	  LST_NOT );
	  
#if ( PRO_JOURNAL == SEPARATE )
	CMN_StringCopy( &List.S.Print[44-1], SYB_TxJournalFile[TxJnNb].RemoteID_TTI );
#else
	CMN_StringCopy( &List.S.Print[44-1], SYB_JournalFile[TxJnNb].RemoteID_TTI );
#endif
	if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
		return ( ret );
	}

	/*ÜæÜ¢Ü¢Ü¢Ü¢Ü¢Ü¢ÜŒÜ¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü∆*/
	Print_Conf_List_Line( 2, List.S.Print, List.S.Attribute );
	if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
		return ( ret );
	}

	/*Ü§ ¬≥º› ﬁ›∫ﬁ≥Å@Ü§999		   Ü§*/
	Print_Conf_List_Line( 3, List.S.Print, List.S.Attribute );
	AttributeSet( &List.S.Print[16-1], &List.S.Attribute[16-1], PWRD_CommNo,
	  LST_NOT );
#if ( PRO_JOURNAL == SEPARATE )
	CMN_UnsignedIntToASC( &List.S.Print[36-1],
	  (UWORD)SYB_TxJournalFile[TxJnNb].Number, 3, '0' );
#else
	CMN_UnsignedIntToASC( &List.S.Print[36-1],
	  (UWORD)SYB_JournalFile[TxJnNb].Number, 3, '0' );
#endif
	if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
		return ( ret );
	}

	/*ÜæÜ¢Ü¢Ü¢Ü¢Ü¢Ü¢ÜﬁÜ¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü∆*/
	Print_Conf_List_Line( 4, List.S.Print, List.S.Attribute );
	if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
		return ( ret );
	}

	/*Ü§ ¬≥º›”∞ƒﬁÅ@Ü§XXXXXXXX	  Ü§*/
	Print_Conf_List_Line( 3, List.S.Print, List.S.Attribute );
	AttributeSet( &List.S.Print[16-1], &List.S.Attribute[16-1], PWRD_CommMode,
	  LST_NOT );
#if ( PRO_JOURNAL == SEPARATE )
	CommunicationModeName( SYB_TxJournalFile[TxJnNb].Mode, &List.S.Print[36-1],
	  &List.S.Attribute[36-1] );
#else
	CommunicationModeName( SYB_JournalFile[TxJnNb].Mode, &List.S.Print[36-1],
	  &List.S.Attribute[36-1] );
#endif
	if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
		return ( ret );
	}

	if ( CHK_TCR_TimePrint() != 0 ) {
		/*ÜæÜ¢Ü¢Ü¢Ü¢Ü¢Ü¢ÜﬁÜ¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü∆*/
		Print_Conf_List_Line( 4, List.S.Print, List.S.Attribute );
		if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
			return ( ret );
		}

		/*Ü§ ¬≥º›ºﬁ∂›Å@Ü§Z9'99"    Ü§*/
		Print_Conf_List_Line( 3, List.S.Print, List.S.Attribute );
		AttributeSet( &List.S.Print[16-1], &List.S.Attribute[16-1],
		  PWRD_CommStartTime, LST_NOT );
#if ( PRO_JOURNAL == SEPARATE )
		SecondToMinuteSecondAsc( SYB_TxJournalFile[TxJnNb].TotalTime,
		  List.S.Work, 0 );
#else
		SecondToMinuteSecondAsc( SYB_JournalFile[TxJnNb].TotalTime,
		  List.S.Work, 0 );
#endif
		CMN_StringCopy( &List.S.Print[36-1], List.S.Work );
		if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
			return ( ret );
		}
	}

	/*ÜæÜ¢Ü¢Ü¢Ü¢Ü¢Ü¢ÜﬁÜ¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü∆*/
	Print_Conf_List_Line( 4, List.S.Print, List.S.Attribute );
	if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
		return ( ret );
	}

	/*Ü§ ¬≥º›œ≤Ω≥Å@Ü§zz9Õﬂ∞ºﬁ	 Ü§*/
	Print_Conf_List_Line( 3, List.S.Print, List.S.Attribute );
	AttributeSet( &List.S.Print[16-1], &List.S.Attribute[16-1], PWRD_CommPages,
	  LST_NOT );
#if ( PRO_JOURNAL == SEPARATE )
	CMN_UnsignedIntToASC_NULL( List.S.Work,
	  (UWORD)SYB_TxJournalFile[TxJnNb].Page, 0 , 0 );
#else
	CMN_UnsignedIntToASC_NULL( List.S.Work,
	  (UWORD)SYB_JournalFile[TxJnNb].Page, 0 , 0 );
#endif
	CMN_StringCopy( &List.S.Print[36-1], List.S.Work );
	AttributeSet( &List.S.Print[36-1+CMN_StringLength(List.S.Work)+1],
	  &List.S.Attribute[36-1+CMN_StringLength(List.S.Work)+1], PWRD_Pages,
	  LST_NOT );
	if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
		return ( ret );
	}

	/*ÜæÜ¢Ü¢Ü¢Ü¢Ü¢Ü¢ÜﬁÜ¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü∆*/
	Print_Conf_List_Line( 4, List.S.Print, List.S.Attribute );
	if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
		return ( ret );
	}

	/*Ü§ ¬≥º›πØ∂Å@Ü§XXXXXXXX	 Ü§*/
	Print_Conf_List_Line( 3, List.S.Print, List.S.Attribute );
	AttributeSet( &List.S.Print[16-1], &List.S.Attribute[16-1], PWRD_CommResult,
	  LST_NOT );
#if ( PRO_JOURNAL == SEPARATE )
	CommunicationResultName( SYB_TxJournalFile[TxJnNb].Result, LST_NAME_SHORT,
	  LST_RESULT_TX_CONF, &List.S.Print[36-1], &List.S.Attribute[36-1] );
#else
	CommunicationResultName( SYB_JournalFile[TxJnNb].Result, LST_NAME_SHORT,
	  LST_RESULT_TX_CONF, &List.S.Print[36-1], &List.S.Attribute[36-1] );
#endif
	if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
		return ( ret );
	}

	/*Ü∂Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü÷Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü∫*/
	Print_Conf_List_Line( 5, List.S.Print, List.S.Attribute );
	if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
		return ( ret );
	}
	if ( CHK_TCR_TimePrint() != 0 ) {
		/*ÇQçsàÛéöÅiâ¸çsÅj*/
		if ( (ret = CharacterPrint( LST_LINE_FEED +2 )) != OK ) {
			return ( ret );
		}
	}
	else {
		/*ÇSçsàÛéöÅiâ¸çsÅj*/
		if ( (ret = CharacterPrint( LST_LINE_FEED +4 )) != OK ) {
			return ( ret );
		}
	}
	if ( (ret = CharacterPrint( LST_CLOSE )) != OK ) {
		return ( ret );
	}
	return ( OK );
}
#endif

/*************************************************************************
	module		:[ëóêMèÿàÛç¸]
	function	:[å¥çeïtÇ´ëóêMèÿÅAñîÇÕå¥çeñ≥ÇµëóêMèÿÇàÛç¸Ç∑ÇÈ]
	common		:[]
	condition	:[]
	commment	:[éËìÆëóêMëóêMèÿÇÕÇ±Ç±Ç≈àÛéöÇµÇ»Ç¢]
	return		:[àÛç¸åãâ ]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[LST]
	date		:[Apr.17,1996]
	author		:[ïΩîˆ âpìT]
*************************************************************************/
WORD		 		Print_TxConf(
							UBYTE prn_mode )		/** àÛç¸”∞ƒﬁ */
														/* LST_ERR_CLOSE_NOT ¥◊∞closeÇµÇ»Ç¢ */
														/* LST_ERR_CLOSE		¥◊∞closeÇ∑ÇÈ */
{
	UBYTE 	page;				/** Õﬂ∞ºﬁ */
#if (PRO_NEW_TX_CONF == ENABLE) /* 2000/2/4 K.Kawata  */
	UBYTE	line_feed_flag;	/* â¸çsÇ∑ÇÈ */
	UBYTE	title_flag;	/* É^ÉCÉgÉãÇèëÇ≠ */
	UBYTE	error_flag;	/* êVçƒëóÉÅÉbÉZÅ[ÉWÇÃâ∫ê¸ÇèëÇ≠ */
	UBYTE	line_number;
#endif
	UBYTE 	line_cnt;				/** écÇËàÛç¸â¬î\çsêî */
	UBYTE 	exec_cnt;			/** ExecQueue∂≥›ƒ */
	UBYTE	flag;
	register WORD	ret;					/** é¿çsåãâ  */

#if (PRO_JOURNAL_PRINT_TIME == DISABLE)	/* ì˙óßì¡ãñâÒî 1998/10/28 Y.Matsukuma */
	UDWORD	time;
#endif

	/* à»â∫ÇWçsí«â¡ By O.Kimoto 1997/06/27 */
	UBYTE	line_max;

	TxConfYearPrint = CHK_JournalYearPrint();	/* êºóÔÇSåÖëŒâû bythonda1999/11/16	*/
												/* ICHOUÇ©ÇÁà⁄êAÇµÇƒÇ´Ç‹ÇµÇΩ		*/

#if (PRO_LINENUMBER == TWICE_LINE)	/* ã^éóÇQâÒê¸édól by T.Soneoka 1997/03/11 */
 #if (PRO_NEW_TX_CONF == ENABLE) /* 2000/2/4 K.Kawata */
	line_max = 5;
 #else
	line_max = 7;	/* ìÒâÒê¸à»è„ÇÃéûÇÕÅAÉâÉCÉìî‘çÜàÛéöÇÃÇΩÇﬂÇPÇ”Ç¶ÇÈ */
 #endif
#else
 #if (PRO_NEW_TX_CONF == ENABLE) /* 2000/2/4 K.Kawata */
	line_max = 5;
 #else
	if (OPT_CountModems() < 2) {
		line_max = 6;	/* àÍâÒê¸ÇÃéûÇÕÅAÉâÉCÉìî‘çÜÇàÛéöÇµÇ»Ç¢ÇΩÇﬂ */
	}
	else {
		line_max = 7;	/* ìÒâÒê¸à»è„ÇÃéûÇÕÅAÉâÉCÉìî‘çÜàÛéöÇÃÇΩÇﬂÇPÇ”Ç¶ÇÈ */
	}
 #endif
#endif
	page = 1;
#if (PRO_NEW_TX_CONF == ENABLE) /* 2000/2/4 K.Kawata */
	line_feed_flag = 0;
	title_flag = 1;
	line_number = 0;
#endif
	exec_cnt = 0;
	flag = 1;

#if (PRO_JOURNAL_PRINT_TIME == DISABLE)	/* ì˙óßì¡ãñâÒî 1998/10/28 Y.Matsukuma */
	time = TranceTime();
#endif

	while ( exec_cnt != SYS_EXEC_QUEUE_MAX ) {
		if ( (prn_mode == LST_ERR_CLOSE) || ((prn_mode == LST_ERR_CLOSE_NOT) && (page != 1)) ) {
			if ( (ret = CharacterPrint( LST_OPEN )) != OK ) {
				return ( ret );
			}
		}

		LST_CharacterLine = 0;	/**	ÉLÉÉÉâÉNÉ^àÛéöïîÇÃÉâÉCÉìêîÇÃÉNÉäÉA	*/

		if ( page == 1 ) {
#if (PRO_JOURNAL_PRINT_TIME == DISABLE)	/* ì˙óßì¡ãñâÒî 1998/10/28 Y.Matsukuma */
			if ( (ret = Print_TxConf_Head( prn_mode, time )) != OK ) {		/** ÕØ¿ﬁàÛç¸ */
#else
			if ( (ret = Print_TxConf_Head( prn_mode )) != OK ) {		/** ÕØ¿ﬁàÛç¸ */
#endif
				return ( ret );
			}
			line_cnt = (UBYTE)(PaperSizeLen() - 7);	/** àÛç¸â¬î\çsêîæØƒ */
		} else {
			line_cnt = (UBYTE)(PaperSizeLen() - 2);	/** àÛç¸â¬î\çsêîæØƒ */
			if ( (ret = CharacterPrint( (UBYTE)(LST_LINE_FEED+prn_mode) )) != OK ) {
					return ( ret );
			}
			Prn_Att_Str_Clear( List.S.Print, List.S.Attribute );
			List.S.Print[1] = 'P';	/** ÉyÅ[ÉWÇàÛéö */
			List.S.Print[2] = '.';
			CMN_UnsignedIntToASC( &List.S.Print[3], (UWORD)page, 0, 0 );
			if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
				return ( ret );
			}
		}

		while ( 1 ) {
			ExecQueueNextSearch( &exec_cnt );					/** éü√ﬁ∞¿ª∞¡ */

#if (PRO_NEW_TX_CONF == ENABLE) /* 2000/2/4 K.Kawata */
			if (OPT_CountModems() >= 2) {
				if (exec_cnt == SYS_EXEC_QUEUE_MAX) {
					if (line_number != OPT_CountModems()+1) {
						line_number++;
						if (title_flag == 0) {
							line_feed_flag = 1;
							title_flag = 1;
						}
						exec_cnt = 0;
						continue;
					}
				}
				else {
					if ((SYB_ExecQueue[exec_cnt].StackNumber == 0xFF && line_number == OPT_CountModems()+1)
					 || (SYB_ExecQueue[exec_cnt].StackNumber != 0xFF && line_number == OPT_GetMultiLinrNumber(SYB_ExecQueue[exec_cnt].StackNumber))) {
						if (line_feed_flag == 1) {
							line_feed_flag = 0;
							if (line_cnt < 10) {
								break;
							}
							else {
								/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
								if (error_flag == 1) {
									Print_TxConf_Line(8, List.S.Print, List.S.Attribute);
									if ((ret = CharacterPrint((UBYTE)(LST_PRINT+prn_mode))) != OK) {
										return (ret);
									}
								}
								else {
									Print_TxConf_Line(4, List.S.Print, List.S.Attribute);
									if ((ret = CharacterPrint((UBYTE)(LST_PRINT+prn_mode))) != OK) {
										return (ret);
									}
								}

								/**çsàÛéöÅiâ¸çsÅj*/
								if ((ret = CharacterPrint((UBYTE)(LST_LINE_FEED+prn_mode))) != OK) {
									return (ret);
								}
								line_cnt -= 2;
							}
						}
					}
					else {
						exec_cnt++;
						continue;
					}
				}
			}
#endif

#if (0)
** /* ëóêMèÿÇ∆É`ÉFÉbÉNÉÅÉbÉZÅ[ÉWÇÕíËå^í∑Ç≈ÉJÉbÉgÇ∑ÇÈÇÊÇ§Ç…ïœçX By O.Kimoto 1999/02/22 */
** #if (PRO_PAPER_TYPE== ROLL_PAPER)
** /* ÇrÇ`ÇjÇ`ÇjÇhÅ^ÇgÇhÇmÇnÇjÇhÇÕãLò^éÜÇ™ÉçÅ[ÉãéÜÇ»ÇÃÇ≈ÅAëóêMèÿÇÕä™Ç´ï®Ç∆ÇµÇ‹Ç∑ÅB
** ** by O.Kimoto 1999/01/26
** */
** 			if ( exec_cnt == SYS_EXEC_QUEUE_MAX) [	/** éü√ﬁ∞¿ñ≥Çµ */
** #else
** 			if ( (exec_cnt == SYS_EXEC_QUEUE_MAX) || (line_cnt < line_max ) ) [	/** éü√ﬁ∞¿ñ≥Çµ or àÛç¸â¬î\çsêîÇ™6çsà»â∫ *//* Change 6 to line_max By O.Kimoto 1997/06/27 */
** #endif
#else
			if ( (exec_cnt == SYS_EXEC_QUEUE_MAX) || (line_cnt < line_max ) ) {	/** éü√ﬁ∞¿ñ≥Çµ or àÛç¸â¬î\çsêîÇ™6çsà»â∫ *//* Change 6 to line_max By O.Kimoto 1997/06/27 */
#endif

				if ( flag == 1 ) {
					flag = 0;
#if (PRO_NEW_TX_CONF == ENABLE) /* 2000/2/4 K.Kawata */
					if (Print_TTI_InsteadOfLineNumber(exec_cnt, 0) == TRUE) { /* ÇQâÒê¸ÅFÉâÉCÉìî‘çÜ */
						if ((ret = CharacterPrint((UBYTE)(LST_PRINT+prn_mode))) != OK) {
		  					return (ret);
						}
						line_cnt -= 1;
					}
					/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
					Print_TxConf_Line(0, List.S.Print, List.S.Attribute);
					if ((ret = CharacterPrint((UBYTE)(LST_PRINT+prn_mode))) != OK) {
						return (ret);
					}
					/**ÅETelephone NumberÅEModeÅEStartÅETimeÅEPageÅEResultÅENoteÅE*/
					Print_TxConf_Line(1, List.S.Print, List.S.Attribute);
					if ((ret = CharacterPrint((UBYTE)(LST_PRINT+prn_mode))) != OK) {
						return (ret);
					}
					/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
					Print_TxConf_Line(2, List.S.Print, List.S.Attribute);
					if ((ret = CharacterPrint((UBYTE)(LST_PRINT+prn_mode))) != OK) {
						return (ret);
					}
					if ((ret = Print_TxConf_Detail(exec_cnt, prn_mode)) != OK) {	/**1ñæç◊àÛç¸ */
						return (ret);
					}
					/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
					Print_TxConf_Line(5, List.S.Print, List.S.Attribute);
					if ((ret = CharacterPrint((UBYTE)(LST_PRINT+prn_mode))) != OK) {
						return (ret);
					}
					/* êVçƒëóÉÅÉbÉZÅ[ÉW */
					NewSendDocumentMessage(exec_cnt);
					if ((ret = CharacterPrint((UBYTE)(LST_PRINT+prn_mode))) != OK) {
						return (ret);
					}
					line_cnt -= 6;
					error_flag = 1;
#else
 #if defined(EUR)	/* DTSëŒçÙ[Bb5.1.1-4] Journal(TCR)ÇÃãLèqï˚ñ@ S.Fukui Nov.5,1999 */
					/* kakiÇ©ÇÁà⁄êA by M.Harada 1999/11/17 */
					if (Print_TTI_InsteadOfLineNumber(exec_cnt, 0) == TRUE) { /* ÇQâÒê¸ÅFÉâÉCÉìî‘çÜ */
						if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
		  					return ( ret );
						}
						line_cnt -= 1;
					}
 #else	/* è]óàèàóù */
					/* à»â∫ÇUçsí«â¡ By O.Kimoto 1997/06/27 */
					if (Print_LineNumber(exec_cnt, 0) == TRUE) { /* ÇQâÒê¸ÅFÉâÉCÉìî‘çÜí«â¡ 1996/12/06 Y.Matsukuma */
						if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
		  					return ( ret );
						}
						line_cnt -= 1;
					}
 #endif
					/**	ÉXÉLÉÉÉiëóêMéûÇ…å¥çeÇà¯Ç´î≤Ç≠Ç∆TCRÇ™àÛéöÇ≥ÇÍÇ»Ç¢éûÇ™Ç†ÇÈÇÃÇ≈
					*	SYB_ExecQueue[SYS_EXEC_QUEUE_MAX]ÇàÛéöÇ∑ÇÈ
					*/
					/*ÜÆÜ¢ÜŒÜ¢Ü¢Ü¢Ü¢ÜŒÜ¢Ü¢Ü¢Ü¢Ü¢Ü≤*/
					Print_CommErr_ChkMsg_Line( 0, List.S.Print, List.S.Attribute );
					if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
						return ( ret );
					}
					/*Ü§ XXXXXÜ§XXXXXXXXXÜ§XXXXXXXXXXXÜ§*/
					if ( (ret = Print_CommErr_ChkMsg_Specifi( SYS_EXEC_QUEUE_MAX, prn_mode, LST_PRINT_TCR ))
					  != OK ) {		/* ëóêMèÿÇnÇméûÇÃà¯êîí«â¡	1998/10/26 Y.Matsukuma */
						return ( ret );
					}
					/*Ü∂Ü¢Ü÷Ü¢Ü¢Ü¢Ü÷Ü¢Ü¢Ü¢Ü¢Ü¢Ü∫*/
					Print_CommErr_ChkMsg_Line( 3, List.S.Print, List.S.Attribute );						/*94/09/09*/
					if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {			/*94/09/09*/
						return ( ret );
					}
					line_cnt -= 3;
#endif
				}
				break;
			}
			flag = 0;

/*			if ( line_cnt < 6 ) {	*//* ïœçX 1997/09/05 Y.Matsukuma */

#if (0)
** /* ëóêMèÿÇ∆É`ÉFÉbÉNÉÅÉbÉZÅ[ÉWÇÕíËå^í∑Ç≈ÉJÉbÉgÇ∑ÇÈÇÊÇ§Ç…ïœçX By O.Kimoto 1999/02/22 */
** #if (PRO_PAPER_TYPE== CUT_PAPER)
** 			/* ÇrÇ`ÇjÇ`ÇjÇhÅ^ÇgÇhÇmÇnÇjÇhÇÕãLò^éÜÇ™ÉçÅ[ÉãéÜÇ»ÇÃÇ≈ÅAëóêMèÿÇÕä™Ç´ï®Ç∆ÇµÇ‹Ç∑ÅB
** 			** by O.Kimoto 1999/01/26
** 			*/
** 			if ( line_cnt < line_max ) {
** 				break;
** 			}
** #endif
#else
			if ( line_cnt < line_max ) {
				break;
			}
#endif

			/**	TCR ONÇÃéûÅAñîÇÕÅARCR ONÇ≈ëäéËã@Ç…RCRÇÃî\óÕÇ™ñ≥Ç¢èÍçá Ç∆àÍäáëóêMÇÃèÍçá	*/
/*			if ( ((SYB_CommandFile[SYB_ExecQueue[exec_cnt].Number.Command].Option.ConfirmationReport == TCR_REQUEST)	*/
			if ( (((SYB_CommandFile[SYB_ExecQueue[exec_cnt].Number.Command].Option.ConfirmationReport & SYS_RCR_REQUESTED) == SYS_TCR_REQUESTED)
			  || (((SYB_CommandFile[SYB_ExecQueue[exec_cnt].Number.Command].Option.ConfirmationReport & SYS_TCR_AND_RCR) == SYS_TCR_AND_RCR)
			  && ((SYB_ExecQueue[exec_cnt].Option & SYS_PARTNER_NOT_RCR) == SYS_PARTNER_NOT_RCR)))
			  || (SYB_ExecQueue[exec_cnt].Kind == SYS_BATCH_TX) ) {
#if (PRO_NEW_TX_CONF == ENABLE) /* 2000/2/4 K.Kawata */
				if (title_flag == 1) {
					title_flag = 0;
					if (Print_TTI_InsteadOfLineNumber(exec_cnt, 0) == TRUE) {
						if ((ret = CharacterPrint((UBYTE)(LST_PRINT+prn_mode))) != OK) {
		  					return (ret);
						}
						line_cnt -= 1;
					}
					/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
					Print_TxConf_Line(0, List.S.Print, List.S.Attribute);
					if ((ret = CharacterPrint((UBYTE)(LST_PRINT+prn_mode))) != OK) {
						return (ret);
					}
					/**ÅETelephone NumberÅEModeÅEStartÅETimeÅEPageÅEResultÅENoteÅE*/
					Print_TxConf_Line(1, List.S.Print, List.S.Attribute);
					if ((ret = CharacterPrint((UBYTE)(LST_PRINT+prn_mode))) != OK) {
						return (ret);
					}
					line_cnt -= 2;
					error_flag = 0;
				}
				/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
				if (error_flag == 1) {
					Print_TxConf_Line(7, List.S.Print, List.S.Attribute);
					if ((ret = CharacterPrint((UBYTE)(LST_PRINT+prn_mode))) != OK) {
						return (ret);
					}
				}
				else {
					Print_TxConf_Line(2, List.S.Print, List.S.Attribute);
					if ((ret = CharacterPrint((UBYTE)(LST_PRINT+prn_mode))) != OK) {
						return (ret);
					}
				}
				if ((ret = Print_TxConf_Detail(exec_cnt, prn_mode)) != OK) {	/**1ñæç◊àÛç¸ */
					return (ret);
				}
				line_cnt -= 2;
#endif
				if ( (SYB_ExecQueue[exec_cnt].Status == SYS_EXEC_OK)
				  && ((SYB_ExecQueue[exec_cnt].Result & 0x0C00) == NO_ERROR) ) {	/**ê≥èÌèIóπÇÃèÍçá */
#if (PRO_NEW_TX_CONF == ENABLE) /* 2000/2/4 K.Kawata */
					error_flag = 0;
#else
					if ( (ret = Print_TxConf_Detail( exec_cnt, prn_mode )) != OK ) {	/**1ñæç◊àÛç¸ */
						return (ret );
					}
 #if (PRO_LINENUMBER == TWICE_LINE)	/* ã^éóÇQâÒê¸édól by T.Soneoka 1997/03/11 */
					line_cnt -= 6;	/**6çségóp */
 #else
					/* à»â∫ÇUçsí«â¡ By O.Kimoto 1997/06/27 */
					if (OPT_CountModems() < 2) {
						line_cnt -= 5;	/**5çségóp */;
					}
					else {
						line_cnt -= 6;	/**6çségóp */
					}
 #endif
#endif
				} else {												/**åêM¥◊∞ÇÃèÍçá */
#if (PRO_NEW_TX_CONF == ENABLE) /* 2000/2/4 K.Kawata */
					/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
					Print_TxConf_Line(5, List.S.Print, List.S.Attribute);
					if ((ret = CharacterPrint((UBYTE)(LST_PRINT+prn_mode))) != OK) {
						return (ret);
					}

					/* êVçƒëóÉÅÉbÉZÅ[ÉW */
					NewSendDocumentMessage(exec_cnt);
					if ((ret = CharacterPrint((UBYTE)(LST_PRINT+prn_mode))) != OK) {
						return (ret);
					}
					line_cnt -= 2;	/**2çségóp */
					error_flag = 1;
#else
 #if defined(EUR)	/* DTSëŒçÙ[Bb5.1.1-4] Journal(TCR)ÇÃãLèqï˚ñ@ S.Fukui Nov.5,1999 */
					/* kakiÇ©ÇÁà⁄êA by M.Harada 1999/11/17 */
					if (Print_TTI_InsteadOfLineNumber(exec_cnt, 0) == TRUE) {
						if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
		  					return ( ret );
						}
						line_cnt -= 1;
					}
 #else	/* è]óàèàóù */
					/* à»â∫ÇUçsí«â¡ By O.Kimoto 1997/06/27 */
					if (Print_LineNumber(exec_cnt, 0) == TRUE) {
						if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
		  					return ( ret );
						}
						line_cnt -= 1;
					}
 #endif
					/**ÜÆÜ¢ÜŒÜ¢Ü¢Ü¢Ü¢ÜŒÜ¢Ü¢Ü¢Ü¢Ü¢Ü≤*/
					Print_CommErr_ChkMsg_Line( 0, List.S.Print, List.S.Attribute );
					if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
					return ( ret );
					}

					/**Ü§ XXXXXÜ§XXXXXXXXXÜ§XXXXXXXXXXXÜ§*/
					/* ëóêMèÿÇnÇméûÇÃà¯êîí«â¡	1998/10/27 Y.Matsukuma */
					if ( (ret = Print_CommErr_ChkMsg_Specifi( exec_cnt, prn_mode, LST_PRINT_TCR )) != OK ) {
						return ( ret );
					}

					/**Ü∂Ü¢Ü÷Ü¢Ü¢Ü¢Ü÷Ü¢Ü¢Ü¢Ü¢Ü¢Ü∫*/
					Print_CommErr_ChkMsg_Line( 3, List.S.Print, List.S.Attribute );
					if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
						return ( ret );
					}
					line_cnt -= 3;	/**3çségóp */
#endif
				}
#if (PRO_NEW_TX_CONF == DISABLE) /* 2000/2/4 K.Kawata */
				/*
				** ëóêMèÿïsãÔçá
				** è„ãLÅAifï∂Ç…ì¸ÇÁÇ»Ç¢Ç∆Ç´ÅAàÛéöÇ‡ÇµÇƒÇ¢Ç»Ç¢ÇÃÇ…â¸çsÇæÇØì¸Ç¡ÇƒÇµÇ‹Ç§ïsãÔçá
				** ifï∂ÇÃíÜÇ…à⁄ìÆÇµÇƒÇ´Ç‹ÇµÇΩ
				** 1999/03/05 by T.Soneoka
				*/
				/**çsàÛéöÅiâ¸çsÅj*/
				if ( (ret = CharacterPrint( (UBYTE)(LST_LINE_FEED+prn_mode) )) != OK ) {
					return ( ret );
				}
				line_cnt--;
#endif
			}
/*
** ëóêMèÿïsãÔçá
** è„ãLÅAifï∂Ç…ì¸ÇÁÇ»Ç¢Ç∆Ç´ÅAàÛéöÇ‡ÇµÇƒÇ¢Ç»Ç¢ÇÃÇ…â¸çsÇæÇØì¸Ç¡ÇƒÇµÇ‹Ç§ïsãÔçá
** ifï∂ÇÃíÜÇ…à⁄ìÆÇµÇ‹Ç∑
** 1999/03/05 by T.Soneoka
*/
#if (0)
**			/**çsàÛéöÅiâ¸çsÅj*/
**			if ( (ret = CharacterPrint( (UBYTE)(LST_LINE_FEED+prn_mode) )) != OK ) {
**				return ( ret );
**			}
**			line_cnt--;
#endif
			exec_cnt++;
		}
#if (PRO_NEW_TX_CONF == ENABLE) /* 2000/2/4 K.Kawata */
		/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
		if (error_flag == 1) {
			Print_TxConf_Line(8, List.S.Print, List.S.Attribute);
			if ((ret = CharacterPrint((UBYTE)(LST_PRINT+prn_mode))) != OK) {
				return (ret);
			}
		}
		else {
			Print_TxConf_Line(4, List.S.Print, List.S.Attribute);
			if ((ret = CharacterPrint((UBYTE)(LST_PRINT+prn_mode))) != OK) {
				return (ret);
			}
		}
		line_cnt -= 1;
#endif
		LST_CharacterLine = (UBYTE)(PaperSizeLen() - line_cnt);	/**	ÉLÉÉÉâÉNÉ^àÛéöÉâÉCÉìêîÇÉZÉbÉg	*/
		if ( (ret = CharacterPrint( (UBYTE)(LST_LINE_FEED+prn_mode) )) != OK ) {
			return ( ret );
		}
		LST_CharacterLine++;
		if ( exec_cnt != SYS_EXEC_QUEUE_MAX ) {			/**Ç‹Çæ√ﬁ∞¿Ç™écÇ¡ÇƒÇ¢ÇÈ */
			if ( (ret = CharacterPrint( LST_CLOSE )) != OK ) {
				return ( ret );
			}
		} else {

#if (0)
** /* ëóêMèÿÇ∆É`ÉFÉbÉNÉÅÉbÉZÅ[ÉWÇÕíËå^í∑Ç≈ÉJÉbÉgÇ∑ÇÈÇÊÇ§Ç…ïœçX By O.Kimoto 1999/02/22 */
** #if (PRO_PAPER_TYPE== ROLL_PAPER)
** /* ÇrÇ`ÇjÇ`ÇjÇhÅ^ÇgÇhÇmÇnÇjÇhÇÕãLò^éÜÇ™ÉçÅ[ÉãéÜÇ»ÇÃÇ≈ÅAëóêMèÿÇÕä™Ç´ï®Ç∆ÇµÇ‹Ç∑ÅB
** ** by O.Kimoto 1999/01/26
** */
** 			if ( (ret = CharacterPrint( LST_LINE_FEED + 2 )) != OK ) {
** 				return ( ret );
** 			}
** 			if ( (ret = CharacterPrint( LST_CLOSE )) != OK ) {
** 				return ( ret );
** 			}
** 			break;
** #else
** 			if ( prn_mode == LST_ERR_CLOSE ) { /**	í~êœå¥çeÇ™ñ≥Ç¢èÍçá	*/
** 				if ( (ret = CharacterPrint( LST_LINE_FEED + 2 )) != OK ) {
** 					return ( ret );
** 				}
** 				if ( (ret = CharacterPrint( LST_CLOSE )) != OK ) {
** 					return ( ret );
** 				}
** 				break;
** 			}
** 			else if ( line_cnt < 17 ) {	/**écÇËçsêîÇ™17çsà»â∫ÇÃèÍçáÅAéüÇÃÕﬂ∞ºﬁÇ…í~êœå¥çeÇàÛéöÇ∑ÇÈà◊ */
** 				if ( (ret = CharacterPrint( LST_CLOSE )) != OK ) {
** 					return ( ret );
** 				}
** 				if ( (ret = CharacterPrint( LST_OPEN )) != OK ) {
** 					return ( ret );
** 				}
** 				if ( (ret = CharacterPrint( (UBYTE)(LST_LINE_FEED+prn_mode + 2) )) != OK ) {
** 					return ( ret );
** 				}
** 				Prn_Att_Str_Clear( List.S.Print, List.S.Attribute );
** 				List.S.Print[1] = 'P';	/** ÉyÅ[ÉWÇàÛéö */
** 				List.S.Print[2] = '.';
** 				CMN_UnsignedIntToASC( &List.S.Print[3], (UWORD)(page + 1), 0, 0 );
** 				if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
** 					return ( ret );
** 				}
** 
** 				LST_CharacterLine = 3;	/**	éüÇÃÉyÅ[ÉWÇ…ÉCÉÅÅ[ÉWÉvÉäÉìÉgÇ∑ÇÈÇÃÇ≈ÉLÉÉÉâÉNÉ^àÛéöïîÇÕ1ÉâÉCÉìÇ…Ç»ÇÈ	*/
** 
** 				break;
** 			}
** #endif
#else
 /* ëóêMèÿÇ∆É`ÉFÉbÉNÉÅÉbÉZÅ[ÉWÇÕíËå^í∑Ç≈ÉJÉbÉgÇ∑ÇÈÇÊÇ§Ç…ïœçX By O.Kimoto 1999/02/22 */
 #if (PRO_PAPER_TYPE== ROLL_PAPER)
  #if (PRO_PRINT_TYPE == THERMAL) || (PRO_PRINT_TYPE == THERMAL_TRANS)	/* 1999.3.10 K.Kawata */
			/* å¥çeñ≥ÇµëóêMèÿÇÃèÍçá */
			if (( SYS_DocumentPrintItem == LST_COMMERR_BATCH_CHECKMSG)	/**¡™Ø∏“Øæ∞ºﬁHÅ@àÍäáëóêMí ím(”∆¿∞⁄Œﬂ∞ƒÅj */
				|| ( SYS_DocumentPrintItem ==LST_MONITOR_REPORT)) {			/**”∆¿∞⁄Œﬂ∞ƒ**/
				if ( (ret = CharacterPrint( LST_LINE_FEED + 2 )) != OK ) {
					return ( ret );
				}
				if ( (ret = CharacterPrint( LST_CLOSE )) != OK ) {
					return ( ret );
				}
				break;
			}
			else {
				/* å¥çeïtÇ´ëóêMèÿÇÃèÍçá */
				if ( line_cnt < 17 ) {	/**écÇËçsêîÇ™17çsà»â∫ÇÃèÍçáÅAéüÇÃÕﬂ∞ºﬁÇ…í~êœå¥çeÇàÛéöÇ∑ÇÈà◊ */
					if ( (ret = CharacterPrint( LST_CLOSE )) != OK ) {
						return ( ret );
					}
					if ( (ret = CharacterPrint( LST_OPEN )) != OK ) {
						return ( ret );
					}
					if ( (ret = CharacterPrint( (UBYTE)(LST_LINE_FEED+prn_mode + 2) )) != OK ) {
						return ( ret );
					}
					Prn_Att_Str_Clear( List.S.Print, List.S.Attribute );
					List.S.Print[1] = 'P';	/** ÉyÅ[ÉWÇàÛéö */
					List.S.Print[2] = '.';
					CMN_UnsignedIntToASC( &List.S.Print[3], (UWORD)(page + 1), 0, 0 );
					if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
						return ( ret );
					}

					LST_CharacterLine = 3;	/**	éüÇÃÉyÅ[ÉWÇ…ÉCÉÅÅ[ÉWÉvÉäÉìÉgÇ∑ÇÈÇÃÇ≈ÉLÉÉÉâÉNÉ^àÛéöïîÇÕ1ÉâÉCÉìÇ…Ç»ÇÈ	*/

					break;
				}
			}
  #else
			if ( prn_mode == LST_ERR_CLOSE ) { /**	í~êœå¥çeÇ™ñ≥Ç¢èÍçá	*/
				if ( (ret = CharacterPrint( LST_LINE_FEED + 2 )) != OK ) {
					return ( ret );
				}
				if ( (ret = CharacterPrint( LST_CLOSE )) != OK ) {
					return ( ret );
				}
				break;
			}
			else if ( line_cnt < 17 ) {	/**écÇËçsêîÇ™17çsà»â∫ÇÃèÍçáÅAéüÇÃÕﬂ∞ºﬁÇ…í~êœå¥çeÇàÛéöÇ∑ÇÈà◊ */
				if ( (ret = CharacterPrint( LST_CLOSE )) != OK ) {
					return ( ret );
				}
				if ( (ret = CharacterPrint( LST_OPEN )) != OK ) {
					return ( ret );
				}
				if ( (ret = CharacterPrint( (UBYTE)(LST_LINE_FEED+prn_mode + 2) )) != OK ) {
					return ( ret );
				}
				Prn_Att_Str_Clear( List.S.Print, List.S.Attribute );
				List.S.Print[1] = 'P';	/** ÉyÅ[ÉWÇàÛéö */
				List.S.Print[2] = '.';
				CMN_UnsignedIntToASC( &List.S.Print[3], (UWORD)(page + 1), 0, 0 );
				if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
					return ( ret );
				}

				LST_CharacterLine = 3;	/**	éüÇÃÉyÅ[ÉWÇ…ÉCÉÅÅ[ÉWÉvÉäÉìÉgÇ∑ÇÈÇÃÇ≈ÉLÉÉÉâÉNÉ^àÛéöïîÇÕ1ÉâÉCÉìÇ…Ç»ÇÈ	*/

				break;
			}
  #endif
 #else
			if ( prn_mode == LST_ERR_CLOSE ) { /**	í~êœå¥çeÇ™ñ≥Ç¢èÍçá	*/
				if ( (ret = CharacterPrint( LST_LINE_FEED + 2 )) != OK ) {
					return ( ret );
				}
				if ( (ret = CharacterPrint( LST_CLOSE )) != OK ) {
					return ( ret );
				}
				break;
			}
			else if ( line_cnt < 17 ) {	/**écÇËçsêîÇ™17çsà»â∫ÇÃèÍçáÅAéüÇÃÕﬂ∞ºﬁÇ…í~êœå¥çeÇàÛéöÇ∑ÇÈà◊ */
				if ( (ret = CharacterPrint( LST_CLOSE )) != OK ) {
					return ( ret );
				}
				if ( (ret = CharacterPrint( LST_OPEN )) != OK ) {
					return ( ret );
				}
				if ( (ret = CharacterPrint( (UBYTE)(LST_LINE_FEED+prn_mode + 2) )) != OK ) {
					return ( ret );
				}
				Prn_Att_Str_Clear( List.S.Print, List.S.Attribute );
				List.S.Print[1] = 'P';	/** ÉyÅ[ÉWÇàÛéö */
				List.S.Print[2] = '.';
				CMN_UnsignedIntToASC( &List.S.Print[3], (UWORD)(page + 1), 0, 0 );
				if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
					return ( ret );
				}

				LST_CharacterLine = 3;	/**	éüÇÃÉyÅ[ÉWÇ…ÉCÉÅÅ[ÉWÉvÉäÉìÉgÇ∑ÇÈÇÃÇ≈ÉLÉÉÉâÉNÉ^àÛéöïîÇÕ1ÉâÉCÉìÇ…Ç»ÇÈ	*/

				break;
			}
 #endif
#endif

		}
		page++;
#if (PRO_NEW_TX_CONF == ENABLE) /* 2000/2/4 K.Kawata */
		line_feed_flag = 0;
		title_flag = 1;
#endif
	}
	return ( OK );
}


/*************************************************************************
	module		:[éËìÆëóêMëóêMèÿÇÃàÛç¸]
	function	:[
		1.
	]
	return		:[]
	common		:[]
	condition	:[]
	comment		:[ÉWÉÉÅ[ÉiÉãÉfÅ[É^ÇéQè∆Ç∑ÇÈ]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[LST]
	date		:[1996/06/24]
	author		:[ïΩîˆ âpìT]
*************************************************************************/
WORD					Print_ManualTxConf( void )
{
	UBYTE	i;						/** ëóêMÉtÉ@ÉCÉãî‘çÜ */
	register WORD	ret;					/** é¿çsåãâ  */

#if (PRO_JOURNAL_PRINT_TIME == DISABLE)	/* ì˙óßì¡ãñâÒî 1998/10/28 Y.Matsukuma */
	UDWORD	time;
#endif

	TxConfYearPrint = CHK_JournalYearPrint();	/* êºóÔÇSåÖëŒâû bythonda1999/11/16	*/
												/* ICHOUÇ©ÇÁà⁄êAÇµÇƒÇ´Ç‹ÇµÇΩ		*/

	for (i = 0; i < SYS_JOURNAL_MAX; i++) {
		if ( (SYB_JournalFile[i].Kind == SYS_MANUAL_TRANSMIT)
#if (0)
**			&& (SYB_JournalFile[i].Option & SYS_TCR_REQUEST) ) [ /** ëóêMèÿÉvÉäÉìÉgóvãÅÇÃämîF */
#endif
			&& ((SYB_JournalFile[i].Option & SYS_TCR_REQUEST) == SYS_TCR_REQUEST )) { /** ëóêMèÿÉvÉäÉìÉgóvãÅÇÃämîF */
			break;
		}
	}

#if (PRO_JOURNAL_PRINT_TIME == DISABLE)	/* ì˙óßì¡ãñâÒî 1998/10/28 Y.Matsukuma */
	time = SYB_JournalFile[i].StartTime;	/* ºﬁ¨∞≈ŸÇÃÉXÉ^Å[ÉgÉ^ÉCÉÄÇë„ì¸ */
#endif

	if ( (ret = CharacterPrint( LST_OPEN )) != OK ) {
		return ( ret );
	}

#if (PRO_JOURNAL_PRINT_TIME == DISABLE)	/* ì˙óßì¡ãñâÒî 1998/10/28 Y.Matsukuma */
	if ( (ret = Print_TxConf_Head( LST_ERR_CLOSE, time )) != OK ) {		/**ÕØ¿ﬁàÛç¸*/
#else
	if ( (ret = Print_TxConf_Head( LST_ERR_CLOSE )) != OK ) {		/**ÕØ¿ﬁàÛç¸*/
#endif
		return ( ret );
	}

#if (PRO_NEW_TX_CONF == ENABLE) /* 2000/03/16 M.Matsumoto */
	if ( (ret = Print_ManualTxConf_Detail(i)) != OK ) {
		return (ret);
	}
#else

	if ( (SYB_JournalFile[i].Result & 0x0C00) == NO_ERROR ) {
		if ( (ret = Print_ManualTxConf_Detail(i)) != OK ) {
			return (ret);
		}
	}
	else {

 #if defined(EUR)	/* DTSëŒçÙ[Bb5.1.1-4] Journal(TCR)ÇÃãLèqï˚ñ@ S.Fukui Nov.5,1999 */
					/* kakiÇ©ÇÁà⁄êA by M.Harada 1999/11/17 */
		if (Print_TTI_InsteadOfLineNumber(i, 1) == TRUE) {
			if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
		  		return ( ret );
			}
		}
 #else	/* è]óàèàóù */
		/* à»â∫ÇTçsí«â¡ By O.Kimoto 1997/06/27 */
		if (Print_LineNumber(i, 1) == TRUE) {
			if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
		  		return ( ret );
			}
		}
 #endif

		/*ÜÆÜ¢Ü¢Ü¢ÜŒÜ¢Ü¢Ü¢Ü¢Ü¢ÜŒÜ¢Ü¢Ü¢Ü¢Ü¢Ü≤*/
		Print_CommErr_ChkMsg_Line( 0, List.S.Print, List.S.Attribute );
		if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
			return ( ret );
		}

		/*Ü§ XXXXXÜ§XXXXXXXXX Ü§XXXXXXXXXXÜ§*/
		Print_CommErr_ChkMsg_Line( 1, List.S.Print, List.S.Attribute );

		/*¬≥º›πØ∂î‘çÜ*/
		CommunicationResultName( SYB_JournalFile[i].Result, LST_NAME_SHORT,
		  LST_RESULT_COMMON, &List.S.Print[1], &List.S.Attribute[2-1] );

		/*¬≥º›πØ∂ “Øæ∞ºﬁ*/
		CommunicationResultName( SYB_JournalFile[i].Result, LST_NAME_LONG,
		  LST_RESULT_COMMON, &List.S.Print[8], &List.S.Attribute[9-1] );

		/*±≤√ª∑“≤*/
		CMN_StringCopy( &List.S.Print[39], SYB_JournalFile[i].RemoteID_TTI );

		if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
			return ( ret );
		}

		/*Ü∂Ü¢Ü¢Ü÷Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü÷Ü¢Ü¢Ü¢Ü¢Ü¢Ü∫*/
		Print_CommErr_ChkMsg_Line( 3, List.S.Print, List.S.Attribute );
		if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
			return ( ret );
		}
	}
#endif

	/*ÇPçsàÛéöÅiâ¸çsÅj*/
	if ( (ret = CharacterPrint( LST_LINE_FEED )) != OK ) {
		return ( ret );
	}

	if ( (ret = CharacterPrint( LST_CLOSE )) != OK ) {
		return ( ret );
	}

	SYS_ManualFaxCommErrRequest = 0; /** éËìÆëóéÛêMÉ`ÉFÉbÉNÉÅÉbÉZÅ[ÉWÅEÉvÉäÉìÉgóvãÅÉNÉäÉA */
	/*SYB_JournalFile[i].Option &= !SYS_TCR_REQUEST;*/ /** ëóêMèÿóvãÅÇÃÉNÉäÉA */
	SYB_JournalFile[i].Option &= ~SYS_TCR_REQUEST;	/* By M.Tachibana 19967/01/29 */
	return ( OK );
}


/*************************************************************************
	module		:[ëóêMèÿÇÃÉwÉbÉ_àÛç¸]
	function		:[ëóêMèÿÇÃ1ñáñ⁄ÇÃTTI/IDÇ∆¿≤ƒŸÇ∆åªç›ì˙éûÇàÛç¸Ç∑ÇÈ]
	common		:[]
	condition		:[]
	commment	:[]
	return		:[àÛç¸åãâ ]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[LST]
	date		:[Apr.16,1996]
	author		:[ïΩîˆ âpìT]
*************************************************************************/
#if (PRO_JOURNAL_PRINT_TIME == DISABLE)	/* ì˙óßì¡ãñâÒî 1998/10/28 Y.Matsukuma */
WORD					Print_TxConf_Head(
										UBYTE prn_mode,
										UDWORD time )		/** Ãﬂÿ›¿”∞ƒﬁ */
#else
WORD					Print_TxConf_Head(
										UBYTE prn_mode )		/** Ãﬂÿ›¿”∞ƒﬁ */
#endif
{
	WORD	ret;					/**é¿çsåãâ  */
	/**ÇPâ¸çsÅ{î≠êMå≥ñºÅAî‘çÜàÛç¸Å{ÇQâ¸çs */
	if ( (ret = CharacterPrint( (UBYTE)(LST_LINE_FEED+prn_mode) )) != OK ) {
		return ( ret );
	}

	Prn_Att_Str_Clear( List.S.Print, List.S.Attribute );

/* ÇoÇnÇoÇkÇ`ÇqÅQÇg ïWèÄÇQâÒê¸é˚óeëŒâûÇÃà◊ By O.Kimoto 1997/11/01 */
#if (PRO_LINENUMBER == TWICE_LINE)
	CMN_StringCopy( &List.S.Print[1-1], &SYB_TTI_Buffer[0][0]);
	if ( SYB_ID_Buffer[0][0] != NULL ) {
		AttributeSet( &List.S.Print[24-1], &List.S.Attribute[24-1], PWRD_FaxD,
		  LST_NOT );
		CMN_StringCopy( &List.S.Print[28-1], &SYB_ID_Buffer[0][0]);
	}
#else
 #if defined(EUR)	/* DTSëŒçÙ[Bb5.1.1-4] Journal(TCR)ÇÃãLèqï˚ñ@ S.Fukui Nov.5,1999 */
					/* kakiÇ©ÇÁà⁄êA by M.Harada 1999/11/17 */
	if (OPT_CountModems() < 2) { /* ï°êîâÒê¸Ç∂Ç·Ç»Ç©Ç¡ÇΩÇÁÅAÇsÇsÇhÇãLç⁄Ç∑ÇÈÅBS.Fukui Nov.4,1999 */
		CMN_StringCopy( &List.S.Print[1-1], SYB_TTI_Buffer);
		if ( SYB_ID_Buffer[0] != NULL ) {
			AttributeSet( &List.S.Print[24-1], &List.S.Attribute[24-1], PWRD_FaxD,
			  LST_NOT );
			CMN_StringCopy( &List.S.Print[28-1], SYB_ID_Buffer);
		}
	}
 #else
	CMN_StringCopy( &List.S.Print[1-1], SYB_TTI_Buffer);
	if ( SYB_ID_Buffer[0] != NULL ) {
		AttributeSet( &List.S.Print[24-1], &List.S.Attribute[24-1], PWRD_FaxD,
		  LST_NOT );
		CMN_StringCopy( &List.S.Print[28-1], SYB_ID_Buffer);
	}
 #endif
#endif

	if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
		return ( ret );
	}

	if ( (ret = CharacterPrint( (UBYTE)(LST_LINE_FEED+prn_mode) )) != OK ) {
		return ( ret );
	}

	/**ÅñÅñÅ@ÇsÇíÇÅÇéÇìÇçÇâÇî  ÇbÇèÇéÇÜÅDÇqÇÖÇêÇèÇíÇîÅ@ÅñÅñ */
	Prn_Att_Str_Clear( List.S.Print, List.S.Attribute );
#if ( PRO_PANEL == KANJI ) || ( PRO_JIS_CODE == ENABLE )
	AttributeSet( &List.S.Print[14], &List.S.Attribute[14],
				  PWRD_TransConfReport_K, LST_NOT );
#else
	AttributeSet( &List.S.Print[14], &List.S.Attribute[14],
				  PWRD_TransConfReport, LST_XXX_TWI_XXX );
#endif
	if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
		return ( ret );
	}

	/**ÇPçsàÛéöÅiâ¸çsÅj*/
	if ( (ret = CharacterPrint( (UBYTE)(LST_LINE_FEED+prn_mode) )) != OK ) {
		return ( ret );
	}

	/**åªç›éûä‘ */
	Prn_Att_Str_Clear( List.S.Print, List.S.Attribute );
	List.S.Print[1] = 'P';
	List.S.Print[2] = '.';
	List.S.Print[3] = '1';
#if (PRO_JOURNAL_PRINT_TIME == DISABLE)	/* ì˙óßì¡ãñâÒî åªç›éûä‘ÇÇÃÇπÇ∏ÅAí êMΩ¿∞ƒéûä‘ÇÇÃÇπÇÈ 1998/10/28 Y.Matsukuma */
	TimeDataAscii( OFF, time, List.S.Work, 0 );
	CMN_StringCopy( &List.S.Print[60-1], List.S.Work);
#else
	TimeDataAscii( OFF, SYB_CurrentTime, List.S.Work, 0 );
	CMN_StringCopy( &List.S.Print[60-1], List.S.Work);
#endif
	if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
		return (ret );
	}

	return ( OK );
}

/*************************************************************************
	module		:[ëóêMèÿÇÃ1í êMï™ÇàÛç¸]
	function	:[ëóêMèÿÇÃ1í êMï™ÇÃñæç◊ÇàÛç¸Ç∑ÇÈ]
	common		:[]
	condition	:[]
	commment	:[]
	return		:[àÛç¸åãâ ]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[LST]
	date		:[Apr.16,1996]
	author		:[ïΩîˆ âpìT]
*************************************************************************/
WORD					Print_TxConf_Detail(
							UBYTE number,
							UBYTE prn_mode )
{
	WORD		ret;			/**é¿çsåãâ  */
	UBYTE		num_cnt;		/* É_ÉCÉÑÉãî‘çÜÇÃåÖêî 1998/10/28 Y.Matsukuma */

	unsigned char	dial_length;	/* ¿ﬁ≤‘Ÿî‘çÜÇÃí∑Ç≥ *//* êºóÔÇSåÖëŒâû bythonda1999/11/16	*/
														 /* ICHOUÇ©ÇÁà⁄êAÇµÇƒÇ´Ç‹ÇµÇΩ		*/

#if 0	/* ÉvÉåÉtÉBÉbÉNÉXÅ{É_ÉCÉÑÉãî‘çÜÇ≈40åÖÇí¥Ç¶ÇƒÇ‡ê‹ÇËï‘ÇµÇƒàÛéöÇµÇ»Ç¢ÇÃÇ≈ÅAëÂìáÇ≥ÇÒämîFÇÃè„ÅAÉäÉXÉgÇ≈ÇÃìWäJÇÕé~ÇﬂÇ‹Ç∑ by K.Watanabe 2004/11/12 */
//#if defined(STOCKHM2) || (PRO_PREFIX_KEY == ENABLE)	/* DVT: Added by SMuratec K.W.Q 2004/09/10 *//* by K.Watanabe 2004/10/12 */
//	UWORD	length;
//	UBYTE	temp_str[LST_COLUM - 1];
#endif			/*	End of defined(STOCKHM2)	*/

#if (PRO_NEW_TX_CONF == DISABLE) /* 2000/2/4 K.Kawata */
 #if defined(EUR)	/* DTSëŒçÙ[Bb5.1.1-4] Journal(TCR)ÇÃãLèqï˚ñ@ S.Fukui Nov.5,1999 */
					/* kakiÇ©ÇÁà⁄êA by M.Harada 1999/11/17 */
	if (Print_TTI_InsteadOfLineNumber(number, 0) == TRUE) {
		if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
	 		return ( ret );
		}
	}
 #else	/* è]óàèàóù */
	/* à»â∫ÇTçsí«â¡ By O.Kimoto 1997/06/27 */
	if (Print_LineNumber(number, 0) == TRUE) {
		if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
	 		return ( ret );
		}
	}
 #endif
	/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
	Print_TxConf_Line( 0, List.S.Print, List.S.Attribute );
	if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
		return ( ret );
	}

	/**ÅETelephone NumberÅEModeÅEStartÅETimeÅEPageÅEResultÅENoteÅE*/
	Print_TxConf_Line( 1, List.S.Print, List.S.Attribute );
	if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
		return ( ret );
	}

	/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
	Print_TxConf_Line( 2, List.S.Print, List.S.Attribute );
	if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
		return ( ret );
	}
#endif

	/**Üæ                      Ü¢      ÅE      ÅE     ÅE      ÅE      ÅE     ÅE*/
	Print_TxConf_Line( 3, List.S.Print, List.S.Attribute );

	if ( TxConfYearPrint ) {	/* êºóÔÇSåÖëŒâû bythonda1999/11/16	*/
								/* ICHOUÇ©ÇÁà⁄êAÇµÇƒÇ´Ç‹ÇµÇΩ		*/
		dial_length = 24;
	}
	else {
		dial_length = 29;
	}

	/**Telephon Number */
	CMN_MemorySetNULL( List.S.Work, LST_COLUM-1, ' ' ); /**	ÉèÅ[ÉNÉGÉäÉAÇÃÉNÉäÉA	*/

#if 0	/* ÉvÉåÉtÉBÉbÉNÉXÅ{É_ÉCÉÑÉãî‘çÜÇ≈40åÖÇí¥Ç¶ÇƒÇ‡ê‹ÇËï‘ÇµÇƒàÛéöÇµÇ»Ç¢ÇÃÇ≈ÅAëÂìáÇ≥ÇÒämîFÇÃè„ÅAÉäÉXÉgÇ≈ÇÃìWäJÇÕé~ÇﬂÇ‹Ç∑ by K.Watanabe 2004/11/12 */
//#if defined(STOCKHM2) || (PRO_PREFIX_KEY == ENABLE)	/* DVT: Added by SMuratec K.W.Q 2004/09/10 *//* by K.Watanabe 2004/10/12 */
//	CMN_MemorySet( temp_str, LST_COLUM-1, ' ' ); /**	ÉèÅ[ÉNÉGÉäÉAÇÃÉNÉäÉA	*/
#endif

#if (PRO_BATCH_TX == ENABLE)	/* By M.Tachibana 1996/11/21 */
	if ( (SYB_ExecQueue[number].Kind == SYS_BATCH_TX)
	  && (SYB_BatchTxFile[SYS_DocumentPrintNo].Name[0] != NULL)) { /**	àÍäáëóêMÇ≈ÇÕÇaÇnÇwñºÇóDêÊ	*/
/*			CMN_StringCopy( &List.S.Print[2-1], SYB_BatchTxFile[SYS_DocumentPrintNo].Name );*/
/*			CMN_StringCopyNum(&List.S.Print[2-1], &SYB_BatchTxFile[SYS_DocumentPrintNo].Name[0], dial_length - 5 );	 1999/12/02 Y.M *//* êºóÔÇSåÖëŒâû bythonda1999/11/17 */
			CMN_StringCopyNumOrNULL(&List.S.Print[2-1], &SYB_BatchTxFile[SYS_DocumentPrintNo].Name[0], dial_length - 5 );	/* 1999/12/02 Y.M */
	}
	else {
#endif
		switch ( SYB_ExecQueue[number].ExecDial.Item ) {
		case SYS_DIRECT_DIAL:
			if ( SYB_ExecQueue[number].Kind == SYS_COMMAND_TRX ) {
#if (0)	/* ÉRÉ}ÉìÉhÉtÉ@ÉCÉãÇÃïœçXÇ…ÇÊÇÈ By M.Tachibana 1996/11/21 */
**				CMN_BCD_ToASC_String( List.S.Work, SYB_CommandFile
**				  [SYB_ExecQueue[number].Number.Command].DialNumber[SYB_ExecQueue
**				  [number].ExecDial.ExecNumber.Command].FaxNumber.Direct );
#endif

				CMN_BCD_ToASC_String( List.S.Work, SYB_CommandFile
				  [SYB_ExecQueue[number].Number.Command].DialNumber.
				  Direct[SYB_ExecQueue[number].ExecDial.ExecNumber.Command] );
				  
				/* ¿ﬁ≤‘ŸåÖÇ™26ï∂éöÇâzÇ¶ÇΩÇÁÅu••â∫25åÖÅvÇàÛéöÇ∑ÇÈèàóùí«â¡ 1998/10/28 Y.Matsukuma */
				num_cnt = DialWithinCheck(List.S.Work);
#if (0)
//				if (CHK_UNI_DialWithin() && num_cnt > 26) {	/* ’∆∞∏SW I7-0 */
//					num_cnt = num_cnt - 26;
//					List.S.Work[num_cnt] = LST_A_TENTEN;
//					CMN_StringCopyNum( &List.S.Print[2-1], &List.S.Work[num_cnt], 26 );
//				}
//				else {
//					CMN_StringCopyNum( &List.S.Print[2-1], List.S.Work, 26 );
//				}
#else
 #if 0	/* ÉvÉåÉtÉBÉbÉNÉXÅ{É_ÉCÉÑÉãî‘çÜÇ≈40åÖÇí¥Ç¶ÇƒÇ‡ê‹ÇËï‘ÇµÇƒàÛéöÇµÇ»Ç¢ÇÃÇ≈ÅAëÂìáÇ≥ÇÒämîFÇÃè„ÅAÉäÉXÉgÇ≈ÇÃìWäJÇÕé~ÇﬂÇ‹Ç∑ by K.Watanabe 2004/11/12 */
// #if defined(STOCKHM2) || (PRO_PREFIX_KEY == ENABLE)	/* DVT: Added by SMuratec K.W.Q 2004/09/09 *//* by K.Watanabe 2004/10/12 */
//				if (List.S.Work[0] == '!'){
//					length = CMN_StringLength(SYB_MercuryDialBuffer);	/* É}ÉLÉÖÉäÅ[ìoò^åÖ */
//					List.S.Print[1] = '[';
//					
//					if (CHK_UNI_DialWithin() && (num_cnt > (dial_length - 4 - length))){	/* ’∆∞∏SW I7-0 */
//						if (length > 3){
//							List.S.Print[2] = LST_A_TENTEN;
//							CMN_StringCopyNum( &List.S.Print[3], &SYB_MercuryDialBuffer[length - 3], 3);
//							List.S.Print[6] = ']';
//							
//							if (num_cnt > dial_length - 8){
//								List.S.Print[7] = LST_A_TENTEN;
//								CMN_StringCopyNum( &List.S.Print[8],
//									&List.S.Work[num_cnt - dial_length + 10], dial_length - 10);
//							}
//							else{
//								CMN_StringCopyNum( &List.S.Print[7], &List.S.Work[1], dial_length - 9);
//							}
//						}
//						else{
//							CMN_StringCopyNum( &List.S.Print[2], &SYB_MercuryDialBuffer, length);
//							List.S.Print[2 + length] = ']';
//					
//							List.S.Print[3 + length] = LST_A_TENTEN;
//							CMN_StringCopyNum( &List.S.Print[4 + length],
//								&List.S.Work[num_cnt - dial_length + 6 + length],
//								dial_length - 6 -length);
//						}
//					}
//					else{
//						CMN_StringCopyNum( temp_str, &SYB_MercuryDialBuffer, length);
//						temp_str[length] = ']';
//						CMN_StringCopyNum( &temp_str[1 + length], &List.S.Work[1], dial_length - 3);
//						CMN_StringCopyNum( &List.S.Print[2], temp_str, dial_length - 4);
//					}
//					
//				}
//				else{
//					/*
//					 * Åu••â∫25åÖÅvÇàÛéöÇ∑ÇÈèàóùÇ∆êºóÔÇSåÖëŒâûÇÃèàóùÇ™ìØéûÇ…Ç†ÇÈÇ∆ÅA
//					 * ê≥ÇµÇ≠Åu••â∫25åÖÅvÇàÛéöÇ≈Ç´Ç»Ç¢ïsãÔçá bythonda2000/03/13
//					 */
//					if (CHK_UNI_DialWithin() && (num_cnt > (dial_length - 3))) {	/* ’∆∞∏SW I7-0 */
//						num_cnt = num_cnt - dial_length + 3;
//						List.S.Work[num_cnt] = LST_A_TENTEN;
//
//						CMN_StringCopyNum( &List.S.Print[2-1], &List.S.Work[num_cnt], dial_length - 3 );
//					}
//					else {
//						CMN_StringCopyNum( &List.S.Print[2-1], List.S.Work, dial_length - 3 );
//					}
//				}
 #else
				/*
				 * Åu••â∫25åÖÅvÇàÛéöÇ∑ÇÈèàóùÇ∆êºóÔÇSåÖëŒâûÇÃèàóùÇ™ìØéûÇ…Ç†ÇÈÇ∆ÅA
				 * ê≥ÇµÇ≠Åu••â∫25åÖÅvÇàÛéöÇ≈Ç´Ç»Ç¢ïsãÔçá bythonda2000/03/13
				 */
				if (CHK_UNI_DialWithin() && (num_cnt > (dial_length - 3))) {	/* ’∆∞∏SW I7-0 */
					num_cnt = num_cnt - dial_length + 3;
					List.S.Work[num_cnt] = LST_A_TENTEN;

					/* êºóÔÇSåÖëŒâû bythonda1999/11/16 */
					CMN_StringCopyNum( &List.S.Print[2-1], &List.S.Work[num_cnt], dial_length - 3 );
				}
				else {
					/* êºóÔÇSåÖëŒâû bythonda1999/11/16 */
					CMN_StringCopyNum( &List.S.Print[2-1], List.S.Work, dial_length - 3 );
				}
 #endif			/*	End of defined(STOCKHM2) || (PRO_PREFIX_KEY == ENABLE) */
#endif
			}
#if (PRO_BATCH_TX == ENABLE)	/* By M.Tachibana 1996/11/21 */
			else {
				CMN_BCD_ToASC_String( List.S.Work, SYB_BatchTxFile
				[SYS_DocumentPrintNo].DialNumber[0].FaxNumber.Direct );
/*					CMN_StringCopyNum( &List.S.Print[2-1], List.S.Work, 24 );*/
					/* êºóÔÇSåÖëŒâû bythonda1999/11/16 */
					CMN_StringCopyNum( &List.S.Print[2-1], List.S.Work, dial_length - 5 );
			}
#endif
			break;
		case SYS_ONETOUCH_DIAL:
#if (PRO_KEYPANEL == PANEL_ANZU_L)
			if ( CMN_OffsetToOnetouchCode( SYB_ExecQueue[number].ExecDial.ExecNumber.Onetouch ) <= 0x7A ){
				List.S.Print[2-1] = '[';
				List.S.Print[4-1] = ']';
				List.S.Print[3-1] =CMN_OffsetToOnetouchCode(SYB_ExecQueue[number].ExecDial.ExecNumber.Onetouch );
			} else{
				List.S.Print[2-1] = '[';
				List.S.Print[5-1] = ']';
				List.S.Print[3-1] = 0x55;	/** 'U'ÇÃASCII∫-ƒﬁ */
				List.S.Print[4-1] = CMN_OffsetToOnetouchCode( SYB_ExecQueue[number].ExecDial.ExecNumber.Onetouch ) &
								 (UBYTE)0x0F | (UBYTE)0x30; /** U1Å`U8ãLçÜÇÇ¬Ç≠ÇÈ */
			}
#else	/* PANEL_POPLA_B/L/H */
 #if (PRO_PANEL == ANK)
		List.S.Print[2-1] = '[';
		List.S.Print[5-1] = ']';
		CMN_UnsignedIntToASC( &List.S.Print[3-1],
							 (UWORD)(CMN_OffsetToOnetouchCode(
									SYB_ExecQueue[number].ExecDial.ExecNumber.Onetouch ) - 0x40), 2, '0' );
 #endif
 #if (PRO_PANEL == KANJI)
 		/* ÉèÉìÉ^ÉbÉ`ÇÃï\é¶Ç[]->äGï∂éöÇ…ïœçX By O.Kimoto 1998/01/22 */
		List.S.Print[2-1] = LCD_PICFONT;
		List.S.Print[3-1] = LCD_PICFONT_LOWER;
		CMN_UnsignedIntToASC( &List.S.Print[4-1],
							 (UWORD)(CMN_OffsetToOnetouchCode(
									SYB_ExecQueue[number].ExecDial.ExecNumber.Onetouch ) - 0x40), 2, '0' );
 #endif
#endif
			/**	‹›¿Ø¡¿ﬁ≤±ŸãLçÜÇ…â¡Ç¶ÇƒëäéËêÊñº ñîÇÕ ¿ﬁ≤±Ÿî‘çÜÇàÛéöÇ∑ÇÈ
			*	‹›¿Ø¡¿ﬁ≤±Ÿî‘çÜÇÕ40åÖÇ‹Ç≈ìoò^Ç≈Ç´ÇÈÇ™18åÖÇ‹Ç≈àÛéöÇ∑ÇÈ
			*	í êMíÜÇ…‹›¿Ø¡¿ﬁ≤±ŸÇìoò^ÇµíºÇ∑â¬î\ê´ÇÕÇ†ÇÈÇ™ÅHÅHÅH
			*/

#if (0)
** 			/* ÇhÇbÇgÇnÇtÇ©ÇÁÇÃÉtÉBÅ[ÉhÉoÉbÉN By O.Kimoto 1998/03/30 */
** 			/*
** 			** ÉäÉÇÅ[ÉgêfífÇ™ñ¢ìoò^Ç»ÇÁÇeÇOÇèëÇ≠èÍçáÇ™Ç†ÇÈÇÃÇ≈ÇeÇeÇ≈å©ÇƒÇ¢ÇÈÇ∆Ç®Ç©ÇµÇ≠Ç»ÇÈ
** 			** 1997/10/03 M.Shimizu
** 			*/
** 			if ( SYB_OnetouchDial[SYB_ExecQueue[number].ExecDial.ExecNumber.Onetouch].Dial[0] != LST_DIAL_NOT ) [ /**	‹›¿Ø¡¿ﬁ≤±ŸÇ™ìoò^Ç≥ÇÍÇƒÇ¢ÇÈèÍçá	*/
#else
			if ( (SYB_OnetouchDial[SYB_ExecQueue[number].ExecDial.ExecNumber.Onetouch].Dial[0] & 0xF0) != 0xF0 ) { /**	‹›¿Ø¡¿ﬁ≤±ŸÇ™ìoò^Ç≥ÇÍÇƒÇ¢ÇÈèÍçá	*/
#endif

				if ( SYB_OnetouchDial[SYB_ExecQueue[number].ExecDial.ExecNumber.Onetouch].Name[0] != NULL ) { /**	ëäéËêÊñºÇ™ìoò^Ç≥ÇÍÇƒÇ¢ÇÈèÍçá	*/
#if (0)		/* ï∂éöêîÇ™ëΩÇ¢à◊ÅAårê¸Çè¡ÇµÇƒÇµÇ‹Ç§ 1998/05/18 By M.Kuwahara */
//					CMN_StringCopy( &List.S.Print[7],
//					  SYB_OnetouchDial[SYB_ExecQueue[number].ExecDial.ExecNumber.Onetouch].Name );
#endif
				/*	CMN_StringCopyNum( &List.S.Print[7-1],By Y.Suzuki 1998/05/19 */
				/* CMN_StringCopyNum ÇÕÅANULLÇåüèoÇµÇƒÇ≠ÇÍÇ»Ç¢ÅBÉSÉ~ÉfÅ[É^Ç™ç⁄ÇÈÇ±Ç∆Ç™óLÇÈÅB*/
					CMN_StringCopyNumUntilNull( &List.S.Print[7-1],
/*						  SYB_OnetouchDial[SYB_ExecQueue[number].ExecDial.ExecNumber.Onetouch].Name, 21 );*/
						/* êºóÔÇSåÖëŒâû bythonda1999/11/16 */
						  SYB_OnetouchDial[SYB_ExecQueue[number].ExecDial.ExecNumber.Onetouch].Name, dial_length - 8 );
				}
				else { /**	ëäéËêÊñºÇ™ìoò^Ç≥ÇÍÇƒÇ¢Ç»Ç¢èÍçáìdòbî‘çÜÇàÛéöÇ∑ÇÈ	*/
					CMN_BCD_ToASC_String( List.S.Work,
					  SYB_OnetouchDial[SYB_ExecQueue[number].ExecDial.ExecNumber.Onetouch].Dial );
/*					CMN_StringCopyNum( &List.S.Print[7], List.S.Work, 18 );*/	/* 1998/05/18 By M.Kuwahara */
				/*	CMN_StringCopyNum( &List.S.Print[7-1], List.S.Work, 18 );By Y.Suzuki 1998/05/19 */

					/* ¿ﬁ≤‘ŸåÖÇ™21ï∂éöÇâzÇ¶ÇΩÇÁÅu••â∫20åÖÅvÇàÛéöÇ∑ÇÈèàóùí«â¡ 1998/10/28 Y.Matsukuma */
					num_cnt = DialWithinCheck(List.S.Work);
#if (0)
//					if (CHK_UNI_DialWithin() && num_cnt > 21) {	/* ’∆∞∏SW I7-0 */
//						num_cnt = num_cnt - 21;
//						List.S.Work[num_cnt] = LST_A_TENTEN;
//							CMN_StringCopyNum( &List.S.Print[7-1], &List.S.Work[num_cnt], 21 );
//					}
//					else {
//							CMN_StringCopyNum( &List.S.Print[7-1], List.S.Work, 21 );
//					}
#else
 #if 0	/* ÉvÉåÉtÉBÉbÉNÉXÅ{É_ÉCÉÑÉãî‘çÜÇ≈40åÖÇí¥Ç¶ÇƒÇ‡ê‹ÇËï‘ÇµÇƒàÛéöÇµÇ»Ç¢ÇÃÇ≈ÅAëÂìáÇ≥ÇÒämîFÇÃè„ÅAÉäÉXÉgÇ≈ÇÃìWäJÇÕé~ÇﬂÇ‹Ç∑ by K.Watanabe 2004/11/12 */
// #if defined(STOCKHM2) || (PRO_PREFIX_KEY == ENABLE)	/* DVT: Added by SMuratec K.W.Q 2004/09/09 *//* by K.Watanabe 2004/10/12 */
//				if (List.S.Work[0] == '!'){
//					length = CMN_StringLength(SYB_MercuryDialBuffer);	/* É}ÉLÉÖÉäÅ[ìoò^åÖ */
//					List.S.Print[6] = '[';
//					
//					if (CHK_UNI_DialWithin() && num_cnt > (dial_length - 9 - length)){	/* ’∆∞∏SW I7-0 */
//						if (length > 3){
//							List.S.Print[7] = LST_A_TENTEN;
//							CMN_StringCopyNum( &List.S.Print[8], &SYB_MercuryDialBuffer[length - 3], 3);
//							List.S.Print[11] = ']';
//							
//							if (num_cnt > dial_length - 13){
//								List.S.Print[12] = LST_A_TENTEN;
//								CMN_StringCopyNum( &List.S.Print[13],
//									&List.S.Work[num_cnt - dial_length + 15], dial_length - 15);
//							}
//							else{
//								CMN_StringCopyNum( &List.S.Print[12], &List.S.Work[1], dial_length - 14);
//							}
//						}
//						else{
//							CMN_StringCopyNum( &List.S.Print[7], &SYB_MercuryDialBuffer, length);
//							List.S.Print[7 + length] = ']';
//					
//							List.S.Print[8 + length] = LST_A_TENTEN;
//							CMN_StringCopyNum( &List.S.Print[9 + length],
//								&List.S.Work[num_cnt - dial_length + 11 + length],
//								dial_length - 11 -length);
//						}
//					}
//					else{
//						CMN_StringCopyNum( temp_str, &SYB_MercuryDialBuffer, length);
//						temp_str[length] = ']';
//						CMN_StringCopyNum( &temp_str[1 + length], &List.S.Work[1], dial_length - 8);
//						CMN_StringCopyNum( &List.S.Print[7], temp_str, dial_length - 9);
//					}
//					
//				}
//				else{
//					/*
//					 * Åu••â∫20åÖÅvÇàÛéöÇ∑ÇÈèàóùÇ∆êºóÔÇSåÖëŒâûÇÃèàóùÇ™ìØéûÇ…Ç†ÇÈÇ∆ÅA
//					 * ê≥ÇµÇ≠Åu••â∫20åÖÅvÇàÛéöÇ≈Ç´Ç»Ç¢ïsãÔçá bythonda2000/03/13
//					 */
//					if (CHK_UNI_DialWithin() && (num_cnt > (dial_length - 8))) {	/* ’∆∞∏SW I7-0 */
//						num_cnt = num_cnt - dial_length + 8;
//						List.S.Work[num_cnt] = LST_A_TENTEN;
//
//						/* êºóÔÇSåÖëŒâû bythonda1999/11/16 */
//						CMN_StringCopyNum( &List.S.Print[7-1], &List.S.Work[num_cnt], dial_length - 8 );
//					}
//					else {
//						/* êºóÔÇSåÖëŒâû bythonda1999/11/16 */
//						CMN_StringCopyNum( &List.S.Print[7-1], List.S.Work, dial_length - 8 );
//					}
//				}
 #else
					/*
					 * Åu••â∫20åÖÅvÇàÛéöÇ∑ÇÈèàóùÇ∆êºóÔÇSåÖëŒâûÇÃèàóùÇ™ìØéûÇ…Ç†ÇÈÇ∆ÅA
					 * ê≥ÇµÇ≠Åu••â∫20åÖÅvÇàÛéöÇ≈Ç´Ç»Ç¢ïsãÔçá bythonda2000/03/13
					 */
					if (CHK_UNI_DialWithin() && (num_cnt > (dial_length - 8))) {	/* ’∆∞∏SW I7-0 */
						num_cnt = num_cnt - dial_length + 8;
						List.S.Work[num_cnt] = LST_A_TENTEN;
	
						/* êºóÔÇSåÖëŒâû bythonda1999/11/16 */
						CMN_StringCopyNum( &List.S.Print[7-1], &List.S.Work[num_cnt], dial_length - 8 );
					}
					else {
						/* êºóÔÇSåÖëŒâû bythonda1999/11/16 */
						CMN_StringCopyNum( &List.S.Print[7-1], List.S.Work, dial_length - 8 );
					}
 #endif			/*	End of defined(STOCKHM2) || (PRO_PREFIX_KEY == ENABLE) */
#endif
				}
			}
			break;
		case SYS_SPEED_DIAL:
#if (0)	/* 97/09/08 By M.Kuwahara */
//			List.S.Print[1] = '(';
//			List.S.Print[5] = ')';
//			CMN_UnsignedIntToASC( &List.S.Print[2],
//			  (UWORD)(SYB_ExecQueue[number].ExecDial.ExecNumber
//			  .Speed+OPR_SPEED_DIAL_MIN), 3, '0' );
#endif
			if( CHK_UNI_OptionalSpeedDial() != 0 ){	/* îCà”íZèkÇÃéû */
#if (PRO_KEYPANEL == PANEL_ANZU_L)
				if ( SYS_SPEED_DIAL_MAX+SYS_2ND_SPEED_DIAL_MAX >= 100 ) {
 #if (1) /* îCà”íZèkÇSåÖâª 2002/02/13 By M.Maeda */
					CMN_UnsignedIntToASC( &List.S.Print[2-1],
										 (UWORD)SYB_OptionalSpeed[
														SYB_ExecQueue[number].ExecDial.ExecNumber.Speed].Number,
										  OP_SPEED_FIGURE_MAX, '0' );
 #else
//					CMN_UnsignedIntToASC( &List.S.Print[2-1],
//										 (UWORD)SYB_OptionalSpeed[
//														SYB_ExecQueue[number].ExecDial.ExecNumber.Speed].Number,
//										  3, '0' );
 #endif
				}
				else {
					CMN_UnsignedIntToASC( &List.S.Print[3-1],
										 (UWORD)SYB_OptionalSpeed[
														SYB_ExecQueue[number].ExecDial.ExecNumber.Speed].Number,
										  2, '0' );
				}
#else	/* PANEL_POPLA_B/L/H */
 #if (PRO_OKI == ENABLE)	/* äCäOÇ≈ÇÕíZèkìôÇÃì™ï∂éöÇ™âpåÍÇ∆à·Ç§ÇÃÇ≈ÅAïœçXÇ≈Ç´ÇÈÇÊÇ§Ç…ÇµÇ‹Ç∑ by K.Watanabe 1999/02/09 */
				List.S.Print[2-1]	= *CalculateStringAddress(&D2W_HeadCharacter_Speed);
 #else
				List.S.Print[2-1]	= 'S';
 #endif
 #if (1) /* îCà”íZèkÇSåÖâª 2002/02/13 By M.Maeda */
				CMN_UnsignedIntToASC( &List.S.Print[3-1],
									 (UWORD)SYB_OptionalSpeed[
													SYB_ExecQueue[number].ExecDial.ExecNumber.Speed].Number,
									  OP_SPEED_FIGURE_MAX, '0' );
 #else
//				CMN_UnsignedIntToASC( &List.S.Print[3-1],
//									 (UWORD)SYB_OptionalSpeed[
//													SYB_ExecQueue[number].ExecDial.ExecNumber.Speed].Number,
//									  3, '0' );
 #endif
#endif	/* PANEL_ANZU_L */
			}
			else{		/* í èÌÇÃíZèkÇÃéû */
#if (PRO_KEYPANEL == PANEL_ANZU_L)
				if ( SYS_SPEED_DIAL_MAX+SYS_2ND_SPEED_DIAL_MAX >= 100 ) {
 #if ( PRO_CPU == SH7043 )	/* FX,MMLÇ≈íZèk¿ﬁ≤‘ŸNo.Ç™ÅA000Å`or001Å`Ç∆à·Ç§éûÇÃÇΩÇﬂ */
					CMN_UnsignedIntToASC( &List.S.Print[2-1],
										  (UWORD)(SYB_ExecQueue[number].ExecDial.ExecNumber.Speed+OPR_SPEED_DIAL_MIN),										  3, '0' );
 #else
					CMN_UnsignedIntToASC( &List.S.Print[2-1],
										 (UWORD)(SYB_ExecQueue[number].ExecDial.ExecNumber.Speed + 1),
										 3, '0' );
 #endif
				}
				else {
 #if ( PRO_CPU == SH7043 )	/* FX,MMLÇ≈íZèk¿ﬁ≤‘ŸNo.Ç™ÅA000Å`or001Å`Ç∆à·Ç§éûÇÃÇΩÇﬂ */
					CMN_UnsignedIntToASC( &List.S.Print[3-1],
										 (UWORD)(SYB_ExecQueue[number].ExecDial.ExecNumber.Speed+OPR_SPEED_DIAL_MIN),
										 2, '0' );
 #else
					CMN_UnsignedIntToASC( &List.S.Print[3-1],
										 (UWORD)(SYB_ExecQueue[number].ExecDial.ExecNumber.Speed + 1),
										 2, '0' );
 #endif
				}
#elif (PRO_KEYPANEL == PANEL_SATSUKI2)  || (PRO_KEYPANEL == PANEL_STOCKHM2) /* (F250ÇÕíZèkÉ_ÉCÉÑÉãÇÕç≈ëÂ80åèÇ≈Ç∑Ç©ÇÁÅAíZèk¿ﬁ≤‘ŸNoÅAÇ™S01ÅAS02Å`S80Ç‹Ç≈Ç…ïœçXÇ∑ÇÈÇ±Ç∆) Added by SMuratec L.Z.W 2003/10/09 */
 #if ( PRO_CPU == SH7043 )	/* FX,MMLÇ≈íZèk¿ﬁ≤‘ŸNo.Ç™ÅA000Å`or001Å`Ç∆à·Ç§éûÇÃÇΩÇﬂ */
  #if (PRO_OKI == ENABLE)	/* äCäOÇ≈ÇÕíZèkìôÇÃì™ï∂éöÇ™âpåÍÇ∆à·Ç§ÇÃÇ≈ÅAïœçXÇ≈Ç´ÇÈÇÊÇ§Ç…ÇµÇ‹Ç∑ by K.Watanabe 1999/02/09 */
				List.S.Print[2-1]	= *CalculateStringAddress(&D2W_HeadCharacter_Speed);
  #else
				List.S.Print[2-1]	= 'S';
  #endif
				CMN_UnsignedIntToASC( &List.S.Print[3-1], 
									 (UWORD)(SYB_ExecQueue[number].ExecDial.ExecNumber.Speed+OPR_SPEED_DIAL_MIN), 
									 OP_SPEED_FIGURE_MAX, '0' );
 #else
				CMN_UnsignedIntToASC( &List.S.Print[3-1],
									 (UWORD)(SYB_ExecQueue[number].ExecDial.ExecNumber.Speed + 1),
									 OP_SPEED_FIGURE_MAX, '0' );
 #endif
#else	/* PANEL_POPLA_B/L/H */
 #if ( PRO_CPU == SH7043 )	/* FX,MMLÇ≈íZèk¿ﬁ≤‘ŸNo.Ç™ÅA000Å`or001Å`Ç∆à·Ç§éûÇÃÇΩÇﬂ */
  #if (PRO_OKI == ENABLE)	/* äCäOÇ≈ÇÕíZèkìôÇÃì™ï∂éöÇ™âpåÍÇ∆à·Ç§ÇÃÇ≈ÅAïœçXÇ≈Ç´ÇÈÇÊÇ§Ç…ÇµÇ‹Ç∑ by K.Watanabe 1999/02/09 */
				List.S.Print[2-1]	= *CalculateStringAddress(&D2W_HeadCharacter_Speed);
  #else
				List.S.Print[2-1]	= 'S';
  #endif
				CMN_UnsignedIntToASC( &List.S.Print[3-1],
									 (UWORD)(SYB_ExecQueue[number].ExecDial.ExecNumber.Speed+OPR_SPEED_DIAL_MIN),
									 3, '0' );
 #else
				CMN_UnsignedIntToASC( &List.S.Print[3-1],
									 (UWORD)(SYB_ExecQueue[number].ExecDial.ExecNumber.Speed + 1),
 									 3, '0' );
 #endif
#endif	/* PANEL_ANZU_L */
			}

			/**	íZèkî‘çÜÇ…â¡Ç¶ÇƒëäéËêÊñº ñîÇÕ ¿ﬁ≤±Ÿî‘çÜÇàÛéöÇ∑ÇÈ
			*	íZèk¿ﬁ≤±Ÿî‘çÜÇÕ40åÖÇ‹Ç≈ìoò^Ç≈Ç´ÇÈÇ™18åÖÇ‹Ç≈àÛéöÇ∑ÇÈ
			*/

#if (0)
** 			/* ÇhÇbÇgÇnÇtÇ©ÇÁÇÃÉtÉBÅ[ÉhÉoÉbÉN By O.Kimoto 1998/03/30 */
** 			/*
** 			** ÉäÉÇÅ[ÉgêfífÇ™ñ¢ìoò^Ç»ÇÁÇeÇOÇèëÇ≠èÍçáÇ™Ç†ÇÈÇÃÇ≈ÇeÇeÇ≈å©ÇƒÇ¢ÇÈÇ∆Ç®Ç©ÇµÇ≠Ç»ÇÈ
** 			** 1997/10/03 M.Shimizu
** 			*/
** 			if ( SYB_SpeedDial[SYB_ExecQueue[number].ExecDial.ExecNumber.Speed].Dial[0] != LST_DIAL_NOT ) [ /**	íZèk¿ﬁ≤±ŸÇ™ìoò^Ç≥ÇÍÇƒÇ¢ÇÈèÍçá	*/
#else
			if ( (SYB_SpeedDial[SYB_ExecQueue[number].ExecDial.ExecNumber.Speed].Dial[0] & 0xF0) != 0xF0 ) { /**	íZèk¿ﬁ≤±ŸÇ™ìoò^Ç≥ÇÍÇƒÇ¢ÇÈèÍçá	*/
#endif
				if ( SYB_SpeedDial[SYB_ExecQueue[number].ExecDial.ExecNumber.Speed].Name[0] != NULL ) { /**	ëäéËêÊñºÇ™ìoò^Ç≥ÇÍÇƒÇ¢ÇÈèÍçá	*/
#if (0)	/* ï∂éöêîÇ™ëΩÇ¢à◊ÅAårê¸Ç™è¡Ç≥ÇÍÇÈ 1998/05/18 By M.Kuwahara */
//					CMN_StringCopy( &List.S.Print[7],
//					  SYB_SpeedDial[SYB_ExecQueue[number].ExecDial.ExecNumber.Speed].Name );
#endif
				/*	CMN_StringCopyNum( &List.S.Print[7-1],By Y.Suzuki 1998/05/19 */
				/* CMN_StringCopyNum ÇÕÅANULLÇåüèoÇµÇƒÇ≠ÇÍÇ»Ç¢ÅBÉSÉ~ÉfÅ[É^Ç™ç⁄ÇÈÇ±Ç∆Ç™óLÇÈÅB*/
#if (PRO_OP_SPPED_4_FIGURE == ENABLE) /* îCà”íZèkÇSåÖâª 2002/02/13 By M.Maeda */	/* if 1 Ç…Ç»Ç¡ÇƒÇ¢ÇΩÇ™ÅAÇRåÖéûÇ…ï∂éöÇ™Ç∏ÇÍÇÈÇÃÇ≈èåèÇ¬ÇØÇ‹Ç∑ 2003/01/07 T.Takagi */
					if (CHK_UNI_OptionalSpeedDial() != 0) {
						CMN_StringCopyNumUntilNull(&List.S.Print[8-1],
							  SYB_SpeedDial[SYB_ExecQueue[number].ExecDial.ExecNumber.Speed].Name, dial_length - 9);
					}
					else {
						CMN_StringCopyNumUntilNull( &List.S.Print[7-1],
/*							  SYB_SpeedDial[SYB_ExecQueue[number].ExecDial.ExecNumber.Speed].Name, 21 );*/
							/* êºóÔÇSåÖëŒâû bythonda1999/11/16 */
							  SYB_SpeedDial[SYB_ExecQueue[number].ExecDial.ExecNumber.Speed].Name, dial_length - 8 );
					}
#else
					CMN_StringCopyNumUntilNull( &List.S.Print[7-1],
/*						  SYB_SpeedDial[SYB_ExecQueue[number].ExecDial.ExecNumber.Speed].Name, 21 );*/
						/* êºóÔÇSåÖëŒâû bythonda1999/11/16 */
						  SYB_SpeedDial[SYB_ExecQueue[number].ExecDial.ExecNumber.Speed].Name, dial_length - 8 );
#endif
				}
				else { /**	ëäéËêÊñºÇ™ìoò^Ç≥ÇÍÇƒÇ¢Ç»Ç¢èÍçáìdòbî‘çÜÇàÛéöÇ∑ÇÈ	*/
					CMN_BCD_ToASC_String( List.S.Work,
					  SYB_SpeedDial[SYB_ExecQueue[number].ExecDial.ExecNumber.Speed].Dial );
/*					CMN_StringCopyNum( &List.S.Print[7], List.S.Work, 18 );*/	/* 1998/05/18 By M.Kuwahara */
				/*	CMN_StringCopyNum( &List.S.Print[7-1], List.S.Work, 18 );By Y.Suzuki 1998/05/19 */

					/* ¿ﬁ≤‘ŸåÖÇ™21ï∂éöÇâzÇ¶ÇΩÇÁÅu••â∫20åÖÅvÇàÛéöÇ∑ÇÈèàóùí«â¡ 1998/10/28 Y.Matsukuma */
					num_cnt = DialWithinCheck(List.S.Work);
#if (0)
//					if (CHK_UNI_DialWithin() && num_cnt > 21) {	/* ’∆∞∏SW I7-0 */
//						num_cnt = num_cnt - 21;
//						List.S.Work[num_cnt] = LST_A_TENTEN;
//							CMN_StringCopyNum( &List.S.Print[7-1], &List.S.Work[num_cnt], 21 );
//					}
//					else {
//							CMN_StringCopyNum( &List.S.Print[7-1], List.S.Work, 21 );
//					}
#else
					/*
					 * Åu••â∫20åÖÅvÇàÛéöÇ∑ÇÈèàóùÇ∆êºóÔÇSåÖëŒâûÇÃèàóùÇ™ìØéûÇ…Ç†ÇÈÇ∆ÅA
					 * ê≥ÇµÇ≠Åu••â∫20åÖÅvÇàÛéöÇ≈Ç´Ç»Ç¢ïsãÔçá bythonda2000/03/13
					 */
 #if (PRO_OP_SPPED_4_FIGURE == ENABLE) /* îCà”íZèkÇSåÖâª 2002/02/13 By M.Maeda */	/* if 1 Ç…Ç»Ç¡ÇƒÇ¢ÇΩÇ™ÅAÇRåÖéûÇ…ï∂éöÇ™Ç∏ÇÍÇÈÇÃÇ≈èåèÇ¬ÇØÇ‹Ç∑ 2003/01/07 T.Takagi */
					if (CHK_UNI_OptionalSpeedDial() != 0) {
						if (CHK_UNI_DialWithin() && (num_cnt > (dial_length - 9))) {	/* ’∆∞∏SW I7-0 */
							num_cnt = num_cnt - dial_length + 9;
							List.S.Work[num_cnt] = LST_A_TENTEN;
							/* êºóÔÇSåÖëŒâû bythonda1999/11/16 */
							CMN_StringCopyNum( &List.S.Print[8-1], &List.S.Work[num_cnt], dial_length - 9 );
						}
						else {
							/* êºóÔÇSåÖëŒâû bythonda1999/11/16 */
							CMN_StringCopyNum( &List.S.Print[8-1], List.S.Work, dial_length - 9 );
						}
					}
					else {
						if (CHK_UNI_DialWithin() && (num_cnt > (dial_length - 8))) {	/* ’∆∞∏SW I7-0 */
							num_cnt = num_cnt - dial_length + 8;
							List.S.Work[num_cnt] = LST_A_TENTEN;
							/* êºóÔÇSåÖëŒâû bythonda1999/11/16 */
							CMN_StringCopyNum( &List.S.Print[7-1], &List.S.Work[num_cnt], dial_length - 8 );
						}
						else {
							/* êºóÔÇSåÖëŒâû bythonda1999/11/16 */
							CMN_StringCopyNum( &List.S.Print[7-1], List.S.Work, dial_length - 8 );
						}
					}
 #else
  #if 0	/* ÉvÉåÉtÉBÉbÉNÉXÅ{É_ÉCÉÑÉãî‘çÜÇ≈40åÖÇí¥Ç¶ÇƒÇ‡ê‹ÇËï‘ÇµÇƒàÛéöÇµÇ»Ç¢ÇÃÇ≈ÅAëÂìáÇ≥ÇÒämîFÇÃè„ÅAÉäÉXÉgÇ≈ÇÃìWäJÇÕé~ÇﬂÇ‹Ç∑ by K.Watanabe 2004/11/12 */
//  #if defined(STOCKHM2) || (PRO_PREFIX_KEY == ENABLE)	/* DVT: Added by SMuratec K.W.Q 2004/09/09 *//* by K.Watanabe 2004/10/12 */
//				if (List.S.Work[0] == '!'){
//					length = CMN_StringLength(SYB_MercuryDialBuffer);	/* É}ÉLÉÖÉäÅ[ìoò^åÖ */
//					List.S.Print[6] = '[';
//					
//					if (CHK_UNI_DialWithin() && num_cnt > (dial_length - 9 - length)){	/* ’∆∞∏SW I7-0 */
//						if (length > 3){
//							List.S.Print[7] = LST_A_TENTEN;
//							CMN_StringCopyNum( &List.S.Print[8], &SYB_MercuryDialBuffer[length - 3], 3);
//							List.S.Print[11] = ']';
//							
//							if (num_cnt > dial_length - 13){
//								List.S.Print[12] = LST_A_TENTEN;
//								CMN_StringCopyNum( &List.S.Print[13],
//									&List.S.Work[num_cnt - dial_length + 15], dial_length - 15);
//							}
//							else{
//								CMN_StringCopyNum( &List.S.Print[12], &List.S.Work[1], dial_length - 14);
//							}
//						}
//						else{
//							CMN_StringCopyNum( &List.S.Print[7], &SYB_MercuryDialBuffer, length);
//							List.S.Print[7 + length] = ']';
//					
//							List.S.Print[8 + length] = LST_A_TENTEN;
//							CMN_StringCopyNum( &List.S.Print[9 + length],
//								&List.S.Work[num_cnt - dial_length + 11 + length],
//								dial_length - 11 -length);
//						}
//					}
//					else{
//						CMN_StringCopyNum( temp_str, &SYB_MercuryDialBuffer, length);
//						temp_str[length] = ']';
//						CMN_StringCopyNum( &temp_str[1 + length], &List.S.Work[1], dial_length - 8);
//						CMN_StringCopyNum( &List.S.Print[7], temp_str, dial_length - 9);
//					}
//					
//				}
//				else{
//					if (CHK_UNI_DialWithin() && (num_cnt > (dial_length - 8))) {	/* ’∆∞∏SW I7-0 */
//						num_cnt = num_cnt - dial_length + 8;
//						List.S.Work[num_cnt] = LST_A_TENTEN;
//
//						CMN_StringCopyNum( &List.S.Print[7-1], &List.S.Work[num_cnt], dial_length - 8 );
//					}
//					else {
//						CMN_StringCopyNum( &List.S.Print[7-1], List.S.Work, dial_length - 8 );
//					}
//				}
  #else
 					if (CHK_UNI_DialWithin() && (num_cnt > (dial_length - 8))) {	/* ’∆∞∏SW I7-0 */
						num_cnt = num_cnt - dial_length + 8;
						List.S.Work[num_cnt] = LST_A_TENTEN;
						/* êºóÔÇSåÖëŒâû bythonda1999/11/16 */
						CMN_StringCopyNum( &List.S.Print[7-1], &List.S.Work[num_cnt], dial_length - 8 );
					}
					else {
						/* êºóÔÇSåÖëŒâû bythonda1999/11/16 */
						CMN_StringCopyNum( &List.S.Print[7-1], List.S.Work, dial_length - 8 );
					}
  #endif 			/*	End of defined(STOCKHM2) || (PRO_PREFIX_KEY == ENABLE) */
 #endif
#endif
				}
			}
			break;
		}
#if (PRO_BATCH_TX == ENABLE)
	}
#endif

	/**Mode */
		/* êºóÔÇSåÖëŒâû bythonda1999/11/16 */
		if (TxConfYearPrint) {
			CommunicationModeName( SYB_ExecQueue[number].Mode, &List.S.Print[24 - 1],
			  &List.S.Attribute[22 - 1] );
		}
		else {
			CommunicationModeName( SYB_ExecQueue[number].Mode, &List.S.Print[29 - 1],
			  &List.S.Attribute[29 - 1] );
		}

	/**Start */
		/* êºóÔÇSåÖëŒâû bythonda1999/11/16 */
		if (TxConfYearPrint) {
			CriterionMinuteToDayTimeAsc( SYB_ExecQueue[number].StartTime/60, LST_YYYYMMDDHHMM1,
			  List.S.Work );
			CMN_StringCopy( &List.S.Print[33 - 1], List.S.Work );
		}
		else {
			CriterionMinuteToDayTimeAsc( SYB_ExecQueue[number].StartTime/60, LST_DDHHMM,
			  List.S.Work );
			CMN_StringCopy( &List.S.Print[39 - 1], List.S.Work );
		}

	/**Time */
	if (CHK_UNI_TCR_NoneTxTime() == FALSE) {	/* 1998/10/06 By M.Kuwahara */
		SecondToMinuteSecondAsc( SYB_ExecQueue[number].TotalTime,
		  List.S.Work , ' ' );

		if (TxConfYearPrint) {		/* êºóÔÇSåÖëŒâû 2000/03/16 M.matsumoto */
			CMN_StringCopy( &List.S.Print[50-1], List.S.Work );
		}
		else {
			CMN_StringCopy( &List.S.Print[48-1], List.S.Work );
		}
	}

	/**Pages */
	CMN_UnsignedIntToASC_NULL( List.S.Work,
	  ((UWORD)SYB_ExecQueue[number].Page ), 3, ' ' );

		if (TxConfYearPrint) {		/* êºóÔÇSåÖëŒâû 2000/03/16 M.matsumoto */
			CMN_StringCopy( &List.S.Print[57-1], List.S.Work );
		}
		else {
			CMN_StringCopy( &List.S.Print[55-1], List.S.Work );
		}

	/**Result */
	if ( (SYB_ExecQueue[number].Result & ECM_MODE_SET) != 0 ) {

		if (TxConfYearPrint) {		/* êºóÔÇSåÖëŒâû 2000/03/16 M.matsumoto */
			List.S.Print[62-1] = '*';
		}
		else {
			List.S.Print[60-1] = '*';
		}
	}

	/* à»â∫3çsí«â¡ By O.Kimoto 1997/06/27 */
	if ( (SYB_ExecQueue[number].Result & V34_MODE_SET) != 0 ) {	/* ÇuÇRÇSåêMéû */

		if (TxConfYearPrint) {		/* êºóÔÇSåÖëŒâû 2000/03/16 M.matsumoto */
			List.S.Print[62-1] = '#';
		}
		else {
			List.S.Print[60-1] = '#';
		}
	}

#if (PRO_NEW_TX_CONF == ENABLE) /* 2000/2/4 K.Kawata */
	if (TxConfYearPrint) {		/* êºóÔÇSåÖëŒâû 2000/03/16 M.matsumoto */
		CommunicationResultName(SYB_ExecQueue[number].Result, LST_NAME_SHORT,
		LST_RESULT_COMMON, &List.S.Print[63-1], &List.S.Attribute[61-1]);
	}
	else {
		CommunicationResultName(SYB_ExecQueue[number].Result, LST_NAME_SHORT,
		LST_RESULT_COMMON, &List.S.Print[61-1], &List.S.Attribute[61-1]);
	}
#else
	if (TxConfYearPrint) {		/* êºóÔÇSåÖëŒâû 2000/03/16 M.matsumoto */
		CommunicationResultName( SYB_ExecQueue[number].Result, LST_NAME_SHORT,
		  LST_RESULT_TX_CONF, &List.S.Print[64-1], &List.S.Attribute[62-1] );
	}
	else {
		CommunicationResultName( SYB_ExecQueue[number].Result, LST_NAME_SHORT,
		  LST_RESULT_TX_CONF, &List.S.Print[62-1], &List.S.Attribute[62-1] );
		/* CMN_StringCopyNULL( &List.S.Print[63] , PWRD_Ok); */ /* For debug 1996/05/20 */
	}
#endif

	/**Note */

	if ( SYB_ExecQueue[number].Kind == SYS_COMMAND_TRX ) {
		if (TxConfYearPrint) {		/* êºóÔÇSåÖëŒâû 2000/03/16 M.matsumoto */
			CommunicationKindName( SYB_CommandFile[SYS_DocumentPrintNo].Option.Item, LST_NAME_1,
			  &List.S.Print[71-1], &List.S.Attribute[71-1] );
		}
		else {
			CommunicationKindName( SYB_CommandFile[SYS_DocumentPrintNo].Option.Item, LST_NAME_1,
			  &List.S.Print[71-1], &List.S.Attribute[71-1] );
		}
	}
#if (PRO_BATCH_TX == ENABLE)	/* 97/10/15 By M.Kuwahara */
	else{
 #if defined(POPLAR_F)
		if (TxConfYearPrint) {		/* êºóÔÇSåÖëŒâû 2000/03/16 M.matsumoto */
			AttributeSet( &List.S.Print[71-1], &List.S.Attribute[71-1], PWRD_Batch, LST_NOT );
		}
		else {
			AttributeSet( &List.S.Print[71-1], &List.S.Attribute[71-1], PWRD_Batch, LST_NOT );
		}
 #else
		AttributeSet( &List.S.Print[68-1], &List.S.Attribute[68-1], PWRD_Batch, LST_NOT );
 #endif
	}
#endif
	if ( (ret = CharacterPrint( (UBYTE)(LST_PRINT+prn_mode) )) != OK ) {
		return ( ret );
	}

#if (PRO_NEW_TX_CONF == DISABLE) /* By H.Fujimura 2000/01/28 */
	/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
	Print_TxConf_Line(4, List.S.Print, List.S.Attribute);
	if ((ret = CharacterPrint((UBYTE)(LST_PRINT+prn_mode))) != OK) {
		return (ret);
	}
#endif

	return (OK);
}



/*************************************************************************
	module		:[éËìÆëóêMÇÃëóêMèÿÇÇPí êMàÛç¸]
	function	:[
		1.
	]
	return		:[]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[LST]
	date		:[1996/06/24]
	author		:[ïΩîˆ âpìT]
*************************************************************************/
WORD					Print_ManualTxConf_Detail(
								UBYTE number )	/*ëóêMÉtÉ@ÉCÉãî‘çÜ*/
{
	WORD	ret;			/**é¿çsåãâ  */

#if defined(EUR)	/* DTSëŒçÙ[Bb5.1.1-4] Journal(TCR)ÇÃãLèqï˚ñ@ S.Fukui Nov.5,1999 */
					/* kakiÇ©ÇÁà⁄êA by M.Harada 1999/11/17 */
	if (Print_TTI_InsteadOfLineNumber(number, 1) == TRUE) {
		if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
	  		return ( ret );
		}
	}
#else	/* è]óàèàóù */
	/* à»â∫ÇTçsí«â¡ By O.Kimoto 1997/06/27 */
 #if !defined(KEISATSU)	/* åxé@FAX DVT_ID60 Modify by SMuratec âƒ 2005/12/07 */
	if (Print_LineNumber(number, 1) == TRUE) {
		if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
	  		return ( ret );
		}
	}
 #endif
#endif

	/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
	Print_TxConf_Line( 0, List.S.Print, List.S.Attribute );
	if ( (ret = CharacterPrint(LST_PRINT)) != OK ) {
		return ( ret );
	}

	/**ÅETelephone NumberÅEModeÅEStartÅETimeÅEPageÅEResultÅENoteÅE*/
	Print_TxConf_Line( 1, List.S.Print, List.S.Attribute );
	if ( (ret = CharacterPrint(LST_PRINT)) != OK ) {
		return ( ret );
	}

	/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
	Print_TxConf_Line( 2, List.S.Print, List.S.Attribute );
	if ( (ret = CharacterPrint(LST_PRINT)) != OK ) {
		return ( ret );
	}

	/**Üæ                      Ü¢      ÅE      ÅE     ÅE      ÅE      ÅE     ÅE*/
	Print_TxConf_Line( 3, List.S.Print, List.S.Attribute );

	/**Location*/
	CMN_StringCopy( &List.S.Print[2-1], SYB_JournalFile[number].RemoteID_TTI );

	if (TxConfYearPrint) {		/* êºóÔÇSåÖëŒâû 2000/03/16 M.Matsumoto */
		/**Mode */
		CommunicationModeName( SYB_JournalFile[number].Mode, &List.S.Print[24-1], &List.S.Attribute[24-1] );
		/**Start */
		CriterionMinuteToDayTimeAsc( SYB_JournalFile[number].StartTime/60, LST_YYYYMMDDHHMM1, List.S.Work );
		CMN_StringCopy( &List.S.Print[33-1], List.S.Work );
	}
	else {
		/**Mode */
		CommunicationModeName( SYB_JournalFile[number].Mode, &List.S.Print[29-1], &List.S.Attribute[29-1] );
		/**Start */
		CriterionMinuteToDayTimeAsc( SYB_JournalFile[number].StartTime/60, LST_DDHHMM, List.S.Work );
		CMN_StringCopy( &List.S.Print[39-1], List.S.Work );
	}

	/**Time */
	if (CHK_UNI_TCR_NoneTxTime() == FALSE) {	/* 1998/11/10 By M.Kuwahara */
		SecondToMinuteSecondAsc( SYB_JournalFile[number].TotalTime, List.S.Work , ' ' );
	
		if (TxConfYearPrint) {		/* êºóÔÇSåÖëŒâû 2000/03/16 M.Matsumoto */
			CMN_StringCopy( &List.S.Print[50-1], List.S.Work );
		}
		else {
			CMN_StringCopy( &List.S.Print[48-1], List.S.Work );
		}
	}

	/**Pages */
	CMN_UnsignedIntToASC_NULL( List.S.Work, ((UWORD)SYB_JournalFile[number].Page ), 3, ' ' );

	if (TxConfYearPrint) {		/* êºóÔÇSåÖëŒâû 2000/03/16 M.Matsumoto */
		CMN_StringCopy( &List.S.Print[57-1], List.S.Work );
	}
	else {
		CMN_StringCopy( &List.S.Print[55-1], List.S.Work );
	}
	
	/**Result */
	if ( (SYB_JournalFile[number].Result & ECM_MODE_SET) != 0 ) {
		if (TxConfYearPrint) {		/* êºóÔÇSåÖëŒâû 2000/03/16 M.Matsumoto */
			List.S.Print[62-1] = '*';
		}
		else {
			List.S.Print[60-1] = '*';
		}
	}
#if defined(POPLAR_F) || (defined(POPLAR_H) && defined(JP0)) || defined(SAKAKI) /* SAKAKIí«â¡ By M.Maeda 2002/12/11 */
	if ( (SYB_JournalFile[number].Result & V34_MODE_SET) != 0 ) {	/* ÇuÇRÇSåêMéû */
		if (TxConfYearPrint) {		/* êºóÔÇSåÖëŒâû 2000/03/16 M.Matsumoto */
			List.S.Print[62-1] = '#';
		}
		else {
			List.S.Print[60-1] = '#';
		}
	}
#elif defined(STOCKHM2)		/* DVT: Added by SMuratec K.W.Q 2004/09/17 */
	if ( (SYB_JournalFile[number].Result & V34_MODE_SET) != 0 ) {	/* ÇuÇRÇSåêMéû */
		if (TxConfYearPrint) {		/* êºóÔÇSåÖëŒâû 2000/03/16 M.Matsumoto */
			List.S.Print[62-1] = '#';
		}
		else {
			List.S.Print[60-1] = '#';
		}
	}
#endif

#if (PRO_NEW_TX_CONF == ENABLE)	/* 2000/03/16 M.Matsumoto */
	if (TxConfYearPrint) {		/* êºóÔÇSåÖëŒâû 2000/03/16 M.Matsumoto */
		CommunicationResultName( SYB_JournalFile[number].Result, LST_NAME_SHORT,
	  LST_RESULT_COMMON, &List.S.Print[63-1], &List.S.Attribute[61-1] );
	}
	else {
			CommunicationResultName( SYB_JournalFile[number].Result, LST_NAME_SHORT,
		  LST_RESULT_COMMON, &List.S.Print[61-1], &List.S.Attribute[61-1] );
	}
#else
	if (TxConfYearPrint) {		/* êºóÔÇSåÖëŒâû 2000/03/16 M.Matsumoto */
		CommunicationResultName( SYB_JournalFile[number].Result, LST_NAME_SHORT,
		  LST_RESULT_TX_CONF, &List.S.Print[64-1], &List.S.Attribute[62-1] );
	}
	else {
		CommunicationResultName( SYB_JournalFile[number].Result, LST_NAME_SHORT,
		  LST_RESULT_TX_CONF, &List.S.Print[62-1], &List.S.Attribute[62-1] );
	}
#endif

	/**Note */
	if (TxConfYearPrint) {		/* êºóÔÇSåÖëŒâû 2000/03/16 M.Matsumoto */
		CommunicationKindName( SYB_JournalFile[number].Kind, LST_NAME_1,
		  &List.S.Print[71-1], &List.S.Attribute[71-1] );
	}
	else {
		CommunicationKindName( SYB_JournalFile[number].Kind, LST_NAME_1,
		  &List.S.Print[71-1], &List.S.Attribute[71-1] );
	}
	
	if ( (ret = CharacterPrint(LST_PRINT)) != OK ) {
		return ( ret );
	}

#if (PRO_NEW_TX_CONF == ENABLE) /* 2000/03/16 M.Matsumoto */
	if ( (SYB_JournalFile[number].Result & 0x0C00) == NO_ERROR ) {
		/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
		Print_TxConf_Line( 4, List.S.Print, List.S.Attribute );
		if ( (ret = CharacterPrint(LST_PRINT)) != OK ) {
			return ( ret );
		}
	}
	else {
		Print_TxConf_Line( 5, List.S.Print, List.S.Attribute );
		if ( (ret = CharacterPrint(LST_PRINT)) != OK ) {
			return ( ret );
		}
		if ( (ret = MunualTxDocumentMessage(number)) != OK ) {
			return (ret);
		}
	}

#else

	/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
	Print_TxConf_Line( 4, List.S.Print, List.S.Attribute );
	if ( (ret = CharacterPrint(LST_PRINT)) != OK ) {
		return ( ret );
	}
#endif

	return ( OK );
}

/*************************************************************************
	module		:[ÇPâ¸çsÅ{î≠êMå≥ñºÅAî‘çÜàÛç¸Å{ÇQâ¸çs]
	function	:[ÇPâ¸çsÅ{î≠êMå≥ñºÅAî‘çÜàÛç¸Å{ÇQâ¸çsÇçsÇ§ÅB]
	common		:[
		SYB_TTI_Buffer	:
		SYB_ID_Buffer	:
	]
	condition	:[]
	commment	:[]
	return		:[àÛç¸åãâ ]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[LST]
	date		:[93/11/25]
	author		:[ëùìcéüòY]
*************************************************************************/
WORD			TTI_ID_Print_Feed(
						 void )		/*Ç»Çµ*/
{
	register WORD	ret;					/*é¿çsåãâ */

	/*ÇPçsàÛéöÅiâ¸çsÅj*/
	if ( (ret = CharacterPrint( LST_LINE_FEED )) != OK ) {
		return ( ret );
	}
	/*î≠êMå≥ñºÅ{î≠êMå≥î‘çÜ*/
	Prn_Att_Str_Clear( List.S.Print, List.S.Attribute );

#if (0)
** /* ÉWÉÉÅ[ÉiÉãÉvÉäÉìÉgéûÅAâÒê¸ñàÇÃî≠êMå≥èÓïÒàÛéöëŒâû By O.Kimoto 1999/11/09 */
** /* ÇoÇnÇoÇkÇ`ÇqÅQÇg ïWèÄÇQâÒê¸é˚óeëŒâûÇÃà◊ By O.Kimoto 1997/11/01 */
** #if (PRO_LINENUMBER == TWICE_LINE)
** 	CMN_StringCopy( &List.S.Print[1-1], &SYB_TTI_Buffer[0][0]);
** 	if ( SYB_ID_Buffer[0][0] != NULL ) {
** 		AttributeSet( &List.S.Print[24-1], &List.S.Attribute[24-1], PWRD_FaxD,
** 		  LST_NOT );
** 		CMN_StringCopy( &List.S.Print[28-1], &SYB_ID_Buffer[0][0]);
** 	}
** #else
** 	CMN_StringCopy( &List.S.Print[1-1], SYB_TTI_Buffer);
** 	if ( SYB_ID_Buffer[0] != NULL ) {
** 		AttributeSet( &List.S.Print[24-1], &List.S.Attribute[24-1], PWRD_FaxD,
** 		  LST_NOT );
** 		CMN_StringCopy( &List.S.Print[28-1], SYB_ID_Buffer);
** 	}
** #endif
#else
 #if (PRO_COM_RESULT == ENABLE) /* 2002/08/22 By M.Maeda */
	if ((SYS_DocumentPrintItem == LST_JOURNAL_LIST) 				/**í êMä«óùÉåÉ|Å[ÉgÅuëóéÛêMÅv*/
	 || (SYS_DocumentPrintItem == LST_COM_RESULT_LIST)) {
 #else
	if (SYS_DocumentPrintItem == LST_JOURNAL_LIST) {				/**í êMä«óùÉåÉ|Å[ÉgÅuëóéÛêMÅv*/
 #endif
		/* ÉWÉÉÅ[ÉiÉãÇÃèÍçá */
 #if (PRO_MULTI_LINE == ENABLE)
  #if (PRO_LINENUMBER == TWICE_LINE)
		if (JournalLineNumber == 1) {	/* ì‡ë†âÒê¸Ç≈Ç∑ */
			CMN_StringCopy( &List.S.Print[1-1], &SYB_TTI_Buffer[InternalLineNumber][0]);
			if ( SYB_ID_Buffer[InternalLineNumber][0] != NULL ) {
				AttributeSet( &List.S.Print[24-1], &List.S.Attribute[24-1], PWRD_FaxD,LST_NOT );
				CMN_StringCopy( &List.S.Print[28-1], &SYB_ID_Buffer[InternalLineNumber][0]);
			}
		}
		else {	/* äOïtÇØâÒê¸Ç≈Ç∑ */
			CMN_StringCopy( &List.S.Print[1-1], &SYB_Option_TTI_Buffer[(JournalLineNumber - 1)][0]);
			if ( SYB_Option_ID_Buffer[(JournalLineNumber -1)][0] != NULL ) {
				AttributeSet( &List.S.Print[24-1], &List.S.Attribute[24-1], PWRD_FaxD, LST_NOT );
				CMN_StringCopy( &List.S.Print[28-1], &SYB_Option_ID_Buffer[(JournalLineNumber -1)][0]);
			}
		}
  #else
		if (JournalLineNumber == 1) {	/* ì‡ë†âÒê¸Ç≈Ç∑ */
			CMN_StringCopy( &List.S.Print[1-1], SYB_TTI_Buffer);
			if ( SYB_ID_Buffer[0] != NULL ) {
				AttributeSet( &List.S.Print[24-1], &List.S.Attribute[24-1], PWRD_FaxD,LST_NOT );
				CMN_StringCopy( &List.S.Print[28-1], SYB_ID_Buffer);
			}
		}
		else {	/* äOïtÇØâÒê¸Ç≈Ç∑ */
			CMN_StringCopy( &List.S.Print[1-1], &SYB_Option_TTI_Buffer[(JournalLineNumber - 1)][0]);
			if ( SYB_Option_ID_Buffer[(JournalLineNumber -1)][0] != NULL ) {
				AttributeSet( &List.S.Print[24-1], &List.S.Attribute[24-1], PWRD_FaxD, LST_NOT );
				CMN_StringCopy( &List.S.Print[28-1], &SYB_Option_ID_Buffer[(JournalLineNumber -1)][0]);
			}
		}
  #endif
 #else
  /* è]óàÇÃÉpÉ^Å[Éì */
  #if (PRO_LINENUMBER == TWICE_LINE)
		CMN_StringCopy( &List.S.Print[1-1], &SYB_TTI_Buffer[0][0]);
		if ( SYB_ID_Buffer[0][0] != NULL ) {
			AttributeSet( &List.S.Print[24-1], &List.S.Attribute[24-1], PWRD_FaxD,
			  LST_NOT );
			CMN_StringCopy( &List.S.Print[28-1], &SYB_ID_Buffer[0][0]);
		}
  #else
	 #if defined(EUR)		/* addedbythonda1999/11/04 */
							/* kakiÇ©ÇÁà⁄êA by M.Harada 1999/11/17 */
		/* ÇQâÒê¸édólÇÃÉWÉÉÅ[ÉiÉãÇÃÉwÉbÉ_Å[ïîï™Ç…ç⁄ÇπÇÈî≠êMå≥ñºÅEî≠êMå≥î‘çÜÇÕ	*/
		/* ÇQâÒê¸ñ⁄ÇÃî≠êMå≥ÇÃèÓïÒÇç⁄ÇπÇÈéñÇ…ÇµÇ‹Ç∑ÅB							*/
		if ( JournalLineNumber == 1 ) {
			CMN_StringCopy( &List.S.Print[1-1], SYB_TTI_Buffer);
			if ( SYB_ID_Buffer[0] != NULL ) {
				AttributeSet( &List.S.Print[24-1], &List.S.Attribute[24-1], PWRD_FaxD, LST_NOT );
				CMN_StringCopy( &List.S.Print[28-1], SYB_ID_Buffer);
			}
		}
		else {
			CMN_StringCopy( &List.S.Print[1-1], &SYB_Option_TTI_Buffer[JournalLineNumber - 1][0]);
			if ( SYB_Option_ID_Buffer[JournalLineNumber - 1][0] != NULL ) {
				AttributeSet( &List.S.Print[24-1], &List.S.Attribute[24-1], PWRD_FaxD, LST_NOT );
				CMN_StringCopy( &List.S.Print[28-1], &SYB_Option_ID_Buffer[JournalLineNumber -1][0]);
			}
		}

	 #else
			CMN_StringCopy( &List.S.Print[1-1], SYB_TTI_Buffer);
			if ( SYB_ID_Buffer[0] != NULL ) {
				AttributeSet( &List.S.Print[24-1], &List.S.Attribute[24-1], PWRD_FaxD,
				  LST_NOT );
				CMN_StringCopy( &List.S.Print[28-1], SYB_ID_Buffer);
			}
	 #endif
  #endif
 #endif

	}
	else {
	/* ÉWÉÉÅ[ÉiÉãà»äOÇÃèÍçá */
 #if (PRO_LINENUMBER == TWICE_LINE)
		CMN_StringCopy( &List.S.Print[1-1], &SYB_TTI_Buffer[0][0]);
		if ( SYB_ID_Buffer[0][0] != NULL ) {
			AttributeSet( &List.S.Print[24-1], &List.S.Attribute[24-1], PWRD_FaxD,
			  LST_NOT );
			CMN_StringCopy( &List.S.Print[28-1], &SYB_ID_Buffer[0][0]);
		}
 #else
		CMN_StringCopy( &List.S.Print[1-1], SYB_TTI_Buffer);
		if ( SYB_ID_Buffer[0] != NULL ) {
			AttributeSet( &List.S.Print[24-1], &List.S.Attribute[24-1], PWRD_FaxD,
			  LST_NOT );
			CMN_StringCopy( &List.S.Print[28-1], SYB_ID_Buffer);
		}
 #endif
	}
#endif


#if ( PRO_MAKER == FX )		/* FXÇÕî≠êMå≥ÉäÉXÉgÇ≈åªç›ì˙éûÇ‡ïtÇØÇÈ 94.09.14 */
	if (SYS_DocumentPrintItem == LST_TTI_LIST) {
		TimeDataAscii( ON, SYB_CurrentTime, &List.S.Print[49-1], 0 );
	}
#endif
	if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
		return ( ret );
	}

	/*ÇQçsàÛéöÅiâ¸çsÅj*/
	if ( (ret = CharacterPrint( LST_LINE_FEED +2)) != OK ) {
		return ( ret );
	}
	return ( OK );
}

/*************************************************************************
	module		:[àÛç¸ÅAèCè¸ï∂éöóÒÉNÉäÉAÅ[Ån
	function	:[àÛç¸ÅAèCè¸ï∂éöóÒÇÉNÉäÉAÅ[Ç∑ÇÈÅB]
	common		:[]
	condition	:[
		àÛç¸ï∂éöóÒ
		,	ïKóvÇ»Ç¢éûÇÕÅAÉ|ÉCÉìÉ^Å[Ç…ÉkÉãÉ|ÉCÉìÉ^Å[ÇÉZÉbÉg
		èCè¸ï∂éöóÒ
		,	ïKóvÇ»Ç¢éûÇÕÅAÉ|ÉCÉìÉ^Å[Ç…ÉkÉãÉ|ÉCÉìÉ^Å[ÇÉZÉbÉg
	]
	commment	:[
		near call Ç far call Ç…ïœçX	Line 346
	]
	return		:[Ç»Çµ]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[LST]
	date		:[93/11/25]
	author		:[ëùìcéüòY]
*************************************************************************/
void			Prn_Att_Str_Clear(	/* '94.09/09 By M.mannnami */
						 register UBYTE *prn_str,/*àÛç¸ï∂éöóÒ*/
						 register UBYTE *att_str )	/*èCè¸ï∂éöóÒ*/
{
	if ( prn_str != NULL_PT ) {
		CMN_MemorySetNULL( prn_str, LST_COLUM-1, ' ' );
	}
	if ( att_str != NULL_PT ) {
		CMN_MemorySetNULL( att_str, LST_COLUM-1, ' ' );
	}
}

/*************************************************************************
	module		:[åªç›ì˙éûàÛç¸]
	function	:[åªç›ì˙éûÇéwíËåÖà íuÇ…àÛç¸Ç∑ÇÈÅB]
	common		:[
		List			:
		SYB_CurrentTime	:
	]
	condition	:[]
	commment	:[]
	return		:[àÛç¸åãâ ]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[LST]
	date		:[93/11/25]
	author		:[ëùìcéüòY]
*************************************************************************/
WORD				CurrentTimePrint(
						 UBYTE LocateX )	/*àÛç¸åÖà íu*/
{

	Prn_Att_Str_Clear( List.S.Print, List.S.Attribute );
	TimeDataAscii( OFF, SYB_CurrentTime, List.S.Work, 0 );
	CMN_StringCopy( &List.S.Print[LocateX], List.S.Work);
	return ( CharacterPrint( LST_PRINT ) );
}

/*************************************************************************
	module		:[ëóêMèÿÅAéÛóÃèÿÇÃâ°ãÊêÿÇËårê¸çÏê¨]
	function	:[ëóêMèÿÅAéÛóÃèÿÇÃâ°ãÊêÿÇËårê¸ÇçÏê¨Ç∑ÇÈÅB]
	common		:[]
	condition	:[
		årê¸éÌóﬁ
		,	0 = ÜÆÜ¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü≤
		,	1 = Ü§						  Ü§
		,	2 = ÜæÜ¢Ü¢Ü¢Ü¢Ü¢ÜŒÜ¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü∆
		,	3 = Ü§			Ü§			  Ü§
		,	4 = ÜæÜ¢Ü¢Ü¢Ü¢Ü¢ÜﬁÜ¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü∆
		,	5 = Ü∂Ü¢Ü¢Ü¢Ü¢Ü¢Ü÷Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü∫
	]
	commment	:[]
	return		:[Ç»Çµ]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[LST]
	date		:[93/11/25]
	author		:[ëùìcéüòY]
*************************************************************************/
void				Print_Conf_List_Line(
						 UBYTE Category,			/*årê¸éÌóﬁ*/
						 register UBYTE *AscString,	/*àÛç¸ï∂éöóÒ*/
						 register UBYTE *AttString )/*èCè¸ï∂éöóÒ*/
{
	Prn_Att_Str_Clear( AscString, AttString );
	switch ( Category ) {
		case 0:
			/*ÜÆÜ¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü≤*/
			AscString[13-1] = LST_KLINE7;
			CMN_MemorySet( &AscString[14-1], 53, LST_KLINE_ );
			AscString[67-1] = LST_KLINE9;
			break;
		case 1:
			/*Ü§						Ü§*/
			AscString[13-1] = LST_KLINEI;
			AscString[67-1] = LST_KLINEI;
			break;
		case 2:
			/*ÜæÜ¢Ü¢Ü¢Ü¢Ü¢ÜŒÜ¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü∆*/
			AscString[13-1] = LST_KLINE4;
			CMN_MemorySet( &AscString[14-1], 53, LST_KLINE_ );
			AscString[33-1] = LST_KLINE8;
			AscString[67-1] = LST_KLINE6;
			break;
		case 3:
			/*Ü§		  Ü§			Ü§*/
			AscString[13-1] = LST_KLINEI;
			AscString[33-1] = LST_KLINEI;
			AscString[67-1] = LST_KLINEI;
			break;
		case 4:
			/*ÜæÜ¢Ü¢Ü¢Ü¢Ü¢ÜﬁÜ¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü∆*/
			AscString[13-1] = LST_KLINE4;
			CMN_MemorySet( &AscString[14-1], 53, LST_KLINE_ );
			AscString[33-1] = LST_KLINE5;
			AscString[67-1] = LST_KLINE6;
			break;
		case 5:
			/*Ü∂Ü¢Ü¢Ü¢Ü¢Ü¢Ü÷Ü¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü∫*/
			AscString[13-1] = LST_KLINE1;
			CMN_MemorySet( &AscString[14-1], 53, LST_KLINE_ );
			AscString[33-1] = LST_KLINE2;
			AscString[67-1] = LST_KLINE3;
			break;
#if (PRO_COM_RESULT == ENABLE) /* 2002/08/22 By M.Maeda */
		case 6:
			/*Ü¢Ü¢Ü¢Ü¢Ü¢ÜŒÜ¢Ü¢Ü¢Ü¢Ü¢Ü¢Ü∆*/
			AscString[13-1] = LST_KLINE7;
			CMN_MemorySet( &AscString[14-1], 53, LST_KLINE_ );
			AscString[33-1] = LST_KLINE8;
			AscString[67-1] = LST_KLINE9;
			break;
#endif
	}
}

/*************************************************************************
	module		:[ëóêMèÿÇÃâ°ãÊêÿÇËårê¸çÏê¨]
	function		:[ëóêMèÿÇÃâ°ãÊêÿÇËårê¸ÇçÏê¨Ç∑ÇÈÅB]
	common		:[]
	condition		:[
				  årê¸éÌóﬁ
		,			0 = ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE
		,			1 = ÅETelephone NumberÅEModeÅEStartÅETimeÅEPageÅEResultÅENoteÅE
		,			2 = ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE
		,			3 = Üæ                      Ü¢      ÅE      ÅE     ÅE      ÅE      ÅE     ÅE
					4 = ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE
					5 = ÅE   Location     ÅEModeÅEStartÅETimeÅEPageÅEResultÅENoteÅE
					ÉâÉCÉìÇTÇí«â¡ÇµÇ‹Ç∑ 1997/11/12 Y.Matsukuma
					]
	commment	:[]
	return		:[Ç»Çµ]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[LST]
	date		:[Apr.16,1996]
	author		:[ïΩîˆ âpìT]
*************************************************************************/
void				Print_TxConf_Line(
								UBYTE Category,			/**årê¸éÌóﬁ */
						 		UBYTE *AscString,			/**àÛç¸ï∂éöóÒ */
						 		UBYTE *AttString )			/**èCè¸ï∂éöóÒ */
{

	Prn_Att_Str_Clear( AscString, AttString );
	switch ( Category ) {
		case 0:
			/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
			AscString[1-1] = LST_KLINE7;
			CMN_MemorySet( &AscString[2-1], 78, LST_KLINE_ );

			if( TxConfYearPrint ) {		/* êºóÔÇSåÖëŒâû 2000/3/16 M.Matsumoto	*/
				AscString[23-1] = LST_KLINE8;
				AscString[32-1] = LST_KLINE8;
				AscString[49-1] = LST_KLINE8;
				AscString[56-1] = LST_KLINE8;
				AscString[61-1] = LST_KLINE8;
				AscString[69-1] = LST_KLINE8;
				AscString[80-1] = LST_KLINE9;

			}
			else {
				AscString[28-1] = LST_KLINE8;
				AscString[38-1] = LST_KLINE8;
				AscString[47-1] = LST_KLINE8;
				AscString[54-1] = LST_KLINE8;
				AscString[59-1] = LST_KLINE8;
				AscString[67-1] = LST_KLINE8;
				AscString[80-1] = LST_KLINE9;

			}
			break;
		case 1:
			/**ÅETelephone NumberÅEModeÅEStartÅETimeÅEPageÅEResultÅENoteÅE*/
			AscString[1-1] = LST_KLINEI;

			if( TxConfYearPrint ) {		/* êºóÔÇSåÖëŒâû 2000/3/16 M.Matsumoto	*/
				AttributeSet( &AscString[4 - 1], &AttString[4 - 1], PWRD_TeleNumber, LST_NOT );
				AttributeSet( &AscString[23 - 1], &AttString[23 - 1], PWRD_Mode, LST_NOT );
				AscString[22] = LST_KLINEI;
				AscString[31] = LST_KLINEI;
				AttributeSet( &AscString[37 - 1], &AttString[37 - 1], PWRD_Start, LST_NOT );
				AscString[49-1] = LST_KLINEI;
				AttributeSet( &AscString[50-1], &AttString[50-1], PWRD_Time, LST_NOT );
				AscString[56-1] = LST_KLINEI;
				AttributeSet( &AscString[57-1], &AttString[57-1], PWRD_Page, LST_NOT );
				AscString[61-1] = LST_KLINEI;
				AttributeSet( &AscString[62-1], &AttString[62-1], PWRD_Result, LST_NOT );
				AscString[69-1] = LST_KLINEI;
				AttributeSet( &AscString[71-1], &AttString[71-1], PWRD_Note, LST_NOT );
				AscString[80-1] = LST_KLINEI;

			}
			else {
				AttributeSet( &AscString[5 - 1], &AttString[5 - 1], PWRD_TeleNumber, LST_NOT );
				AscString[27] = LST_KLINEI;
				AttributeSet( &AscString[29 - 1], &AttString[29 - 1], PWRD_Mode, LST_NOT );
				AscString[37] = LST_KLINEI;
				AttributeSet( &AscString[39 - 1], &AttString[39 - 1], PWRD_Start, LST_NOT );
				AscString[47-1] = LST_KLINEI;
				AttributeSet( &AscString[48-1], &AttString[48-1], PWRD_Time, LST_NOT );
				AscString[54-1] = LST_KLINEI;
				AttributeSet( &AscString[55-1], &AttString[55-1], PWRD_Page, LST_NOT );
				AscString[59-1] = LST_KLINEI;
				AttributeSet( &AscString[60-1], &AttString[60-1], PWRD_Result, LST_NOT );
				AscString[67-1] = LST_KLINEI;
				AttributeSet( &AscString[71-1], &AttString[71-1], PWRD_Note, LST_NOT );
				AscString[80-1] = LST_KLINEI;

			}

			break;
		case 2:
			/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
			AscString[1-1] = LST_KLINE4;
			CMN_MemorySet( &AscString[1], 78, LST_KLINE_ );

			if( TxConfYearPrint ) {		/* êºóÔÇSåÖëŒâû 2000/3/16 M.Matsumoto	*/
				AscString[23-1] = LST_KLINE5;
				AscString[32-1] = LST_KLINE5;
				AscString[49-1] = LST_KLINE5;
				AscString[56-1] = LST_KLINE5;
				AscString[61-1] = LST_KLINE5;
				AscString[69-1] = LST_KLINE5;
				AscString[80-1] = LST_KLINE6;

			}
			else {
				AscString[28-1] = LST_KLINE5;
				AscString[38-1] = LST_KLINE5;
				AscString[47-1] = LST_KLINE5;
				AscString[54-1] = LST_KLINE5;
				AscString[59-1] = LST_KLINE5;
				AscString[67-1] = LST_KLINE5;
				AscString[80-1] = LST_KLINE6;
			}
			break;
		case 3:
			/**Üæ                      Ü¢      ÅE      ÅE     ÅE      ÅE      ÅE     ÅE*/
			AscString[1-1] = LST_KLINEI;

			if( TxConfYearPrint ) {		/* êºóÔÇSåÖëŒâû 2000/3/16 M.Matsumoto	*/
				AscString[23-1] = LST_KLINEI;
				AscString[32-1] = LST_KLINEI;
				AscString[49-1] = LST_KLINEI;
				AscString[56-1] = LST_KLINEI;
				AscString[61-1] = LST_KLINEI;
				AscString[69-1] = LST_KLINEI;
				AscString[80-1] = LST_KLINEI;

			}
			else {
				AscString[28-1] = LST_KLINEI;
				AscString[38-1] = LST_KLINEI;
				AscString[47-1] = LST_KLINEI;
				AscString[54-1] = LST_KLINEI;
				AscString[59-1] = LST_KLINEI;
				AscString[67-1] = LST_KLINEI;
				AscString[80-1] = LST_KLINEI;
			}
			break;
		case 4:
			/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
			AscString[1-1] = LST_KLINE1;
			CMN_MemorySet( &AscString[1], 78, LST_KLINE_ );

			if( TxConfYearPrint ) {		/* êºóÔÇSåÖëŒâû 2000/3/16 M.Matsumoto	*/
				AscString[23-1] = LST_KLINE2;
				AscString[32-1] = LST_KLINE2;
				AscString[49-1] = LST_KLINE2;
				AscString[56-1] = LST_KLINE2;
				AscString[61-1] = LST_KLINE2;
				AscString[69-1] = LST_KLINE2;
				AscString[80-1] = LST_KLINE3;

			}
			else {
				AscString[28-1] = LST_KLINE2;
				AscString[38-1] = LST_KLINE2;
				AscString[47-1] = LST_KLINE2;
				AscString[54-1] = LST_KLINE2;
				AscString[59-1] = LST_KLINE2;
				AscString[67-1] = LST_KLINE2;
				AscString[80-1] = LST_KLINE3;
			}
			break;
#if (PRO_NEW_TX_CONF == ENABLE) /* 2000/2/4 K.Kawata */
	case 5:
		/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
		AscString[1-1] = LST_KLINE4;
		CMN_MemorySet(&AscString[1], 78, LST_KLINE_);

		if( TxConfYearPrint ) {		/* êºóÔÇSåÖëŒâû M.matsumoto 2000/03/16	*/
			AscString[23-1] = LST_KLINE2;
			AscString[32-1] = LST_KLINE2;
			AscString[49-1] = LST_KLINE2;
			AscString[56-1] = LST_KLINE2;
			AscString[61-1] = LST_KLINE2;
			AscString[69-1] = LST_KLINE2;
			AscString[80-1] = LST_KLINE6;

		}
		else {
			AscString[28-1] = LST_KLINE2;
			AscString[38-1] = LST_KLINE2;
			AscString[47-1] = LST_KLINE2;
			AscString[54-1] = LST_KLINE2;
			AscString[59-1] = LST_KLINE2;
			AscString[67-1] = LST_KLINE2;
			AscString[80-1] = LST_KLINE6;
		}
		break;
	case 6:
		/**ÅEÅ@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@ÅE*/
		AscString[1-1] = LST_KLINEI;
		AscString[80-1] = LST_KLINEI;
		break;
	case 7:
		/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
		AscString[1-1] = LST_KLINE4;
		CMN_MemorySet(&AscString[2-1], 78, LST_KLINE_);
		if( TxConfYearPrint ) {		/* êºóÔÇSåÖëŒâû M.matsumoto 2000/03/16	*/
			AscString[23-1] = LST_KLINE8;
			AscString[32-1] = LST_KLINE8;
			AscString[49-1] = LST_KLINE8;
			AscString[56-1] = LST_KLINE8;
			AscString[61-1] = LST_KLINE8;
			AscString[69-1] = LST_KLINE8;
			AscString[80-1] = LST_KLINE6;
		}
		else {
			AscString[28-1] = LST_KLINE8;
			AscString[38-1] = LST_KLINE8;
			AscString[47-1] = LST_KLINE8;
			AscString[54-1] = LST_KLINE8;
			AscString[59-1] = LST_KLINE8;
			AscString[67-1] = LST_KLINE8;
			AscString[80-1] = LST_KLINE6;
		}
		break;
	case 8:
		/**ÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅEÅE*/
		AscString[1-1] = LST_KLINE1;
		CMN_MemorySet(&AscString[1], 78, LST_KLINE_);
		AscString[80-1] = LST_KLINE3;
		break;
#endif
#if (0)
** 		case 5:	/* LocationÇ…ïœçX 1998/01/08 Y.Matsukuma */
** 			/**ÅELocationÅEModeÅEStartÅETimeÅEPageÅEResultÅENoteÅE*/
** 			AscString[1-1] = LST_KLINEI;
** 			AttributeSet( &AscString[4], &AttString[4], PWRD_RemoteLocation, LST_NOT );
** 			AscString[28-1] = LST_KLINEI;
** 			AttributeSet( &AscString[29-1], &AttString[29-1], PWRD_Mode, LST_NOT );
** 			AscString[38-1] = LST_KLINEI;
** 			AttributeSet( &AscString[39-1], &AttString[39-1], PWRD_Start, LST_NOT );
** 			AscString[47-1] = LST_KLINEI;
** 			AttributeSet( &AscString[48-1], &AttString[48-1], PWRD_Time, LST_NOT );
** 			AscString[54-1] = LST_KLINEI;
** 			AttributeSet( &AscString[55-1], &AttString[55-1], PWRD_Page, LST_NOT );
** 			AscString[59-1] = LST_KLINEI;
** 			AttributeSet( &AscString[60-1], &AttString[60-1], PWRD_Result, LST_NOT );
** 			AscString[67-1] = LST_KLINEI;
** 			AttributeSet( &AscString[71-1], &AttString[71-1], PWRD_Note, LST_NOT );
** 			AscString[80-1] = LST_KLINEI;
** 			break;
#endif
	}
}

/*************************************************************************
	module		:[ÉâÉCÉìî‘çÜàÛéö]
	function	:[
		1.
	]
	return		:[TRUE: ï\é¶Ç∑ÇÈ
				  FALSE:ï\é¶ÇµÇ»Ç¢]
	common		:[]
	condition	:[]
	comment		:[checkÇ™ÇOÅFSYS_ExecQueue[number]
				  checkÇ™ÇPÅFSYS_JournalFile[number]
				]
	machine		:[V53]
	language	:[MS-C(Ver.6.0)]
	keyword		:[OPR]
	date		:[1996/12/28]
	author		:[èºåG]
*************************************************************************/
UBYTE	Print_LineNumber(UBYTE number, UBYTE check)
{
	UBYTE	line_number;
#if (PRO_LINENUMBER == TWICE_LINE)	/* ã^éóÇQâÒê¸édól by T.Soneoka 1997/11/20 */
	UBYTE	option;
#endif

#if (PRO_LINENUMBER == TWICE_LINE)	/* ã^éóÇQâÒê¸édól by T.Soneoka 1997/03/11 */
#else
	if (OPT_CountModems() < 2) { /* énÇﬂÇ…ÅAï°êîâÒê¸Ç∂Ç·Ç»Ç©Ç¡ÇΩÇÁÅAÇÕÇ∂Ç≠ÇÊÇ§Ç…ÇµÇ‹Ç∑ÅB1997/03/12 Y.Matsukuma */
		return(FALSE);
	}
#endif

	Prn_Att_Str_Clear( List.S.Print, List.S.Attribute );

#if (PRO_LINENUMBER == TWICE_LINE)	/* ã^éóÇQâÒê¸édól by T.Soneoka 1997/11/20 */
	if (check == 0) {
		option = SYB_ExecQueue[number].Option;
	}
	else {
		option = (UBYTE)SYB_JournalFile[number].Option;
	}
#endif

/* å≥Ç…ñﬂÇµÇ‹Ç∑ by T.Soneoka 1998/03/18 */
/* â∫ãLÅAëŒâûÇ≥ÇÍÇΩï˚ÅI è„ãLèàóùÇ∆ì‡óeÇ™àŸÇ»Ç¡ÇƒÇ¢Ç‹Ç∑ÅBïœçXÉçÉOÇ…ÇÕãLç⁄ÇµÇƒâ∫Ç≥Ç¢ÅB S.Fukui */
/* è„ãLèàóùÇ…Ç‹Ç∆ÇﬂÇ‹Ç∑ÅAÇ‚Ç¡ÇƒÇÈÇ±Ç∆ÇÕìØÇ∂ */
	if (check == 0) {
		if (SYB_ExecQueue[number].StackNumber == 0xFF) {	/* èâä˙ílÇÃÇ‹Ç‹Ç»ÇÁï\é¶ÇµÇ»Ç¢ */
			return(FALSE);
		}
		line_number = OPT_GetMultiLinrNumber(SYB_ExecQueue[number].StackNumber);
	}
	else {
		if (SYB_ExecQueue[number].StackNumber == 0xFF) {	/* èâä˙ílÇÃÇ‹Ç‹Ç»ÇÁï\é¶ÇµÇ»Ç¢ */
			return(FALSE);
		}
		line_number = OPT_GetMultiLinrNumber((UBYTE)SYB_JournalFile[number].StackNumber);
	}

	AttributeSet( &List.S.Print[1-1], &List.S.Attribute[1-1],
	  				PWRD_LineNumber, LST_NOT );

#if (PRO_LINENUMBER == TWICE_LINE)	/* ã^éóÇQâÒê¸édól by T.Soneoka 1997/11/20 */
	if (line_number == 1) {
		if (!(option & SYS_EXT_LINE_TX)) {
			AttributeSet( &List.S.Print[13-1], &List.S.Attribute[13-1], PWRD_LineName[0], LST_NOT );
		}
		else {
			AttributeSet( &List.S.Print[13-1], &List.S.Attribute[13-1], PWRD_LineName[1], LST_NOT );
		}
	}
	else {
		AttributeSet( &List.S.Print[13-1], &List.S.Attribute[13-1], PWRD_LineName[2], LST_NOT );
	}
#else
	CMN_UnsignedIntToASC( &List.S.Print[13-1], line_number, 1, '0' );
	/* âÒê¸î‘çÜï\é¶Ç ñ{ëÃÅÅÇPÅAÇ`ÇkÅ|ÇPÇOÇOÅÅÇQÇ∆Ç»ÇÈÇÊÇ§Ç…Ç∑ÇÈÅBBy S.Fukui Mar.18,1998 */
	/* è„ãLÇå≥Ç…ñﬂÇµÇΩÇÃÇ≈Ç±ÇÃèàóùÇ‡ñﬂÇµÇ‹Ç∑ by T.Soneoka 1998/03/18 */
/* CMN_UnsignedIntToASC( &List.S.Print[13-1], line_number + 1, 1, '0' ); */
#endif
	return(TRUE);
}


#if (PRO_JOURNAL_PRINT_TIME == DISABLE)	/* ì˙óßì¡ãñâÒî 1998/10/28 Y.Matsukuma */
/*************************************************************************
	module		:[ÉLÉÖÅ[ÇÃëóêMÉXÉ^Å[Égéûä‘ÇìæÇÈ]
	function	:[
		1.
	]
	return		:[]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[V53]
	language	:[MS-C(Ver.6.0)]
	keyword		:[OPR]
	date		:[1998/10/22]
	author		:[èºåG]
*************************************************************************/
UDWORD	TranceTime()
{
	UBYTE	i;
	UBYTE	j;

	j = 0xFF;

	for ( i = 0; i < SYS_EXEC_QUEUE_MAX; i++ ) {
		if ( (SYS_DocumentPrintClass == SYS_PRINT_CLASS_LIST_MONITOR)			/* ”∆¿∞⁄Œﬂ∞ƒ */
		&&((SYB_ExecQueue[i].Kind == SYS_COMMAND_TRX) || (SYB_ExecQueue[i].Kind == SYS_BATCH_TX))
		&&(SYB_ExecQueue[i].Number.Command == (UBYTE)SYS_DocumentPrintNo)
		&&((SYB_ExecQueue[i].Status == SYS_EXEC_ERROR) || (SYB_ExecQueue[i].Status == SYS_EXEC_OK)) ) {
			if (j == 0xFF) {
				j = i;
			}
			/* àÍî‘énÇﬂÇ…ëóêMÇµÇΩéûä‘Çí≤Ç◊ÇÈ */
			if (SYB_ExecQueue[i].StartTime < SYB_ExecQueue[j].StartTime 
				&& SYB_ExecQueue[i].StartTime != 0) {
				j = i;
			}
		}
	}

	/* ÇOÇ∆Ç¢Ç§ílÇÕÅAçlÇ¶ÇÁÇÍÇ»Ç¢Ç™ÅAîOÇÃÇΩÇﬂÇOÇÃÇ∆Ç´åªç›éûçèÇì¸ÇÍÇ∆Ç´Ç‹Ç∑ */
	if (SYB_ExecQueue[j].StartTime == 0 || j == 0xFF) {
		SYB_ExecQueue[j].StartTime = SYB_CurrentTime;
	}
	return(SYB_ExecQueue[j].StartTime);
}

#endif

/*************************************************************************
	module		:[É_ÉCÉÑÉãî‘çÜàÛéöîÕàÕ]
	function	:[
		1.
	]
	return		:[]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[V53]
	language	:[MS-C(Ver.6.0)]
	keyword		:[OPR]
	date		:[1998/10/23]
	author		:[èºåG]
*************************************************************************/
UBYTE	DialWithinCheck(CONST UBYTE *work)
{
	UBYTE i;

	for(i = 0; i < LST_COLUM; i++) {
		if (work[i] == NULL) {
			return(i);
		}
	}
	return(i);
}
			/* 2000/2/4 K.Kawata */
#if defined(EUR) || (PRO_NEW_TX_CONF == ENABLE)	/* DTSëŒçÙ[Bb5.1.1-4] Journal(TCR)ÇÃãLèqï˚ñ@ S.Fukui Nov.5,1999 */
					/* kakiÇ©ÇÁà⁄êA by M.Harada 1999/11/17 */
/*************************************************************************
	module		:[í êMâÒê¸ñàÇÃî≠êMå≥ñºàÛéö]
	function	:[
		ÇPÅDLine Number:x ÇÃë„ÇÌÇËÇ…égópÇµÇΩâÒê¸ÇÃî≠êMå≥ñºÇàÛéöÇ∑ÇÈÅB
	]
	return		:[TRUE: ï\é¶Ç∑ÇÈ
				  FALSE:ï\é¶ÇµÇ»Ç¢]
	common		:[]
	condition	:[]
	comment		:[checkÇ™ÇOÅFSYS_ExecQueue[number]	  ÅF Murata Machinery   Fax:075-672-1234
				  checkÇ™ÇPÅFSYS_JournalFile[number]  ÅF Murata Machinery   Fax:075-672-1234
				]
	machine		:[SH7043]
	language	:[MS-C(Ver.6.0)]
	keyword		:[OPR]
	date		:[1999/11/04]
	author		:[ïüà‰]
*************************************************************************/
UBYTE	Print_TTI_InsteadOfLineNumber(UWORD number, UBYTE check)
{
	UBYTE	line_number;

	if (OPT_CountModems() < 2) { /* énÇﬂÇ…ÅAï°êîâÒê¸Ç∂Ç·Ç»Ç©Ç¡ÇΩÇÁÅAÇÕÇ∂Ç≠ÇÊÇ§Ç…ÇµÇ‹Ç∑ÅB */
		return(FALSE);
	}

	Prn_Att_Str_Clear( List.S.Print, List.S.Attribute );

	if (check == 0) {
		if (SYB_ExecQueue[number].StackNumber == 0xFF) {	/* èâä˙ílÇÃÇ‹Ç‹Ç»ÇÁï\é¶ÇµÇ»Ç¢ */
			return(FALSE);
		}
		line_number = OPT_GetMultiLinrNumber(SYB_ExecQueue[number].StackNumber);
	}
	else {
		if (SYB_ExecQueue[number].StackNumber == 0xFF) {	/* èâä˙ílÇÃÇ‹Ç‹Ç»ÇÁï\é¶ÇµÇ»Ç¢ */
			return(FALSE);
		}
		line_number = OPT_GetMultiLinrNumber((UBYTE)SYB_JournalFile[number].StackNumber);
	}

	if ( line_number == 1 ) {
		CMN_StringCopy( &List.S.Print[1-1], SYB_TTI_Buffer);
		if ( SYB_ID_Buffer[0] != NULL ) {
			AttributeSet( &List.S.Print[24-1], &List.S.Attribute[24-1], PWRD_FaxD, LST_NOT );
			CMN_StringCopy( &List.S.Print[28-1], SYB_ID_Buffer);
		}
	}
	else {
		CMN_StringCopy( &List.S.Print[1-1], &SYB_Option_TTI_Buffer[line_number - 1][0]);
		if ( SYB_Option_ID_Buffer[line_number - 1][0] != NULL ) {
			AttributeSet( &List.S.Print[24-1], &List.S.Attribute[24-1], PWRD_FaxD, LST_NOT );
			CMN_StringCopy( &List.S.Print[28-1], &SYB_Option_ID_Buffer[line_number - 1][0]);
		}
	}

	return(TRUE);
}

#endif /* defined(EUR) (PRO_NEW_TX_CONF == ENABLE) 2000.2.9 K.Kawata */
#if (PRO_NEW_TX_CONF == ENABLE) /* 2000/2/16 K.Kawata */
/*************************************************************************
	module		:[êVçƒëóÉÅÉbÉZÅ[ÉW]
	function	:[
		1.
	]
	return		:[]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[OPR]
	date		:[2000/2/16]
	author		:[K.Kawata]
*************************************************************************/
void	NewSendDocumentMessage(UWORD exec_cnt)
{
	UBYTE	batch_no;
	UBYTE	check_poll;
	UBYTE	is_total_page_prt;
	UBYTE	page_prt_pos;		/* ÉyÅ[ÉWàÛéöà íu	*/
	UWORD	tx_page;			/* ï™éq				*/
	UWORD	total_page;			/* ï™ïÍ				*/
	UWORD 	index_no;

	total_page = (UWORD)0;

	/**ÅEÅ@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@ÅE*/
	Print_TxConf_Line(6, List.S.Print, List.S.Attribute);
 #if (PRO_JIS_CODE == ENABLE)
	CMN_StringCopy(&List.S.Print[1], (UBYTE *)"Å™");
 #else
	CMN_StringCopy(&List.S.Print[1], (UBYTE *)"–");
 #endif
	/*¬≥º›πØ∂ “Øæ∞ºﬁ*/
	if ((SYS_DocumentPrintClass == SYS_PRINT_CLASS_LIST_MONITOR)
	 || (SYS_DocumentPrintClass == SYS_PRINT_CLASS_LIST_BA_MONITOR)) {	/* ”∆¿∞⁄Œﬂ∞ƒON àÍäáëóêM */
		if ((SYB_ExecQueue[exec_cnt].Result & ~ECM_MODE_SET) == NO_ERROR) { /* ê≥èÌèIóπéû  */
			AttributeSet(&List.S.Print[3], &List.S.Attribute[3], PWRD_CheckMessage, LST_NOT);
		}
		else {														/* ¥◊∞èIóπéû */
			CommunicationResultName(SYB_ExecQueue[exec_cnt].Result, LST_NAME_LONG,
			  LST_RESULT_COMMON, &List.S.Print[3], &List.S.Attribute[3]);
		}
	}
	else {
		/* ¡™Ø∏“Øæ∞ºﬁ */
		CommunicationResultName(SYB_ExecQueue[exec_cnt].Result, LST_NAME_LONG,
		  LST_RESULT_COMMON, &List.S.Print[3], &List.S.Attribute[3]);
	}

	/* T.4.2Ç∆T.5.3ÇÕÅAàÛéöÇµÇΩÇÁÇ¢ÇØÇ»Ç¢ */
	if ((SYB_ExecQueue[exec_cnt].Result & 0x0cff) == (TRANSMITERROR | 0x0042) 
	 || (SYB_ExecQueue[exec_cnt].Result & 0x0cff) == (TRANSMITERROR | 0x0053)) {
		return;
	}

	switch (SYB_ExecQueue[exec_cnt].Kind) {
	case SYS_COMMAND_TRX:
		total_page = SYB_CommandFile[SYB_ExecQueue[exec_cnt].Number.Command].Page;
		check_poll = SYB_CommandFile[SYB_ExecQueue[exec_cnt].Number.Command].Option.Item;
		if ((check_poll == SYS_POLLING_RX) 
		 || (check_poll == SYS_DB_POLLING_RX) 
		 || (check_poll == SYS_SELECT_POLLING_RX)) {
			/* É|Å[ÉäÉìÉOÇÃèÍçáÇÕÅAàÛéöÇµÇ»Ç¢ */
			return;
		}
		break;
	case SYS_BATCH_TX:
		batch_no = SYB_ExecQueue[exec_cnt].Number.Batch;
		for (index_no = 0;  index_no < SYS_BATCH_INDEX_MAX; index_no++) {
			if (SYB_BatchTxFile[batch_no].IndexNo[index_no] == SYS_BAT_DOC_STORE) {
				total_page += MEM_CountFinalPage(SYS_MEM_BATCH_TX_FILE1 + batch_no, index_no, MEM_IGNORE_BOX_NUMBER);
			}
		}
		break;
	default:
		return;
	}

	/* R.*.*ÇÕÅAàÛéöÇµÇΩÇÁÇ¢ÇØÇ»Ç¢ */
	if ((SYB_ExecQueue[exec_cnt].Result & RECEIVEERROR) == RECEIVEERROR) {
		return;
	}

#if (PRO_PRINT_TYPE == THERMAL_TRANS)	/* 2003/03/10 H.Yoshikawa */
	/*---------------------------------------------------------------
	 * OCAédólÇ…Ç¬Ç¢ÇƒÇÕÅAéÛêMë§OCR_HostÇ≈ÇÕÅAí êMÉGÉâÅ[ÇÕîpä¸Ç≥ÇÍÇÈédólÇ∆Ç»Ç¡ÇƒÇ¢Ç‹Ç∑ÅB
	 * í êMÉGÉâÅ[Ç™î≠ê∂ÇµÇΩèÍçáÇ…ÇÕÅAÇPÉyÅ[ÉWñ⁄Ç©ÇÁëóêMÇµÇ»Ç®Ç∑ïKóvÇ™Ç†ÇËÇ‹Ç∑ÅB
	 * OCAÇ©ÇÁÇÃóvãÅÇ…ÇÊÇËÅuxÉyÅ[ÉWÇ©ÇÁ•••ÅvÇàÛéöÇµÇ‹ÇπÇÒÅB
	 * 2003/03/10 H.Yoshikawa
	 */
	if (CHK_OCA_Specification()) {
		return;
	}
#endif

	/* ì˙ñ{åÍÇÃéûÇæÇØÇÕÅAÉyÅ[ÉWêîÇêÊÇ…àÛéöÇ∑ÇÈÇÃÇ≈íçà”Ç™ïKóvÇ≈Ç∑ */
 #if defined(JPN)
	if (SYB_WordingNumber == 1) {	/* ëIëÇ≥ÇÍÇƒÇ¢ÇÈÉèÅ[ÉfÉBÉìÉOÇ™ì˙ñ{åÍÇÃéû */
		page_prt_pos = 38;
	}
	else {
		CMN_StringCopy(&List.S.Print[38], PWRD_SendDocument);	/* "Send the document(s) from page" */
		page_prt_pos = (UBYTE)(CMN_StringLength(CalculateStringAddress(PWRD_SendDocument)) + 39);
	}
 #else
	CMN_StringCopy(&List.S.Print[38], PWRD_SendDocument);	/* "Send the document(s) from page" */
	page_prt_pos = (UBYTE)(CMN_StringLength(CalculateStringAddress(PWRD_SendDocument)) + 39);
 #endif

	/* ï™ïÍÇ™ÇOÅiÉXÉLÉÉÉiëóêMÅjÇ©ÅAï™ïÍÇÊÇËï™éqÇ™è¨Ç≥Ç¢éûÇÕÅAï™éqÇÃÇ›àÛéö */
	tx_page = SYB_ExecQueue[exec_cnt].Page;

	if ((total_page == 0) || (total_page < tx_page)) {
		is_total_page_prt = FALSE;
	}
	else {
		is_total_page_prt = TRUE;
	}

	/* çƒëóéûÉÅÉbÉZÅ[ÉW */
	if (tx_page < 100) {
		CMN_UnsignedIntToASC(&List.S.Print[page_prt_pos], tx_page + 1, 2, ' ');
		page_prt_pos += 2;
		if (is_total_page_prt) {
			List.S.Print[page_prt_pos] = '/';
			page_prt_pos += 1;
			if (total_page < 100) {
				CMN_UnsignedIntToASC(&List.S.Print[page_prt_pos], total_page, 2, ' ');
				page_prt_pos += 2;
			}
			else {
				CMN_UnsignedIntToASC(&List.S.Print[page_prt_pos], total_page, 3, ' ');
				page_prt_pos += 3;
			}
		}
	}
	else {
		CMN_UnsignedIntToASC(&List.S.Print[page_prt_pos], tx_page + 1, 3, ' ');
		page_prt_pos += 3;
		if (is_total_page_prt) {
			List.S.Print[page_prt_pos] = '/';
			page_prt_pos += 1;
			CMN_UnsignedIntToASC(&List.S.Print[page_prt_pos], total_page, 3, ' ');
			page_prt_pos += 3;
		}
	}
 #if defined(JPN)
	if (SYB_WordingNumber == 1) {	/* ëIëÇ≥ÇÍÇƒÇ¢ÇÈÉèÅ[ÉfÉBÉìÉOÇ™ì˙ñ{åÍÇÃéû */
		CMN_StringCopy(&List.S.Print[page_prt_pos + 1], PWRD_SendDocument);	/* "Õﬂ∞ºﬁÇ©ÇÁëóÇËíºÇµÇƒÇ≠ÇæÇ≥Ç¢ÅB " */
	}
 #endif
}
/*************************************************************************
	module		:[éËìÆëóéûêVçƒëóÉÅÉbÉZÅ[ÉW]
	function	:[
		1.
	]
	return		:[]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[OPR]
	date		:[2000/3/16]
	author		:[èºñ{ê≥çK]
*************************************************************************/
WORD	MunualTxDocumentMessage(UWORD journal_num)
{
	WORD	ret;			/**é¿çsåãâ  */

	/**ÅEÅ@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@Å@ÅE*/
	Print_TxConf_Line(6, List.S.Print, List.S.Attribute);
#if (PRO_JIS_CODE == ENABLE)
	CMN_StringCopy(&List.S.Print[1], (UBYTE *)"Å™");
#else
	CMN_StringCopy(&List.S.Print[1], (UBYTE *)"–");
#endif
	/*¬≥º›πØ∂ “Øæ∞ºﬁ*/			
	CommunicationResultName(SYB_JournalFile[journal_num].Result, LST_NAME_LONG,
	  LST_RESULT_COMMON, &List.S.Print[3], &List.S.Attribute[3]);
	if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
		return (ret);
	}
	Print_TxConf_Line( 8, List.S.Print, List.S.Attribute );
	if ( (ret = CharacterPrint( LST_PRINT )) != OK ) {
		return (ret);
	}
	return ( OK );

}
#endif
