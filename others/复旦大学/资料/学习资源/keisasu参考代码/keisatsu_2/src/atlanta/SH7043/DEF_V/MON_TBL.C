/*--------------------------------------------------------------------------*/
/*  プロジェクト : POPLAR/ANZU_L                                            */
/*  ファイル名   : MON_TBL.C                                                */
/*  作成者       : 野瀬                                                     */
/*  日  付       : 97.04.09                                                 */
/*  概  要       : モニタ管理ブロック（ＴＣＢ、ＭＣＢ等）の                 */
/*               : 先頭アドレステーブル                                     */
/*               : モニターコールから管理ブロックへのアクセスは以下の       */
/*               : ポインタを間接参照することにより行います                 */
/*  修正履歴     :                                                          */
/*--------------------------------------------------------------------------*/

#include "\src\atlanta\define\product.h"

/* ＳＡＫＡＫＩ／ＨＩＮＯＫＩ以降の機種は、マスクプログラム変更
** by O.Kimoto 1998/09/12
*/
#if (PRO_CPU_VERSION == SH7043_A)
#include "\src\cpu\sh7043_a\irom\def_v\mon_tbl.c"
#else

#include "\src\atlanta\\sh7043\define\def_mon.h"
#include "\src\atlanta\sh7043\ext_v\extv_mon.h"
#include "\src\atlanta\sh7043\ext_v\extv_mbx.h"
#include "\src\atlanta\sh7043\ext_v\extv_sem.h"

#pragma section MONTBL /* locate section name "CMONTBL" */
/************************************************
 * 管理ブロックの先頭アドレスを持つポインター群 *
 ***********************************************/
/************************************************************************
 * タスクコントロールブロックの先頭アドレス								*
 * 野瀬敏弘																*
 ************************************************************************/
CONST struct tcb_table_data_t (* CONST tcb_p) = &tcb[0];

/************************************************************************
 * セマフォコントロールブロックの先頭アドレス							*
 * 野瀬敏弘																*
 ************************************************************************/
CONST struct scb_table_data_t (* CONST scb_p) = &scb[0];

/************************************************************************
 * メッセージコントロールブロックの先頭アドレス							*
 * 野瀬敏弘																*
 ************************************************************************/
CONST UBYTE (* CONST mcb_p) = &mcb[0];

/************************************************************************
 * イベントコントロールブロックの先頭アドレス							*
 * 野瀬敏弘																*
 ************************************************************************/
CONST UBYTE (* CONST ecb_p) = &ecb[0];

/************************************************************************
 * スタックアドレスチェックテーブルの先頭アドレス						*
 * 野瀬敏弘																*
 ************************************************************************/
CONST UDWORD (* CONST MON_StackCheckTable_p) = &MON_StackCheckTable[0];

/************************************************************************
 * 大サイズのスタック領域の先頭アドレス									*
 * 野瀬敏弘																*
 ************************************************************************/
CONST UDWORD (* CONST large_stack_area_p) = &large_stack_area[0][0];

/************************************************************************
 * 小サイズのスタック領域の先頭アドレス									*
 * 野瀬敏弘																*
 ************************************************************************/
CONST UDWORD (* CONST small_stack_area_p) = &small_stack_area[0][0];

/************************************************************************
 * アイドルタスクのスタック領域の先頭アドレス							*
 * 野瀬敏弘																*
 ************************************************************************/
CONST UDWORD (* CONST initial_task_stack_area_p) = &small_stack_area[SMALL_STACK_MAX - 1][0];

/************************************************************************
 * メールボックス管理テーブルの先頭アドレス								*
 * 野瀬敏弘																*
 ************************************************************************/
CONST struct mbxno_data_t (* CONST mbxno_p) = &mbxno;

/************************************************************************
 * セマフォ管理テーブルの先頭アドレス									*
 * 野瀬敏弘																*
 ************************************************************************/
CONST struct semno_data_t (* CONST semno_p) = &semno;


/************************************
 * 管理ブロックの最大値を持つ定数群 *
 ***********************************/
/************************************************************************
 * 大タスクコントロールブロックの最大値									*
 * 野瀬敏弘																*
 ************************************************************************/
CONST UBYTE MON_MAX_LARGE_TCB = LARGE_STACK_MAX;

/************************************************************************
 * 小タスクコントロールブロックの最大値									*
 * 野瀬敏弘																*
 ************************************************************************/
CONST UBYTE MON_MAX_SMALL_TCB = SMALL_STACK_MAX;

/************************************************************************
 * 大・小合計のタスクコントロールブロックの最大値						*
 * 野瀬敏弘																*
 ************************************************************************/
CONST UBYTE MON_MAX_TCB = TOTAL_STACK_MAX;

/************************************************************************
 * 大タスクのスタックサイズ												*
 * 野瀬敏弘																*
 ************************************************************************/
CONST UWORD MON_SIZE_LARGE_STACK = LARGE_STACK;

/************************************************************************
 * 小タスクのスタックサイズ												*
 * 野瀬敏弘																*
 ************************************************************************/
CONST UWORD MON_SIZE_SMALL_STACK = SMALL_STACK;

/************************************************************************
 * スタックエリアの底アドレス											*
 * 野瀬敏弘																*
 ************************************************************************/
CONST UDWORD MON_STACK_START_ADDR = TASK_STACK_START;

/************************************************************************
 * 大タスククリエイト時のスタック開始基準アドレス						*
 * 野瀬敏弘																*
 ************************************************************************/
CONST UDWORD MON_TOP_LARGE_ADDR = TOP_LARGE_ADDR;

/************************************************************************
 * 小タスククリエイト時のスタック開始基準アドレス						*
 * 野瀬敏弘																*
 ************************************************************************/
CONST UDWORD MON_TOP_SMALL_ADDR = TOP_SMALL_ADDR;

/************************************************************************
 * ＳＣＢの最大値														*
 * 野瀬敏弘																*
 ************************************************************************/
CONST UBYTE MON_MAX_SCB = SEMNO_MAX;

/************************************************************************
 * セマフォ管理テーブルの最大値											*
 * 野瀬敏弘																*
 ************************************************************************/
CONST UBYTE MON_MAX_SEMNO = MAX_SEMNO;

/************************************************************************
 * ＭＣＢの最大値														*
 * 野瀬敏弘																*
 ************************************************************************/
CONST UWORD MON_MAX_MCB = MBXNO_MAX;

/************************************************************************
 * メールボックス管理テーブルの最大値									*
 * 野瀬敏弘																*
 ************************************************************************/
CONST UBYTE MON_MAX_MBXNO = MAX_MBXNO;

/************************************************************************
 * ＥＣＢの最大値														*
 * 野瀬敏弘																*
 ************************************************************************/
CONST UWORD MON_MAX_ECB = EVENT_MAX;

#pragma section

#endif
