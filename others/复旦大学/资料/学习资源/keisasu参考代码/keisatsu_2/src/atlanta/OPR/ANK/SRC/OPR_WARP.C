/************************************************************************
*	System		: HINOKI
*	File Name	: OPR_WARP.C
*	Author		: ì°ë∫ètïv
*	Date		: 1999/01/07
*	RealTimeOS	: ÇqÇhÇrÇbÅiÇrÇgÇVÇOÇSÇRÅjÉÇÉjÉ^Å[
*	Description	: ÇeÇ`ÇwÉèÅ[ÉvÉIÉyÉåÅ[ÉVÉáÉì
*	Maintenance	: 
*
*	Copyright (C) 1996 Murata Machinery,Ltd. All rights reserved.
*************************************************************************/
#include	"\src\atlanta\define\product.h"
#include	"\src\atlanta\define\apl_msg.h"
#include	"\src\atlanta\define\keycode.h"
#include	"\src\atlanta\define\std.h"
#include	"\src\atlanta\define\sysonet.h"
#include	"\src\atlanta\define\sysspeed.h"
#include	"\src\atlanta\opr\ank\define\opr_def.h"
#include	"\src\memsw\define\mem_sw_b.h"

#include	"\src\atlanta\define\cmn_pro.h"
#include	"\src\atlanta\define\fcm_pro.h"
#include	"\src\atlanta\define\uni_pro.h"
#include	"\src\atlanta\opr\ank\define\opr_pro.h"
#include	"\src\memsw\define\mems_pro.h"

#include	"\src\atlanta\ext_v\bkupram.h"
#include	"\src\atlanta\ext_v\ini_tbl.h"
#include	"\src\atlanta\opr\ank\ext_v\opr_data.h"
#include	"\src\atlanta\opr\ank\ext_v\opr_tbl.h"
#include	"\src\atlanta\opr\ank\ext_v\opr_wrd0.h"

#include	"\src\atlanta\define\country.h"
#include	"\src\atlanta\define\param.h"

#include	"\src\atlanta\define\stng_pro.h"

#include	"\src\atlanta\ext_v\cmn_tbl.h"

#if (PRO_RX_DOC_TRANSFER == ENABLE)	/* Add By H.Fujimura 1999/01/07 */
/*************************************************************************
	module		:[ÇeÇ`ÇwÉèÅ[Évìoò^ÉIÉyÉåÅ[ÉVÉáÉì]
	function	:[
		1.
	]
	return		:[]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[OPR]
	date		:[1999/01/07]
	author		:[ì°ë∫ètïv]
*************************************************************************/
void	EnterFaxWarp(void)
{
	UBYTE	set_cnt;	/* ÇeÇ`ÇwÉèÅ[Évìoò^êî */
	UBYTE	is_new;		/* êVãK/è„èëÇ´ì¸óÕ */

	/* ÉZÉbÉgî‘çÜÇÃèâä˙âª */
	OPR_Buf.WarpCtrl.SelectNumber = 0;

	/* ÇeÇ`ÇwÉèÅ[Évìoò^êîéÊìæ */
	set_cnt = GetWarpCount();

	while (1) {
		if (set_cnt > 0) {
			/* ÇeÇ`ÇwÉèÅ[Évìoò^î‘çÜÇÃëIë */
			if (WarpSelectNumber(set_cnt) == OPR_END) {
				return;
			}
		}
		if (SYB_WarpFile[OPR_Buf.WarpCtrl.SelectNumber].Status == SYS_WARP_EMPTY) {	/* ñ¢ìoò^ */
			is_new = TRUE;	/* êVãKì¸óÕ */
		}
		else {	/* ìoò^çœ */
			is_new = FALSE;	/* è„èëÇ´ì¸óÕ */
		}
		while (1) {
			/* ÇeÇ`ÇwÉèÅ[ÉvÉfÅ[É^ÇÃìoò^ */
			CMN_MemorySet(OPR_Buf.WarpCtrl.DisplayBuffer, (UWORD)(WARP_FIGURE_MAX + 2), NULL);
			CMN_UnsignedIntToASC(OPR_Buf.WarpCtrl.DisplayBuffer,
								 OPR_Buf.WarpCtrl.SelectNumber + OPR_WARP_MIN,
								 WARP_FIGURE_MAX,
								 '0');
			OPR_Buf.WarpCtrl.DisplayBuffer[WARP_FIGURE_MAX] = ':';
			if (WarpInput(&SYB_WarpFile[OPR_Buf.WarpCtrl.SelectNumber],
						  OPR_Buf.WarpCtrl.DisplayBuffer) == OPR_END) {
				return;
			}
			if (SYB_WarpFile[OPR_Buf.WarpCtrl.SelectNumber].Status == SYS_WARP_EMPTY) {	/* ñ¢ìoò^ */
				/* ÇeÇ`ÇwÉèÅ[ÉvÉfÅ[É^ÇãlÇﬂÇÈ */
				ShiftWarpData();
				break;
			}
			/* ÇeÇ`ÇwÉèÅ[Évìoò^î‘çÜÇêiÇﬂÇÈ */
			if (OPR_Buf.WarpCtrl.SelectNumber == (UBYTE)(SYS_WARP_MAX - 1)) {
				OPR_Buf.WarpCtrl.SelectNumber = 0;
			}
			else {
				OPR_Buf.WarpCtrl.SelectNumber++;
			}
			if (is_new == FALSE) {	/* è„èëÇ´ì¸óÕ */
				break;
			}
		}
		if (is_new == TRUE) {	/* êVãKì¸óÕ */
			OPR_Buf.WarpCtrl.SelectNumber = 0;
		}
		/* ÇeÇ`ÇwÉèÅ[Évìoò^êîéÊìæ */
		set_cnt = GetWarpCount();
		if (set_cnt == 0) {
			return;
		}
	}
}

/*************************************************************************
	module		:[ÇeÇ`ÇwÉèÅ[Évìoò^î‘çÜÇÃëIë]
	function	:[
		1.
	]
	return		:[]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[OPR]
	date		:[1999/01/07]
	author		:[ì°ë∫ètïv]
*************************************************************************/
UBYTE	WarpSelectNumber(UBYTE set_cnt)	/* ÇeÇ`ÇwÉèÅ[Évìoò^êî */
{
	UBYTE	key;
	UBYTE	keytype;
	UBYTE	set_no;

	/* êîéöì¸óÕçÏã∆ópÉoÉbÉtÉ@ÉNÉäÉA */
	ClearCharacterInput();

	while (1) {
		/* ÇeÇ`ÇwÉèÅ[Évìoò^î‘çÜëIëíÜÇÃï\é¶ */
		DisplayWarpSelectNumber();

		OPR_GetKey(KEY_WAIT_ONE_MINUTE);
		key = GetInputKeyCode();
		keytype = GetInputKeyType();

		switch (keytype) {
		case KEY_TIME_UP:
		case STOP:
			return (OPR_END);	/* èIóπ */
		case ENTER:
			/* ÇeÇ`ÇwÉèÅ[Évìoò^î‘çÜì¸óÕíÜ */
			if (CharacterInput.CursorPosition > 0) {
				NackBuzzer();
			}
			else {
				return (OPR_CONTINUE);
			}
			break;
		case FUNCTION:
			/* ÇeÇ`ÇwÉèÅ[Évìoò^î‘çÜì¸óÕíÜ */
			if (CharacterInput.CursorPosition > 0) {
				NackBuzzer();
			}
			else {
				/* ÇeÇ`ÇwÉèÅ[Évìoò^î‘çÜÇêiÇﬂÇÈ */
				if (OPR_Buf.WarpCtrl.SelectNumber == set_cnt) {
					OPR_Buf.WarpCtrl.SelectNumber = 0;
				}
				else {
					if (OPR_Buf.WarpCtrl.SelectNumber == (UBYTE)(SYS_WARP_MAX - 1)) {
						OPR_Buf.WarpCtrl.SelectNumber = 0;
					}
					else {
						OPR_Buf.WarpCtrl.SelectNumber++;
					}
				}
			}
			break;
		case LEFT_ARROW:
			/* ÇeÇ`ÇwÉèÅ[Évìoò^î‘çÜì¸óÕíÜ */
			if (CharacterInput.CursorPosition > 0) {
				NackBuzzer();
			}
			else {
				/* ÇeÇ`ÇwÉèÅ[Évìoò^î‘çÜÇñﬂÇ∑ */
				if (OPR_Buf.WarpCtrl.SelectNumber == 0) {
					if (set_cnt == SYS_WARP_MAX) {
						OPR_Buf.WarpCtrl.SelectNumber = (UBYTE)(SYS_WARP_MAX - 1);
					}
					else {
						OPR_Buf.WarpCtrl.SelectNumber = set_cnt;
					}
				}
				else {
					OPR_Buf.WarpCtrl.SelectNumber--;
				}
			}
			break;
		case CLEAR:
			/* ÇeÇ`ÇwÉèÅ[Évìoò^î‘çÜì¸óÕíÜ */
			if (CharacterInput.CursorPosition > 0) {
				CharacterInput.CursorPosition--;
				CharacterInput.Buffer[CharacterInput.CursorPosition] = NULL;
			}
			else {
				if (SYB_WarpFile[OPR_Buf.WarpCtrl.SelectNumber].Status == SYS_WARP_EMPTY) {	/* ñ¢ìoò^ */
					NackBuzzer();
					break;
				}
				/* ÇeÇ`ÇwÉèÅ[ÉvÉfÅ[É^ÇãlÇﬂÇÈ */
				ShiftWarpData();
				/* ÇeÇ`ÇwÉèÅ[Évìoò^êîéÊìæ */
				set_cnt = GetWarpCount();
				if (set_cnt == 0) {
					return (OPR_CONTINUE);
				}
			}
			break;
		case NUMBER:
			CharacterInput.Buffer[CharacterInput.CursorPosition] = key;
			CharacterInput.CursorPosition++;
			if (CharacterInput.CursorPosition == WARP_FIGURE_MAX) {
				set_no = (UBYTE)CMN_ASC_ToUnsignedInt(CharacterInput.Buffer, CharacterInput.CursorPosition);
				if ((UBYTE)(set_no - OPR_WARP_MIN) < 0
				 || (UBYTE)(set_no - OPR_WARP_MIN) > set_cnt
				 || (UBYTE)(set_no - OPR_WARP_MIN) > (UBYTE)(SYS_WARP_MAX - 1)) {
					NackBuzzer();
				}
				else {
					OPR_Buf.WarpCtrl.SelectNumber = (UBYTE)(set_no - OPR_WARP_MIN);
				}
				/* êîéöì¸óÕçÏã∆ópÉoÉbÉtÉ@ÉNÉäÉA */
				ClearCharacterInput();
			}
			break;
#if (PRO_KEYPANEL == PANEL_ANZU_L)	/* ÉAÉìÉYÇkÇæÇØÇÕÅAÉAÉìÉYÇ∆ìÆçÏÇçáÇÌÇπÇ‹Ç∑ by K.Watanabe 1997/11/28 */
		case SINGLE:		/* íPàÍÉIÉyÉåÅ[ÉVÉáÉìÉLÅ[ */
			SingleKeyOperation(key);
			break;
#endif
		case NO_EFFECT:
			break;
		default:
			NackBuzzer();
			break;
		}
	}
}

/*************************************************************************
	module		:[ÇeÇ`ÇwÉèÅ[Évìoò^î‘çÜëIëíÜÇÃï\é¶]
	function	:[
		1.
	]
	return		:[]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[OPR]
	date		:[1999/01/07]
	author		:[ì°ë∫ètïv]
*************************************************************************/
UBYTE	DisplayWarpSelectNumber(void)
{
	/* è„íiï\é¶Åu ﬁ›∫ﬁ≥ ¶ ¥◊›√ﬁ∏¿ﬁª≤ Åv*/
	/* â∫íiï\é¶Åu1:æØƒ ª⁄√≤œæ›       Åv*/

	CMN_MemorySetNULL(FunctionDisplayBufferHigh, OPR_DISPLAY_MAX, ' ');
	CMN_MemorySetNULL(FunctionDisplayBufferLow, OPR_DISPLAY_MAX, ' ');
	CMN_MemorySetNULL(DisplayBufferLow, OPR_DISPLAY_MAX, ' ');

	CMN_StringCopy(FunctionDisplayBufferHigh, D2W_WarpSelectNumber);	/* " ﬁ›∫ﬁ≥ ¶ ¥◊›√ﬁ∏¿ﬁª≤ " */

	/* ÇeÇ`ÇwÉèÅ[Évìoò^î‘çÜì¸óÕíÜ */
	if (CharacterInput.CursorPosition > 0) {
		CMN_StringCopy(FunctionDisplayBufferLow, CharacterInput.Buffer);
	}
	else {
		CMN_MemorySet(OPR_Buf.WarpCtrl.DisplayBuffer, (UWORD)(WARP_FIGURE_MAX + 2), NULL);
		CMN_UnsignedIntToASC(OPR_Buf.WarpCtrl.DisplayBuffer,
							 OPR_Buf.WarpCtrl.SelectNumber + OPR_WARP_MIN,
							 WARP_FIGURE_MAX,
							 '0');
		OPR_Buf.WarpCtrl.DisplayBuffer[WARP_FIGURE_MAX] = ':';
		CMN_StringCopy(FunctionDisplayBufferLow, OPR_Buf.WarpCtrl.DisplayBuffer);
#if (0)	/* ñ¢ìoò^ÇÃèÍçáÅA"æØƒ ª⁄√≤œæ›"Çï\é¶ÇµÇ‹Ç∑ÅBBy H.Fujimura 1999/02/09 */
//		if (SYB_WarpFile[OPR_Buf.WarpCtrl.SelectNumber].Status != SYS_WARP_EMPTY) {	/* ìoò^çœ */
//			SetDialDataToDispBuffer2(OPR_TX_DISPLAY,
//									 SYB_WarpFile[OPR_Buf.WarpCtrl.SelectNumber].Direct,
//									 SYB_WarpFile[OPR_Buf.WarpCtrl.SelectNumber].Onetouch,
//									 SYB_WarpFile[OPR_Buf.WarpCtrl.SelectNumber].Speed,
//									 SYB_WarpFile[OPR_Buf.WarpCtrl.SelectNumber].Group,
//									 DisplayBufferLow);
//			CMN_StringCopyNumNotNULL(&FunctionDisplayBufferLow[WARP_FIGURE_MAX + 1],
//									 DisplayBufferLow,
//									 (UBYTE)(OPR_DISPLAY_MAX - (WARP_FIGURE_MAX + 1)));
//		}
#else
		if (SYB_WarpFile[OPR_Buf.WarpCtrl.SelectNumber].Status == SYS_WARP_EMPTY) {	/* ñ¢ìoò^ */
			CMN_StringCopyNumNotNULL(&FunctionDisplayBufferLow[WARP_FIGURE_MAX + 1],
									 D2W_NoNumberStored,
									 (UBYTE)(OPR_DISPLAY_MAX - (WARP_FIGURE_MAX + 1)));
		}
		else {	/* ìoò^çœ */
			SetDialDataToDispBuffer2(OPR_TX_DISPLAY,
									 SYB_WarpFile[OPR_Buf.WarpCtrl.SelectNumber].Direct,
									 SYB_WarpFile[OPR_Buf.WarpCtrl.SelectNumber].Onetouch,
									 SYB_WarpFile[OPR_Buf.WarpCtrl.SelectNumber].Speed,
									 SYB_WarpFile[OPR_Buf.WarpCtrl.SelectNumber].Group,
									 DisplayBufferLow);
			CMN_StringCopyNumNotNULL(&FunctionDisplayBufferLow[WARP_FIGURE_MAX + 1],
									 DisplayBufferLow,
									 (UBYTE)(OPR_DISPLAY_MAX - (WARP_FIGURE_MAX + 1)));

 #if (PRO_PREFIX_KEY == ENABLE)	/* by K.Watanabe 2004/11/12 */
			/* ÉvÉåÉtÉBÉbÉNÉXî‘çÜìWäJèàóù */
			ChangeDisplayBuffer(FunctionDisplayBufferLow);
 #endif
		}
#endif
	}

	DisplayStringHigh(0, FunctionDisplayBufferHigh);
	DisplayStringLow(0, FunctionDisplayBufferLow);
}

/*************************************************************************
	module		:[ÇeÇ`ÇwÉèÅ[ÉvÉfÅ[É^ÇÃìoò^]
	function	:[
		1.
	]
	return		:[]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[OPR]
	date		:[1999/01/07]
	author		:[ì°ë∫ètïv]
*************************************************************************/
UBYTE	WarpInput(struct SYS_SubDialData_t *WarpFile, UBYTE *DisplayBuffer)
{
	UBYTE	position;

	position = CMN_StringLength(DisplayBuffer);

	if (WarpFile->Status == SYS_WARP_EMPTY) {	/* ñ¢ìoò^ */
		/* ÇeÇ`ÇwÉèÅ[ÉvÉfÅ[É^ÇÃèâä˙âª */
		ClearWarpData(WarpFile);
	}

	/*----------*/
	/* ì]ëóî‘çÜ */
	/*----------*/
	/* è„íiï\é¶Åu01:√›ø≥  ﬁ›∫ﬁ≥      Åv*/
	CMN_MemorySetNULL(FunctionDisplayBufferHigh, OPR_DISPLAY_MAX, ' ');
	CMN_StringCopy(FunctionDisplayBufferHigh, DisplayBuffer);

#if (0)
** 	/* ÇeÇ`ÇwÉèÅ[Évì]ëóêÊî‘çÜópÉèÅ[ÉfÉBÉìÉOïœçX By O.Kimoto 1999/02/08 */
** 	CMN_StringCopyNumNotNULL(&FunctionDisplayBufferHigh[position],
** 							 D2W_AltNumber,
** 							 (UBYTE)(OPR_DISPLAY_MAX - position));
#else
	CMN_StringCopyNumNotNULL(&FunctionDisplayBufferHigh[position],
							 D2W_WarpAltNumber,
							 (UBYTE)(OPR_DISPLAY_MAX - position));
#endif

	DisplayStringHigh(0, FunctionDisplayBufferHigh);

	/* ì]ëóî‘çÜì¸óÕ */
	if (WarpAltNumberInput(WarpFile) == NG) {
		return (OPR_END);	/* èIóπ */
	}

	if (WarpFile->Status == SYS_WARP_EMPTY) {	/* ñ¢ìoò^ */
		/* ÇeÇ`ÇwÉèÅ[ÉvÉfÅ[É^ÇÃèâä˙âª */
		ClearWarpData(WarpFile);
		return (OPR_CONTINUE);
	}

	/*----------*/
	/* éwíËéûçè */
	/*----------*/
	/* è„íiï\é¶Åu01:º√≤ ºﬁ∫∏         Åv*/
	CMN_MemorySetNULL(FunctionDisplayBufferHigh, OPR_DISPLAY_MAX, ' ');
	CMN_StringCopy(FunctionDisplayBufferHigh, DisplayBuffer);
	CMN_StringCopyNumNotNULL(&FunctionDisplayBufferHigh[position],
							 D2W_WarpTime,
							 (UBYTE)(OPR_DISPLAY_MAX - position));
	DisplayStringHigh(0, FunctionDisplayBufferHigh);

	/* éwíËéûçèì¸óÕ */
	if (WarpTimeInput(WarpFile) == NG) {
		return (OPR_END);	/* èIóπ */
	}

	/*--------------*/
	/* ìØéûÉvÉäÉìÉg */
	/*--------------*/
	if (SelectData(DisplayBuffer,
				   D2W_SelectWarpRxDocPrint[0],	/* "   ƒﬁ≥ºﬁ Ãﬂÿ›ƒ: OFF " */
				   2,
				   &WarpFile->Option,
				   WARP_OPTION_PRINT,
				   NO_KEYTYPE) == OPR_CANCELED) {	/* SelectData() à¯êîí«â¡ By S.Fukui Oct.1,1997 */
		return (OPR_END);	/* èIóπ */
	}

	return (OPR_CONTINUE);
}

/*************************************************************************
	module		:[ÇeÇ`ÇwÉèÅ[ÉvÉfÅ[É^Åiì]ëóî‘çÜÅjÇÃì¸óÕ]
	function	:[
		1.
	]
	return		:[]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[OPR]
	date		:[1999/01/07]
	author		:[ì°ë∫ètïv]
*************************************************************************/
UBYTE	WarpAltNumberInput(struct SYS_SubDialData_t *WarpFile)
{
	UBYTE	key;
	UBYTE	keytype;
	UWORD	buf_count;		/* É_ÉCÉÑÉãÉfÅ[É^à íu					*/
	UBYTE	direct_count;	/* íºê⁄É_ÉCÉÑÉãåèêî						*/
#if (PRO_KEYPANEL == PANEL_SATSUKI2) || (PRO_KEYPANEL == PANEL_STOCKHM2) /* Added by SMuratec L.Z.W 2003/09/18 */
	UBYTE	chk_bef_key;
#endif /* End of (PRO_KEYPANEL == PANEL_SATSUKI2) || (PRO_KEYPANEL == PANEL_STOCKHM2) */

	/** èâä˙âª */
	CommandInputInitial();		/* ÉRÉ}ÉìÉhìoò^ópÉoÉbÉtÉ@Çèâä˙âª */
	InputNumber.InputDialType = PROGRAM_DIAL_TYPE;
	SetPinCheckStatus();
	SetDialDataToDispBuffer2(OPR_PROGRAM_DISPLAY,
							 WarpFile->Direct,
							 WarpFile->Onetouch,
							 WarpFile->Speed,
							 WarpFile->Group,
							 InputNumber.Buffer);

	while (1) {
		/* â∫íiï\é¶[123456789_         ] */
		if (CheckChildErrorDisplayReq() == TRUE) {	/* É`ÉÉÉCÉãÉhï\é¶óvãÅóLÇË */
			DisplayChildError();
		}
		else if (CheckChildDisplay() == FALSE) {	/* É`ÉÉÉCÉãÉhï\é¶íÜÇ≈Ç»Ç¢ */
			DisplayCommandNumber();
		}

		/* ÉLÅ[ÇÃéÊÇËçûÇ› */
		OPR_GetKey(KEY_WAIT_ONE_MINUTE);
		key = GetInputKeyCode();
		keytype = GetInputKeyType();

#if (PRO_KEYPANEL == PANEL_SATSUKI2) || (PRO_KEYPANEL == PANEL_STOCKHM2) /* Added by SMuratec L.Z.W 2003/09/18 */
		chk_bef_key = key;
#endif /* End of (PRO_KEYPANEL == PANEL_SATSUKI2) || (PRO_KEYPANEL == PANEL_STOCKHM2) */

		/* íZèkÅEÉOÉãÅ[ÉvÉLÅ[ÇÃíºå„ÇÃÉfÅ[É^ì¸óÕÉ`ÉFÉbÉN */
		if (CheckSpeedGroupAfterEnableKey(keytype) == FALSE) {
			NackBuzzer();
			continue;
		}

#if (PRO_NEW_DIAL_OPR == ENABLE)
		/* ì¸óÕÉfÅ[É^ÅiíZèkÅEÉOÉãÅ[ÉvÅjÇÃìoò^É`ÉFÉbÉN by K.Watanabe 1998/04/02 */
		if (CheckRegistrationData(keytype) == FALSE) {
			NackBuzzer();
			continue;
		}

		/* É_ÉCÉÑÉãÉfÅ[É^ì¸óÕÉ`ÉFÉbÉN by K.Watanabe 1998/03/24 */
		if (CheckInputDialData(keytype) == FALSE) {
			NackBuzzer();
			continue;
		}
#endif

#if (PRO_NEW_DIAL_OPR2 == ENABLE)
		/* íºê⁄É_ÉCÉÑÉãì¸óÕåÖêîÅEåèêîÉ`ÉFÉbÉN by K.Watanabe 1998/04/17 */
		if (CheckInputDirectDial(keytype) == FALSE) {
			NackBuzzer();
			continue;
		}
#endif

		switch (keytype) {	/* éÊÇËçûÇÒÇæÉLÅ[ÇÃÉLÅ[éÌï ñàÇÃèàóù */
		case AST:			/*   *   */
		case NUMBER:		/* 0 - 9 */
		case SHARP:			/*   #   */
			InputNumberTenKeySet(key);
			break;

		case ONETOUCH:		/* ÉèÉìÉ^ÉbÉ`ÉLÅ[ì¸óÕ */
			if (CheckInputOnetouchEnable(key) == TRUE) {
				InputNumberOnetouchSet(key);
			}
			break;

		case SPEED:			/* íZèk */
		case GROUP:			/* ÉOÉãÅ[ÉvÉLÅ[ */
			InputNumberGroupSpeedMarkSet(key);
			break;

		case BROADCAST:		/* ìØïÒÉLÅ[ */
			BroadcastMarkSet();
			break;

		case REDIAL:		/* ÉäÉ_ÉCÉAÉã/É|Å[ÉYÉLÅ[ */
			InputNumberDialMarkSet(PAUSE_MARK);
			break;

#if !defined(JPN) || (PRO_KEYPANEL == PANEL_ANZU_L)
		case FLASH:			/* ÉtÉâÉbÉVÉÖÉLÅ[ */
			InputNumberDialMarkSet(FLASH_MARK);
			break;
#endif

		case FUNCTION:		/* ã@î\ÉLÅ[ */
			/* ÉJÅ[É\Éãà⁄ìÆÅ@Å[ÅÑ */
			InputNumberCursorRight();
			break;

		case LEFT_ARROW:
			/* ÉJÅ[É\Éãà⁄ìÆÅ@ÅÉÅ[ */
			InputNumberCursorLeft();
			break;

		case CLEAR:			/* ÉNÉäÉAÉLÅ[ */
			/* ÉfÅ[É^ÉNÉäÉAé¿çs */
			InputNumberDataClear();
			break;

		case DIALMARK:		/* É_ÉCÉAÉããLçÜÉLÅ[ */
			InputNumberDialCharacterSet();
			break;

#if (PRO_KEYPANEL == PANEL_POPLAR_L || PRO_KEYPANEL == PANEL_SATSUKI2) || (PRO_KEYPANEL == PANEL_STOCKHM2) /* Added by SMuratec L.Z.W 2003/07/25 */
		case TONE:			/* ÉgÅ[ÉìÉLÅ[ 		*/	/* í«â¡ 97/11/13 T.Fukumoto */
			InputNumberDialMarkSet(TONE_MARK);
			break;
#endif

#if defined(GBR) || defined(STOCKHM2) || (PRO_PREFIX_KEY == ENABLE)	/* Added by SMuratec C.P 2004/07/08 for prefix *//* by K.Watanabe 2004/10/12 */
		case MERCURY:		/* É}Å[ÉLÉÖÉäÅ[ÉLÅ[ *//*1996/09/18 Eguchi */
			InputNumberDialMarkSet(MERCURY_MARK);
			break;
#endif
#if defined(DEU)	/* for GroundKey '98/03/11 M.HARADA */
		case GROUND:
			if(CHK_UNI_GroundkeyCheck()){
				InputNumberDialMarkSet(PAUSE_MARK);
			}else{
				NackBuzzer();
			}
			break;
#endif

#if (PRO_MULTI_LINE == ENABLE)
 #if (PRO_KEYPANEL == PANEL_POPLAR_B)	/* by K.Watanabe 1998/01/16 */
		case COPY_RESET:	/* ÉRÉsÅ[ÉäÉZÉbÉgÉLÅ[ */
 #else
		case HOLD:			/* ï€óØÉLÅ[ */
 #endif
			/* ì‡ê¸î‘çÜÇé¶Ç∑ÅuÅIÅvÇï€óØÉLÅ[Ç…Çƒì¸óÕ */
			InputNumberDialMarkSet(MULTI_TEL_MARK);
			break;
#endif

		case KEY_TIME_UP:	/* ÉLÅ[ì¸óÕÇ»ÇµÇ≈ÇPï™ä‘åoâﬂ */
		case STOP:			/* ÉXÉgÉbÉvÉLÅ[ */
			CursorOff();
			return (NG);

		case ENTER:			/* ÉZÉbÉgÉLÅ[ */
			/* ìoò^Ç∑ÇÈî‘çÜÇ™ê≥ÇµÇ¢Ç©Çí≤Ç◊ÇÈ */
			if (CheckCommandNumber() == OK) { /* ê≥ÇµÇ¢ */
				ClearDialNumber2(WarpFile->Direct, WarpFile->Onetouch, WarpFile->Speed, &WarpFile->Group);
				SetDialNumber2(WarpFile->Direct, WarpFile->Onetouch, WarpFile->Speed, &WarpFile->Group);
				WarpFile->Status = SYS_WARP_SETTING;	/* ìoò^çœ */
				CursorOff();
				return (OK);
			}
			else {	/* ì¸óÕílÇ™ê≥ÇµÇ≠Ç»Ç¢ */
				if (InputNumber.WritePosition == 0) { /* ñ¢ì¸óÕÅiÉoÉbÉtÉ@Ç™ãÛ) */
					OPR_ChildErrorFlag = OPR_NO_ERROR;
					WarpFile->Status = SYS_WARP_EMPTY;	/* ñ¢ìoò^ */
					CursorOff();
					return (OK);
				}
				else {
					NackBuzzer();
				}
			}
			break;

#if (PRO_KEYPANEL == PANEL_ANZU_L)	/* ÉAÉìÉYÇkÇæÇØÇÕÅAÉAÉìÉYÇ∆ìÆçÏÇçáÇÌÇπÇ‹Ç∑ by K.Watanabe 1997/11/28 */
		case SINGLE:		/* íPàÍÉIÉyÉåÅ[ÉVÉáÉìÉLÅ[ */
			SingleKeyOperation(key);
			break;
#endif

		case NO_EFFECT:
			break;

		default:
			NackBuzzer();
			break;
		}

		/* åªç›ì¸óÕÇ≥ÇÍÇƒÇ¢ÇÈíºê⁄É_ÉCÉÑÉãÇÃåèêîÇéÊìæÇµÇ‹Ç∑ */
		buf_count = 0;
		direct_count = 0;
		while (buf_count < InputNumber.WritePosition) {	/* ì¸óÕÇ≥ÇÍÇƒÇ¢ÇÈÉfÅ[É^ÇëSÇƒÉ`ÉFÉbÉNÇ∑ÇÈÇ‹Ç≈ */
			if (CheckInputNumberCode(InputNumber.Buffer[buf_count]) == FALSE) {	/* íºê⁄É_ÉCÉÑÉãÇÃéû */
				direct_count++;
			}
			/* éüÇÃÉ_ÉCÉÑÉãÉfÅ[É^Ç‹Ç≈êiÇﬂÇ‹Ç∑ */
			buf_count += GetStringGapPoint(&InputNumber.Buffer[buf_count], ',');
			buf_count++;
		}
		if (direct_count >= 2) {	/* íºê⁄É_ÉCÉÑÉãÇ™ä˘Ç…ÅAç≈ëÂìoò^êîì¸óÕÇ≥ÇÍÇƒÇ¢ÇÈéû */
			/* ÉfÅ[É^ÉNÉäÉAé¿çs */
			InputNumberDataClear();
			OPR_ChildErrorFlag = TOO_MANY_RELAY_DIRECT_ERROR;	/* "¡Æ∏æ¬¿ﬁ≤‘Ÿ 1∂ºÆ ≤≈≤ " */
			NackBuzzer();
		}
	}
}

/*************************************************************************
	module		:[ÇeÇ`ÇwÉèÅ[ÉvÉfÅ[É^ÅiéwíËéûçèÅjÇÃì¸óÕ]
	function	:[
		1.
	]
	return		:[]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[OPR]
	date		:[1999/01/07]
	author		:[ì°ë∫ètïv]
*************************************************************************/
UBYTE	WarpTimeInput(struct SYS_SubDialData_t *WarpFile)
{
	UBYTE	key;
	UBYTE	keytype;

	/* êîéöì¸óÕçÏã∆ópÉoÉbÉtÉ@ÇÃèâä˙âª */
	ClearCharacterInput();
	CharacterInput.WritePosition = 9;
	CMN_MemorySet(CharacterInput.Buffer, 10, '*');
	if (WarpFile->StartWeek != SYS_NO_DAY) {	/* äJénójì˙éwíËóLÇË */
		CharacterInput.Buffer[0] = WarpFile->StartWeek + '0';
	}
	if (WarpFile->StartTime != 0xFFFF) {		/* äJénéûä‘éwíËóLÇË */
		CMN_UnsignedIntToASC(&CharacterInput.Buffer[1], (UWORD)(WarpFile->StartTime/60), 2, '0');
		CMN_UnsignedIntToASC(&CharacterInput.Buffer[3], (UWORD)(WarpFile->StartTime%60), 2, '0');
	}
	if (WarpFile->EndWeek != SYS_NO_DAY) {		/* èIóπójì˙éwíËóLÇË */
		CharacterInput.Buffer[5] = WarpFile->EndWeek + '0';
	}
	if (WarpFile->EndTime != 0xFFFF) {			/* èIóπéûä‘éwíËóLÇË */
		CMN_UnsignedIntToASC(&CharacterInput.Buffer[6], (UWORD)(WarpFile->EndTime/60), 2, '0');
		CMN_UnsignedIntToASC(&CharacterInput.Buffer[8], (UWORD)(WarpFile->EndTime%60), 2, '0');
	}

	while (1) {
		/* ÇeÇ`ÇwÉèÅ[ÉvÉfÅ[É^ÅiéwíËéûçèÅjì¸óÕíÜÇÃï\é¶ */
		DisplayWarpTimeInput();

		OPR_GetKey(KEY_WAIT_ONE_MINUTE);
		key = GetInputKeyCode();
		keytype = GetInputKeyType();

		switch (keytype) {
		case AST:
		case NUMBER:
			if ((CharacterInput.CursorPosition == 0 || CharacterInput.CursorPosition == 5)	/* ójì˙ì¸óÕ */
			 && (key > TEN_6_KEY)) {
				NackBuzzer();
			}
			else {
				FixedNumberDataSet(key);
			}
			break;
		case FUNCTION:
			CursorRightRotation();
			break;
		case LEFT_ARROW:
			CursorLeftRotation();
			break;
		case ENTER:
			/* ÇeÇ`ÇwÉèÅ[ÉvÉfÅ[É^ÅiéwíËéûçèÅjÇÃÉZÉbÉg */
			if (EnterWarpTimeInput(WarpFile) == NG) {
				NackBuzzer();
			}
			else {
				return (OK);
			}
			break;
		case CLEAR:
			CMN_MemorySet(CharacterInput.Buffer, 10, '*');
			CharacterInput.CursorPosition = 0;
			break;
		case STOP:
		case KEY_TIME_UP:
			return (NG);
#if (PRO_KEYPANEL == PANEL_ANZU_L)	/* ÉAÉìÉYÇkÇæÇØÇÕÅAÉAÉìÉYÇ∆ìÆçÏÇçáÇÌÇπÇ‹Ç∑ by K.Watanabe 1997/11/28 */
		case SINGLE:		/* íPàÍÉIÉyÉåÅ[ÉVÉáÉìÉLÅ[ */
			SingleKeyOperation(key);
			break;
#endif
		case NO_EFFECT:
			break;
		default:
			NackBuzzer();
			break;
		}
	}
}

/*************************************************************************
	module		:[ÇeÇ`ÇwÉèÅ[ÉvÉfÅ[É^ÅiéwíËéûçèÅjì¸óÕíÜÇÃï\é¶]
	function	:[
		1.
	]
	return		:[]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[OPR]
	date		:[1999/01/07]
	author		:[ì°ë∫ètïv]
*************************************************************************/
void	DisplayWarpTimeInput(void)
{
	/* â∫íiï\é¶Åu(W) HH:MM--(W) HH:MMÅv*/
	CMN_MemorySetNULL(FunctionDisplayBufferLow, OPR_DISPLAY_MAX, ' ');
	if (CharacterInput.Buffer[0] == '*') {
		CMN_StringCopyNumNotNULL(&FunctionDisplayBufferLow[0], D2W_WarpWeek[7], 3);
	}
	else {
		CMN_StringCopyNumNotNULL(&FunctionDisplayBufferLow[0], D2W_WarpWeek[CharacterInput.Buffer[0]-'0'], 3);
	}
	CMN_StringCopyNumNotNULL(&FunctionDisplayBufferLow[4], &CharacterInput.Buffer[1], 2);
	FunctionDisplayBufferLow[6] = ':';
	CMN_StringCopyNumNotNULL(&FunctionDisplayBufferLow[7], &CharacterInput.Buffer[3], 2);
	FunctionDisplayBufferLow[9] = '-';
	FunctionDisplayBufferLow[10] = '-';
	if (CharacterInput.Buffer[5] == '*') {
		CMN_StringCopyNumNotNULL(&FunctionDisplayBufferLow[11], D2W_WarpWeek[7], 3);
	}
	else {
		CMN_StringCopyNumNotNULL(&FunctionDisplayBufferLow[11], D2W_WarpWeek[CharacterInput.Buffer[5]-'0'], 3);
	}
	CMN_StringCopyNumNotNULL(&FunctionDisplayBufferLow[15], &CharacterInput.Buffer[6], 2);
	FunctionDisplayBufferLow[17] = ':';
	CMN_StringCopyNumNotNULL(&FunctionDisplayBufferLow[18], &CharacterInput.Buffer[8], 2);
	DisplayStringLow(0, FunctionDisplayBufferLow);

	/* ÉJÅ[É\Éãï\é¶Åu(W) HH:MM--(W) HH:MMÅv */
	switch (CharacterInput.CursorPosition) {
	case 0:
		CursorOn((UBYTE)(OPR_LCD_LOWER_ADD + CharacterInput.CursorPosition + 1));
		break;
	case 1:
	case 2:
		CursorOn((UBYTE)(OPR_LCD_LOWER_ADD + CharacterInput.CursorPosition + 3));
		break;
	case 3:
	case 4:
		CursorOn((UBYTE)(OPR_LCD_LOWER_ADD + CharacterInput.CursorPosition + 4));
		break;
	case 5:
		CursorOn((UBYTE)(OPR_LCD_LOWER_ADD + CharacterInput.CursorPosition + 7));
		break;
	case 6:
	case 7:
		CursorOn((UBYTE)(OPR_LCD_LOWER_ADD + CharacterInput.CursorPosition + 9));
		break;
	case 8:
	case 9:
		CursorOn((UBYTE)(OPR_LCD_LOWER_ADD + CharacterInput.CursorPosition + 10));
		break;
	}
}

/*************************************************************************
	module		:[ÇeÇ`ÇwÉèÅ[ÉvÉfÅ[É^ÅiéwíËéûçèÅjÇÃÉZÉbÉg]
	function	:[
		1.
	]
	return		:[]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[OPR]
	date		:[1999/01/07]
	author		:[ì°ë∫ètïv]
*************************************************************************/
UBYTE	EnterWarpTimeInput(struct SYS_SubDialData_t *WarpFile)
{
	UBYTE	start_ast_cnt;
	UBYTE	end_ast_cnt;
	UBYTE	i;
	UBYTE	start_hour;		/* äJénéûä‘ÅiéûÅj*/
	UBYTE	start_minute;	/* äJénéûä‘Åiï™Åj*/
	UBYTE	end_hour;		/* èIóπéûä‘ÅiéûÅj*/
	UBYTE	end_minute;		/* èIóπéûä‘Åiï™Åj*/

	/* ójì˙É`ÉFÉbÉN */
	if (CharacterInput.Buffer[0] == '*' && CharacterInput.Buffer[5] == '*') {		/* ójì˙éwíËñ≥Çµ */
		WarpFile->StartWeek = SYS_NO_DAY;
		WarpFile->EndWeek = SYS_NO_DAY;
	}
	else if (CharacterInput.Buffer[0] != '*' && CharacterInput.Buffer[5] != '*') {	/* ójì˙éwíËóLÇË */
		WarpFile->StartWeek = CharacterInput.Buffer[0] - '0';
		WarpFile->EndWeek = CharacterInput.Buffer[5] - '0';
	}
	else if (CharacterInput.Buffer[0] == '*') {
		CharacterInput.CursorPosition = 0;
		return (NG);
	}
	else {
		CharacterInput.CursorPosition = 5;
		return (NG);
	}

	/* éûä‘É`ÉFÉbÉN */
	start_ast_cnt = 0;
	for (i = 1; i < 5; i++ ){
		if (CharacterInput.Buffer[i] == '*') {
			start_ast_cnt++;
		}
	}
	end_ast_cnt = 0;
	for (i = 6; i < 10; i++ ){
		if (CharacterInput.Buffer[i] == '*') {
			end_ast_cnt++;
		}
	}
	if (start_ast_cnt == 4 && end_ast_cnt == 4) {		/* éûä‘éwíËñ≥Çµ */
		WarpFile->StartTime = 0xFFFF;
		WarpFile->EndTime = 0xFFFF;
	}
	else if (start_ast_cnt == 0 && end_ast_cnt == 0) {	/* éûä‘éwíËóLÇË */
		start_hour = (UBYTE)CMN_ASC_ToUnsignedInt(&CharacterInput.Buffer[1], 2);	/* äJénéûä‘ÅiéûÅj*/
		if (start_hour > 23) {
			CharacterInput.CursorPosition = 1;
			return (NG);
		}
		start_minute = (UBYTE)CMN_ASC_ToUnsignedInt(&CharacterInput.Buffer[3], 2);	/* äJénéûä‘Åiï™Åj*/
		if (start_minute > 59) {
			CharacterInput.CursorPosition = 3;
			return (NG);
		}
		end_hour = (UBYTE)CMN_ASC_ToUnsignedInt(&CharacterInput.Buffer[6], 2);		/* èIóπéûä‘ÅiéûÅj*/
		if (end_hour > 23) {
			CharacterInput.CursorPosition = 6;
			return (NG);
		}
		end_minute = (UBYTE)CMN_ASC_ToUnsignedInt(&CharacterInput.Buffer[8], 2);	/* èIóπéûä‘Åiï™Åj*/
		if (end_minute > 59) {
			CharacterInput.CursorPosition = 8;
			return (NG);
		}
		WarpFile->StartTime = (UWORD)start_hour;
		WarpFile->StartTime *= 60;
		WarpFile->StartTime += (UWORD)start_minute;
		WarpFile->EndTime = (UWORD)end_hour;
		WarpFile->EndTime *= 60;
		WarpFile->EndTime += (UWORD)end_minute;
	}
	else if (start_ast_cnt != 0) {
		CharacterInput.CursorPosition = (UBYTE)(GetStringGapPoint(&CharacterInput.Buffer[1], '*') + 1);
		return (NG);
	}
	else {
		CharacterInput.CursorPosition = (UBYTE)(GetStringGapPoint(&CharacterInput.Buffer[6], '*') + 6);
		return (NG);
	}
	return (OK);
}

/*************************************************************************
	module		:[ÇeÇ`ÇwÉèÅ[Évìoò^êîéÊìæ]
	function	:[
		1.
	]
	return		:[]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[OPR]
	date		:[1999/01/07]
	author		:[ì°ë∫ètïv]
*************************************************************************/
UBYTE	GetWarpCount(void)
{
	UBYTE	i;

	for (i = 0; i < SYS_WARP_MAX; i++) {
		if (SYB_WarpFile[i].Status == SYS_WARP_EMPTY) {	/* ñ¢ìoò^ */
			break;
		}
	}
	return(i);
}

/*************************************************************************
	module		:[ÇeÇ`ÇwÉèÅ[ÉvÉfÅ[É^ÇãlÇﬂÇÈ]
	function	:[
		1.
	]
	return		:[]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[OPR]
	date		:[1999/01/07]
	author		:[ì°ë∫ètïv]
*************************************************************************/
void	ShiftWarpData(void)
{
	UBYTE	loop;
	UBYTE	i;

	for (loop = OPR_Buf.WarpCtrl.SelectNumber; loop < (UBYTE)(SYS_WARP_MAX - 1); loop++) {
		SYB_WarpFile[loop].Status		= SYB_WarpFile[loop+1].Status;
		for (i = 0; i < SYS_TEL_2DIGIT_MAX; i++) {
			SYB_WarpFile[loop].Direct[i] = SYB_WarpFile[loop+1].Direct[i];
		}
		for (i = 0; i < SYS_ONETOUCH_BIT_FIELD_MAX; i++) {
			SYB_WarpFile[loop].Onetouch[i] = SYB_WarpFile[loop+1].Onetouch[i];
		}
		for (i = 0; i < SYS_SPEED_BIT_FIELD_MAX; i++) {
			SYB_WarpFile[loop].Speed[i] = SYB_WarpFile[loop+1].Speed[i];
		}
		SYB_WarpFile[loop].Group		= SYB_WarpFile[loop+1].Group;
		SYB_WarpFile[loop].StartWeek	= SYB_WarpFile[loop+1].StartWeek;
		SYB_WarpFile[loop].EndWeek	= SYB_WarpFile[loop+1].EndWeek;
		SYB_WarpFile[loop].StartTime	= SYB_WarpFile[loop+1].StartTime;
		SYB_WarpFile[loop].EndTime	= SYB_WarpFile[loop+1].EndTime;
		SYB_WarpFile[loop].Option		= SYB_WarpFile[loop+1].Option;
	}
	if (loop == (UBYTE)(SYS_WARP_MAX - 1)) {
		/* ÇeÇ`ÇwÉèÅ[ÉvÉfÅ[É^ÇÃèâä˙âª */
		ClearWarpData(&SYB_WarpFile[loop]);
	}
}

/*************************************************************************
	module		:[ÇeÇ`ÇwÉèÅ[ÉvÉfÅ[É^ÇÃèâä˙âª]
	function	:[
		1.
	]
	return		:[]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[OPR]
	date		:[1999/01/07]
	author		:[ì°ë∫ètïv]
*************************************************************************/
void	ClearWarpData(struct SYS_SubDialData_t *WarpFile)
{
	WarpFile->Status	= SYS_WARP_EMPTY;	/* ñ¢ìoò^ */
	ClearDialNumber2(WarpFile->Direct, WarpFile->Onetouch, WarpFile->Speed, &WarpFile->Group);
	WarpFile->StartWeek	= SYS_NO_DAY;		/* ójì˙éwíËñ≥Çµ */
	WarpFile->EndWeek	= SYS_NO_DAY;		/* ójì˙éwíËñ≥Çµ */
	WarpFile->StartTime	= 0xFFFF;
	WarpFile->EndTime	= 0xFFFF;
	WarpFile->Option	= WARP_OPTION_NONE;	/* ÉIÉvÉVÉáÉìê›íËÇ»Çµ */
}

/*************************************************************************
	module		:[ÇeÇ`ÇwÉèÅ[ÉvÉäÉXÉgÉIÉyÉåÅ[ÉVÉáÉì]
	function	:[
		1.
	]
	return		:[]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[OPR]
	date		:[1999/01/07]
	author		:[ì°ë∫ètïv]
*************************************************************************/
void	PrintFaxWarpList(void)
{
	UBYTE	i;

	for (i = 0; i < SYS_WARP_MAX; i++ ){
		if (SYB_WarpFile[i].Status != SYS_WARP_EMPTY) {	/* ìoò^çœ */
			/* ÉäÉXÉgÉvÉäÉìÉgãNìÆÉÅÉbÉZÅ[ÉWëóêM */
			FinalListPrintOperation(LST_WARP_LIST);
			return;
		}
	}
	NackBuzzer();
	OPR_ChildErrorFlag = NO_STORED_NUMBER_ERROR;	/* "æØƒ ª⁄√≤œæ›         " */
}

/*************************************************************************
	module		:[ÇeÇ`ÇwÉèÅ[Évê›íËÉIÉyÉåÅ[ÉVÉáÉì]
	function	:[
		1.
	]
	return		:[]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[OPR]
	date		:[1999/01/07]
	author		:[ì°ë∫ètïv]
*************************************************************************/
void	SetFaxWarp(void)
{
	/* ÇeÇ`ÇwÉèÅ[ÉvÇnÇmÅ^ÇnÇeÇeêÿÇËë÷Ç¶ */
	if (EnterSettingStatus(D2W_SetFaxWarp,			/* "FAX‹∞Ãﬂ:\0           " */
						   D2W_Off2,				/* "                OFF " */
						   2,
						   SETTING_STATUS_30,
						   OPR_VALID_CHECK_NOT_NEED,
						   WARP_MODE_ON) == OK) {
		ChildDisplaySetCompleted(D2W_EnterFaxWarp);	/* "FAX‹∞Ãﬂ æØƒ         " */
	}
}
#endif	/* (PRO_RX_DOC_TRANSFER == ENABLE) */
