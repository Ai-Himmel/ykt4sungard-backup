/*	By Y.Suzuki 1996/10/21	*/
/*	Original File jun\usr2:\src\kobe\anzu\src\cmnuni_g.h	*/
/************************************************
 * CMNUNI_G.C
 * 機種固有スイッチGの設定状態を獲得する関数
 * 1996/04/11 Eguchi
 ************************************************/
#include "\src\atlanta\define\product.h"
#include "\src\atlanta\define\unisw_g.h"
#include "\src\atlanta\define\uni_pro.h"
#include "\src\atlanta\ext_v\bkupram.h"

/*************************************************************************
	module		:[無音検出無効/有効の獲得]
	function	:[
		1.
	]
	return		:[0    :無効
				  0以外:有効
	]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[CMN]
	date		:[1994/01/11]
	author		:[吉川弘康]
*************************************************************************/
UBYTE CHK_UNI_SilentDetectAvailable(void)
{
	return((UBYTE)(SYB_MachineUniqSwitch[UNIQ_SW_G0] & TAD_SILENT_DETECT_AVAILABLE));
}

/*************************************************************************
	module		:[ＴＥＬ２オフフック後のスタートキーによる手動送信・手動受信無効/有効の獲得]
	function	:[
		1.
	]
	return		:[0    :無効
				  0以外:有効
	]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[V53,H8/300]
	language	:[MS-C(Ver.6.0),H8/300(日立マイコン)]
	keyword		:[CMN]
	date		:[1997/07/09]
	author		:[曽根岡拓]
*************************************************************************/
UBYTE CHK_UNI_TEL2_AvailableStartKey(void)
{
	return((UBYTE)(SYB_MachineUniqSwitch[UNIQ_SW_G0] & TEL2_AVAILABLE_STARTKEY));
}

/*************************************************************************
	module		:[ＴＥＬ２をＴＥＬ１と同じ動作にする/しないの獲得]
	function	:[
		1.
	]
	return		:[0    :無効
				  0以外:有効
	]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[CMN]
	date		:[1997/09/25]
	author		:[橘正樹]
*************************************************************************/
UBYTE CHK_UNI_TEL2_TEL1Action(void)
{
	return((UBYTE)(SYB_MachineUniqSwitch[UNIQ_SW_G0] & TEL2_TEL1ACTION));
}

#if ( PRO_NCU_TYPE == ANZU_GBR_TYPE )	/*	#if defined(GBR) || defined(AUS) || defined(SGP)	1996/10/16 By N.Sakamoto */
/*************************************************************************
	module		:[ HOOK KEYで回線を補足する際などに24Vを常にON(GBR申請用)]
	function	:[
		1.
	]
	return		:[0    :無効
				  0以外:有効
	]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[CMN]
	date		:[1996/07/05]
	author		:[坂本直史]
*************************************************************************/
UBYTE CHK_UNI_OnHook24V_Available(void)
{
	return((UBYTE)(SYB_MachineUniqSwitch[UNIQ_SW_G0] & ON_HOOK_TEL_24V_ON));
}
#endif


/* #if (PRO_LINENUMBER == TWICE_LINE) 1998/06/09 H.Yoshikawa *//* 疑似２回線仕様 by T.Soneoka 1997/12/3 */
/*************************************************************************
	module		:[オフフック時のパネルキーからのダイヤル送出]
	function	:[
		1.
	]
	return		:[0    :パネルからのダイヤル送出不可になります(疑似2回線時、電話中における、他の回線での交信できる)
				  0以外:パネルからのダイヤル送出可になります(疑似2回線時、電話中における、他の回線での交信できない）
	]
	common		:[]
	condition	:[POPLAR_H 疑似２回線のみ]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[CMN]
	date		:[1997/12/3]
	author		:[曽根岡拓]
*************************************************************************/
UBYTE CHK_UNI_TelOpeDialTx(void)
{
	return((UBYTE)(SYB_MachineUniqSwitch[UNIQ_SW_G0] & TEL_OPE_DIAL_TX));
}
/* #endif */

/*************************************************************************
	module		:[留守／ＦＡＸ待機時に秘話機能を有効にする]
	function	:[
		1.
	]
	return		:[0    :無効
				  0以外:有効
	]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[CMN]
	date		:[1997/03/31]
	author		:[山口]
*************************************************************************/
UBYTE CHK_UNI_SecretTelAnsFax(void)
{
	return((UBYTE)(SYB_MachineUniqSwitch[UNIQ_SW_G0] & SECRET_TEL_OPE_ANS_FAX));
}


/*************************************************************************
	module		:[]
	function	:[
		1.
	]
	return		:[0    :無効
				  0以外:有効
	]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[CMN]
	date		:[1996/07/05]
	author		:[坂本直史]
*************************************************************************/
UBYTE CHK_UNI_FlashKeyOnOffTime(void)
{
	return((UBYTE)(SYB_MachineUniqSwitch[UNIQ_SW_G1]));
}

/*************************************************************************
	module		:[無鳴動着信待機の時に、ＴＥＬ２の共鳴り防止の為に２４Ｖを制御する／しないの獲得]
	function	:[
		1.無鳴動着信時の待機状態でＴＥＬ２のリレーを回線から切り離す処理もする。
	]
	return		:[0    :しない
				  0以外:する
	]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[V53,H8/300]
	language	:[MS-C(Ver.6.0),H8/300(日立マイコン)]
	keyword		:[CMN]
	date		:[1996/05/15]
	author		:[吉川弘康]
*************************************************************************/
UBYTE CHK_UNI_NoRingTel2Detachable(void)
{
	return((UBYTE)(SYB_MachineUniqSwitch[UNIQ_SW_G4] & NORING_TEL2_DETACHABLE));
}

/*************************************************************************
	module		:[ＤＳＥの検出により擬似ベルを停止するかどうかの獲得]
	function	:[
		1.
	]
	return		:[0    :無効（停止しない）
				  0以外:有効（停止する）
	]
	common		:[]
	condition	:[]
	comment		:[
		ダイヤルイン待機とTEL/FAX待機
	]
	machine		:[V53,H8/300]
	language	:[MS-C(Ver.6.0),H8/300(日立マイコン)]
	keyword		:[CMN]
	date		:[1994/07/25]
	author		:[平岡徹]
*************************************************************************/
UBYTE CHK_UNI_DetectDSE_Available(void)
{
	return((UBYTE)(SYB_MachineUniqSwitch[UNIQ_SW_G5] & DETECT_DSE_AVAILABLE));

}

/*************************************************************************
	module		:[TEL/FAX待機の擬似ベル停止条件の獲得]
	function	:[
		1.
	]
	return		:[0    :極反
				  0以外:瞬断
	]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[V53,H8/300]
	language	:[MS-C(Ver.6.0),H8/300(日立マイコン)]
	keyword		:[CMN]
	date		:[1994/10/11]
	author		:[平岡徹]
*************************************************************************/
UBYTE CHK_UNI_GenerateRingStopCond(void)
{
	return((UBYTE)(SYB_MachineUniqSwitch[UNIQ_SW_G5] & RING_STOP_CONDITION));
}

/*************************************************************************
	module		:[DSEの反転を検出する周期の獲得]
	function	:[
		1.
	]
	return		:[0x00  :  3ms
				  0x20  :  5ms
				  0x40  : 10ms
				  0x60  : 15ms
	]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[V53,H8/300]
	language	:[MS-C(Ver.6.0),H8/300(日立マイコン)]
	keyword		:[CMN]
	date		:[1994/10/11]
	author		:[平岡徹]
*************************************************************************/
UBYTE CHK_UNI_DSE_DetectCycle(void)
{
	return((UBYTE)(SYB_MachineUniqSwitch[UNIQ_SW_G5] & (DSE_CYCLE_L | DSE_CYCLE_H)));
}

/*************************************************************************
	module		:[ダイヤル・イン着信後ＯＦＦ　ＨＯＯＫ検出でＣＭＬリレーを倒す]
	function	:[
		1.
	]
	return		:[0    :倒す
				  0以外:倒さない
	]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[V53,H8/300]
	language	:[MS-C(Ver.6.0),H8/300(日立マイコン)]
	keyword		:[CMN]
	date		:[1994/07/19]
	author		:[坂本直史]
*************************************************************************/
UBYTE CHK_UNI_DialInCMLOnAfterOffHook(void)
{
	return((UBYTE)(SYB_MachineUniqSwitch[UNIQ_SW_G6] & DIALIN_CML_ON_AFTER_OFF_HOOK ));
}

/*************************************************************************
	module		:[ダイヤルインでDTMF検出後内線指定完了信号(CML OFF)までの時間の獲得]
	function	:[
		1.
	]
	return		:[40 :400ms
				  70 :700m秒
				  100:1000m秒
				  130:1300m秒
	]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[V53,H8/300]
	language	:[MS-C(Ver.6.0),H8/300(日立マイコン)]
	keyword		:[CMN]
	date		:[1994/03/11]
	author		:[吉川弘康]
*************************************************************************/
UBYTE CHK_UNI_DialinPBX_RxSignalTime(void)
{
	return((UBYTE)(((SYB_MachineUniqSwitch[UNIQ_SW_G6] & ( DIALIN_PBX_RX_SIGNAL_TIME1 | DIALIN_PBX_RX_SIGNAL_TIME2 )) >> 6) * 30 + 40));
}


#if (PRO_LINENUMBER == TWICE_LINE)/* V851 By Y.Suzuki 2002/09/19 */
/*************************************************************************
	module		:[CI検出時間を10秒から変更する。]
	function	:[
		1.G6-0 1 7秒  0 5秒
		  G6-1 0      1
	]
	return		:[
	]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[CMN]
	date		:[]
	author		:[]
*************************************************************************/
UBYTE CHK_UNI_CHG_CI_DetectTime(void)
{
	return((UBYTE)(SYB_MachineUniqSwitch[UNIQ_SW_G6] & 0x03));
}
#endif


/*************************************************************************
	module		:[留守／ＦＡＸ待機時のＰＢ信号検出桁数]
	function	:[
		1.
	]
	return		:[０〜１５：０の時は検出無効
	]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[CMN]
	date		:[1997/11/13]
	author		:[山口哲治]
*************************************************************************/
UBYTE CHK_UNI_AnsFaxDTMFDetect(void)
{
	return((UBYTE)(SYB_MachineUniqSwitch[UNIQ_SW_G7] & 0x0F));
}

#if (PRO_REMOTE_RX == ENABLE)	/* 1998/01/24  By T.Yamaguchi */
/*************************************************************************
	module		:[リモート受信時のＤＰ信号検出時検出番号以上でリモート受信する]
	function	:[
		1.
	]
	return		:[０：無効、１：有効
	]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[CMN]
	date		:[1997/11/13]
	author		:[山口哲治]
*************************************************************************/
UBYTE CHK_UNI_DP_DetectMore(void)
{
	return((UBYTE)(SYB_MachineUniqSwitch[UNIQ_SW_G8] & DP_DETECT_MORE));
}

/*************************************************************************
	module		:[リモート受信時のＤＰ信号検出番号獲得]
	function	:[
		1.
	]
	return		:[０〜１５：初期値５
	]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[CMN]
	date		:[1997/11/13]
	author		:[山口哲治]
*************************************************************************/
UBYTE CHK_UNI_DP_DetectNumber(void)
{
	return((UBYTE)((SYB_MachineUniqSwitch[UNIQ_SW_G8] & 0xF0) >> 4));
}

/*************************************************************************
	module		:[リモート受信時のＰＢ信号３桁目検出番号獲得]
	function	:[
		1.
	]
	return		:[0,*(0xb),#(0xc)：初期値　０（無効)
	]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[CMN]
	date		:[1997/11/13]
	author		:[山口哲治]
*************************************************************************/
UBYTE CHK_UNI_DTMF_ThirdNumber(void)
{
	switch(SYB_MachineUniqSwitch[UNIQ_SW_G9] & DTMF_THIRD_NUMBER) {
	case 0:
		return(0);		/* ２桁のみ検出 */
	case 1:
	case 3:
		return(0xB);	/* ３桁目の検出番号＊ */
	case 2:
		return(0xC);	/* ３桁目の検出番号＃ */
	}
}

/*************************************************************************
	module		:[リモート受信時のＰＢ信号間の時間獲得]
	function	:[
		1.
	]
	return		:[０〜１５：秒単位　初期値３秒
	]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[CMN]
	date		:[1997/11/13]
	author		:[山口哲治]
*************************************************************************/
UBYTE CHK_UNI_Between_DTMFandDTMF(void)
{
	return((UBYTE)((SYB_MachineUniqSwitch[UNIQ_SW_G9] & 0xF0) >> 4));
}
#endif	/* (PRO_REMOTE_RX == ENABLE) */

#if (PRO_CSDR_ITEM == ENABLE)
/*************************************************************************
	module		:[着信ベル回数拡張]
	function	:[
		1.
	]
	return		:[
				０    ：拡張なし（１〜１０）
				０以外：拡張有り（１から１５）
	]
	common		:[]
	condition	:[]
	comment		:[
			【CSDR-No.86】着信ベル回数を１から１５回に拡張（JPN Only）
	]
	machine		:[V53,H8/300]
	language	:[CH38(V.2.0B)]
	keyword		:[CMN]
	ProtoType	:[UBYTE CHK_UNI_ExtendedCallCount(void){}]
	date		:[1998/12/15]
	author		:[木元  修]
*************************************************************************/
UBYTE CHK_UNI_ExtendedCallCount(void)
{
	return((UBYTE)(SYB_MachineUniqSwitch[UNIQ_SW_G3] & CSDR_EXTENDED_CALL_COUNT));
}
#endif

#if (PRO_BT_DET_WHILE_RBT == ENABLE) /* 疑似ベル鳴動中のBusyTone検出 2001/10/03 M.Matsumoto *//* Add By O.Kimoto 2002/03/11 */
/*************************************************************************
	module		:[]
	function	:[
		1.
	]
	return		:[
	]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[CMN]
	date		:[2001/10/03]
	author		:[松本正幸]
*************************************************************************/
UBYTE CHK_UNI_DetectBusyTone(void)
{
	if (SYB_MachineUniqSwitch[UNIQ_SW_G7] & DET_BT_WHILE_RBT) {
		return (1);
	}
	else {
		return (0);
	}

}
/*************************************************************************
	module		:[]
	function	:[ビジートーン検出をRBT1回鳴動の後にするかどうか]
	return		:[TRUE:擬似ベル鳴動前, FALSE:擬似ベル1回鳴動後]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[CMN]
	date		:[2001/12/20]
	author		:[大島修]
*************************************************************************/
UBYTE CHK_UNI_DetectBusySameTime(void)
{
	if (SYB_MachineUniqSwitch[UNIQ_SW_G7] & DET_BT_SAME_TIME) {
		return (1);
	}
	else {
		return (0);
	}
}
#endif

#if (PRO_VOICE_ANSWER == ENABLE)/* 疑似ベル鳴動中のBusyTone検出 By O.Kimoto 2003/12/01 */
 #if (PRO_MODEM == R288F) || (PRO_MODEM == MN195006)	/* ORANGE以外のモデム Modified by J.Kishida 2002/09/10 */
/*************************************************************************
	module		:[]
	function	:[
		1.
	]
	return		:[0:BusyTone検出する	1:BusyTone検出しない
	]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[CMN]
	date		:[2001/10/03]
	author		:[松本正幸]
*************************************************************************/
UBYTE CHK_UNI_IgnoreBusyTone(void)
{
	if (SYB_MachineUniqSwitch[UNIQ_SW_G7] & IGNORE_BT_ON_VOICE_MODE) {
		return (1);
	}
	else {
		return (0);
	}

}

 #endif
#endif

#if (PRO_BT_DET_WHILE_RBT == ENABLE) || (PRO_VOICE_ANSWER == ENABLE)
/*************************************************************************
	module		:[TEL/FAX,FAX/TEL時のBusyTone検出周期延長]
	function	:[
		1.
	]
	return		:[０〜１５
	]
	common		:[]
	condition	:[]
	comment		:[]
	machine		:[SH7043]
	language	:[SHC]
	keyword		:[CMN]
	date		:[2003/12/05]
	author		:[木元修]
*************************************************************************/
UBYTE CHK_UNI_ExtendBusyToneDetectTime(void)
{
	return((UBYTE)((SYB_MachineUniqSwitch[UNIQ_SW_G2] & 0xF0) >> 4));
}
#endif

