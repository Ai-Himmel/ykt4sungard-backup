<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping package="com.kingstargroup.conference.hibernate.form" schema="YKT_CONF">
    <class name="TConference" table="T_CONFERENCE">
        <id name="conId" type="long">
            <column name="CON_ID" precision="6" scale="0" />
            <generator class="native"></generator>
        </id>
        <property name="conName" type="string">
            <column name="CON_NAME" length="120" />
        </property>
        <property name="roomId" type="string">
            <column name="ROOM_ID" length="8" />
        </property>
        <property name="typeName" type="string">
            <column name="TYPE_NAME" length="90" />
        </property>
        <property name="conBegindate" type="string">
            <column name="CON_BEGINDATE" length="8" />
        </property>
        <property name="conSigntime" type="string">
            <column name="CON_SIGNTIME" length="6" />
        </property>
        <property name="conBegintime" type="string">
            <column name="CON_BEGINTIME" length="6" />
        </property>
        <property name="conEnddate" type="string">
            <column name="CON_ENDDATE" length="8" />
        </property>
        <property name="conEndtime" type="string">
            <column name="CON_ENDTIME" length="6" />
        </property>
        <property name="organigerId" type="string">
            <column name="ORGANIGER_ID" length="10" />
        </property>
        <property name="compere" type="string">
            <column name="COMPERE" length="20" />
        </property>
        <property name="conExplain" type="string">
            <column name="CON_EXPLAIN" length="300" />
        </property>
        <property name="ifSerecy" type="string">
            <column name="IF_SERECY" length="1" />
        </property>
        <property name="status" type="string">
            <column name="STATUS" length="1" />
        </property>
        <property name="content" type="string">
            <column name="CONTENT" length="3000" />
        </property>
        <property name="comments" type="string">
            <column name="COMMENTS" length="100" />
        </property>
        <property name="preplan1" type="string">
            <column name="PREPLAN_1" length="50" />
        </property>
        <property name="preplan2" type="string">
            <column name="PREPLAN_2" length="50" />
        </property>
        <property name="preplan3" type="string">
            <column name="PREPLAN_3" length="50" />
        </property>
    </class>
    
      <class name="DeptCustForm">
        <id name="custId" type="integer">
            <generator class="assigned" />
        </id>
        <property name="deptCode" type="string" />
        <property name="deptName" type="string" />
        <property name="custName" type="string" />
    </class>
    
      <sql-query name="getConferenceSQL">
        <return-scalar column="conId" type="integer"/>
        <return-scalar column="conName" type="string"/>
        <return-scalar column="roomId" type="string"/>
        <return-scalar column="roomName" type="string"/>
        <return-scalar column="address" type="string"/>
        <return-scalar column="typeName" type="string"/>
        <return-scalar column="signTime" type="string"/>
        <return-scalar column="beginDate" type="string"/>
        <return-scalar column="beginTime" type="string"/>
        <return-scalar column="endDate" type="string"/>
        <return-scalar column="endTime" type="string"/>
        <return-scalar column="deptName" type="string"/>
        <return-scalar column="orgId" type="string"/>
        <return-scalar column="compere" type="string"/>
        <return-scalar column="explain" type="string"/>
        <return-scalar column="serecy" type="string"/>
        <return-scalar column="status" type="string"/>
        <return-scalar column="content" type="string"/>
        <return-scalar column="comments" type="string"/>
        select conf.con_Id as conId, 
        conf.con_Name as conName, 
        conf.room_Id as roomId,
        room.room_Name as roomName,
        room.address as address,
        conf.type_Name as typeName, 
        conf.con_signtime as signTime,
        conf.con_Begindate as beginDate, 
        conf.con_Begintime as beginTime, 
        conf.con_Enddate as endDate,
        conf.con_Endtime as endTime,
        dept.deptname as deptName,
        conf.organiger_Id as orgId, 
        conf.compere as compere,
        conf.con_Explain as explain, 
        conf.if_Serecy as serecy, 
        conf.status as status,
        conf.content as content, 
        conf.comments as comments 
        from ykt_conf.T_Conference conf,ykt_cur.T_Dept dept,ykt_conf.T_Assembly_Room room
         where conf.room_Id = room.room_Id and conf.organiger_Id=dept.deptcode
         and conf.status!='9'
         and conf.organiger_Id in (select dept_Id from ykt_conf.T_Dept_Limit where oper_Code=:opercode)
         order by conf.con_Begindate desc
    </sql-query>   
</hibernate-mapping>
