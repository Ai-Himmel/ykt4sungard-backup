<?xml version="1.0" encoding='UTF-8'?>
<!DOCTYPE hibernate-mapping PUBLIC
                            "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
                            "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" >

<!-- DO NOT EDIT: This is a generated file that is synchronized -->
<!-- by MyEclipse Hibernate tool integration.                   -->
<!-- Created Wed Oct 19 14:04:21 CST 2005                         -->
<hibernate-mapping package="com.kingstargroup.advquery.customer" schema="ykt_cur">

    <class name="TCifCustomer" table="T_CIF_CUSTOMER">
        <id name="cutId" column="CUT_ID" type="integer">
            <generator class="assigned"/>
        </id>
 
        <property name="cutType" column="CUT_TYPE" type="integer" />
        <property name="cutState" column="CUT_STATE" type="integer"  not-null="true" />
        <property name="cutName" column="CUT_NAME" type="string" />
        <property name="password" column="PASSWORD" type="string" />
        <property name="area" column="AREA" type="integer" />
        <property name="libCardid" column="LIB_CARDID" type="string" />
        <property name="isHavecard" column="IS_HAVECARD" type="string" />
        <property name="stuempNo" column="STUEMP_NO" type="string" />
        <property name="classdeptNo" column="CLASSDEPT_NO" type="string" />
        <property name="classdeptName" column="CLASSDEPT_NAME" type="string" />
        <property name="scode" column="S_CODE" type="string" />
        <property name="man" column="MAN" type="string" />
        <property name="sex" column="SEX" type="string" />
        <property name="nation" column="NATION" type="integer" />
        <property name="manId" column="MAN_ID" type="string" />
        <property name="tel" column="TEL" type="string" />
        <property name="address" column="ADDRESS" type="string" />
        <property name="regTime" column="REG_TIME" type="string"  not-null="true" />
        <property name="canTime" column="CAN_TIME" type="string" />
        <property name="comments" column="COMMENTS" type="string" />
        <property name="feeType" column="FEE_TYPE" type="integer" />
        <property name="batchNo" column="BATCH_NO" type="string" />
        <property name="classNo" column="CLASS_NO" type="string" />
        <property name="medFeetype" column="MED_FEETYPE" type="string" />
        <property name="inDate" column="IN_DATE" type="string" />
        <property name="buildingNo" column="BUILDING_NO" type="string" />
        <property name="floorNo" column="FLOOR_NO" type="string" />
        <property name="roomNo" column="ROOM_NO" type="string" />
        <property name="updDate" column="UPD_DATE" type="string" />
        <property name="updTime" column="UPD_TIME" type="string" />
        <property name="synTime" column="SYN_TIME" type="string" />
    </class>
    
     <sql-query name="getNoRegisterStudent">
     <return-scalar  type="string" column="cut_id"></return-scalar>
     <return-scalar  type="string" column="cut_type"></return-scalar>
     <return-scalar  type="string" column="reg_id"></return-scalar>
               select cut_id,cut_type, reg_id  from (
				select cut_id,cut_type from  ykt_cur.t_cif_customer cust where cust.rowid not in (
				select c.rowid
				from ykt_cur.t_cif_customer c,ykt_cur.t_tif_register_schoolterm t,ykt_cur.t_tif_registration g
				where c.cut_id=g.cust_id and t.reg_id=g.reg_id  and t.reg_id  in  (?)
				and cust.at_school=1 and cust.CLASS_NO is not null) )w
				inner join t_tif_register_schoolterm term  on term.cuttype = w.cut_type
				and term.reg_id in (?);
				
     </sql-query>
     
</hibernate-mapping>
